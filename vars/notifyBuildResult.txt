Send an email message with a summary of the build result,
and send some data to Elastic search.

Besides, if there are checkout environmental issues then it will rebuild the pipeline.

```
notifyBuildResult()
```

```
notifyBuildResult(es: 'http://elastisearch.example.com:9200', secret: 'secret/team/ci/elasticsearch')
```
* es: Elasticserach URL to send the report.
* secret: vault secret used to access to Elasticsearch, it should have `user` and `password` fields.
* to: Array of emails to notify. Optional. Default value uses `env.NOTIFY_TO` which will add a suffix to the distribution list with the folder name or env.REPO
* statsURL: Kibana URL where you can check the stats sent to Elastic search.
* shouldNotify: boolean value to decide to send or not the email notifications, by default it send
emails on Failed builds that are not pull request.
* prComment: Whether to add a comment in the PR with the build summary as a comment. Default: `true`.
* rebuild: Whether to rebuild the pipeline in case of any environmental issues. Default true
* downstreamJobs: The map of downstream jobs that were launched within the upstream pipeline. Default empty.
