jenkins:
  systemMessage: "Configured automatically with JCasC plugin\n\n"
  crumbIssuer:
    standard:
      excludeClientIPFromCrumb: false
  labelString: flyweight
  mode: EXCLUSIVE
  numExecutors: 5
  remotingSecurity:
    enabled: false
  scmCheckoutRetryCount: 2
  nodes:
  - permanent:
      labelString: "linux immutable docker"
      launcher:
        jnlp:
          workDirSettings:
            disabled: true
            failIfWorkDirIsMissing: false
            internalDir: "remoting"
            workDirPath: "/tmp"
      name: "local"
      numExecutors: 2
      remoteFS: "/tmp"
      retentionStrategy: "always"

credentials:
  system:
    domainCredentials:
      - credentials:
          - basicSSHUserPrivateKey:
              description: GitHub user @${github_username} SSH key
              id: f6c7695a-671e-4f4f-a331-acdce44ff9ba
              passphrase: ${github_ssh_key_passphrase}
              privateKeySource:
                directEntry:
                  privateKey: ${github_ssh_key_privatekey}
              scope: GLOBAL
              username: ${github_username}
          - string:
              description: GitHub user @${github_username} Personal Access Token
              id: 2a9602aa-ab9f-4e52-baf3-b71ca88469c7
              scope: GLOBAL
              secret: ${github_personal_access_token}
          - string:
              description: Vault URL to access secrets.
              id: vault-addr
              scope: GLOBAL
              secret: ${vault_addr}
          - usernamePassword:
              description: GitHub user @${github_username} User + Personal Access Token
              id: 2a9602aa-ab9f-4e52-baf3-b71ca88469c7-UserAndToken
              password: ${github_personal_access_token}
              scope: GLOBAL
              username: ${github_username}
          - string:
              description: Vault id to access secrets.
              id: vault-role-id
              scope: GLOBAL
              secret: ${vault_role_id}
          - string:
              description: Vault secret to access secrets.
              id: vault-secret-id
              scope: GLOBAL
              secret: ${vault_secret_id}
          - string:
              description: Who to notify to.
              id: notify-to
              scope: GLOBAL
              secret: ${notify_to}
          - string:
              description: gcs_bucket
              id: gcs-bucket
              scope: GLOBAL
              secret: ${gcs_bucket}

unclassified:
  location:
    adminAddress: robots@elastic.co
    url: http://localhost:18080/
  globalLibraries:
    libraries:
      - name: "apm"
        defaultVersion: "current"
        implicit: true
        retriever:
          legacySCM:
            scm:
              filesystem:
                clearWorkspace: false
                copyHidden: false
                path: "/var/jenkins_home/workflow-libs/pipeline-library"
                filterSettings:
                  includeFilter: false
                  selectors:
                  - wildcard: "target/**"
jobs:
  - file: "/var/jenkins_home/workflow-libs/pipeline-library/src/test/resources/folders/it.dsl"
  - file: "/var/jenkins_home/workflow-libs/pipeline-library/src/test/resources/jobs/gitCheckout.dsl"
  - file: "/var/jenkins_home/workflow-libs/pipeline-library/src/test/resources/jobs/isTimerTrigger.dsl"
  - file: "/var/jenkins_home/workflow-libs/pipeline-library/src/test/resources/jobs/isUserTrigger.dsl"
  - file: "/var/jenkins_home/workflow-libs/pipeline-library/src/test/resources/jobs/log.dsl"
