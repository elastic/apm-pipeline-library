[2019-05-23T16:37:45.180Z] Push event to branch master
[2019-05-23T16:37:45.180Z] Connecting to https://api.github.com using elasticmachine/****** (GitHub user @elasticmachine User + Personal Access Token)
[2019-05-23T16:37:46.040Z] Obtained Jenkinsfile from 8a2fd55f40dbcb279911e3f2237312baf1508019
[2019-05-23T16:37:46.040Z] Resume disabled by user, switching to high-performance, low-durability mode.
[2019-05-23T16:37:46.077Z] Loading library apm@current
[2019-05-23T16:37:46.077Z] Attempting to resolve current from remote references...
[2019-05-23T16:37:46.077Z]  > git --version # timeout=10
[2019-05-23T16:37:46.085Z] using GIT_SSH to set credentials GitHub user @elasticmachine SSH key
[2019-05-23T16:37:46.086Z]  > git ls-remote -h git@github.com:elastic/apm-pipeline-library.git # timeout=10
[2019-05-23T16:37:46.601Z] Could not find current in remote references. Pulling heads to local for deep search...
[2019-05-23T16:37:46.601Z]  > git rev-parse --is-inside-work-tree # timeout=10
[2019-05-23T16:37:46.611Z] Setting origin to git@github.com:elastic/apm-pipeline-library.git
[2019-05-23T16:37:46.611Z]  > git config remote.origin.url git@github.com:elastic/apm-pipeline-library.git # timeout=10
[2019-05-23T16:37:46.619Z] Fetching origin...
[2019-05-23T16:37:46.619Z] Fetching upstream changes from origin
[2019-05-23T16:37:46.619Z]  > git --version # timeout=10
[2019-05-23T16:37:46.627Z]  > git config --get remote.origin.url # timeout=10
[2019-05-23T16:37:46.636Z] using GIT_SSH to set credentials GitHub user @elasticmachine SSH key
[2019-05-23T16:37:46.637Z]  > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
[2019-05-23T16:37:47.184Z]  > git rev-parse current^{commit} # timeout=10
[2019-05-23T16:37:47.191Z]  > git branch -a -v --no-abbrev --contains d8f5a1aca24a04b95a6685d1354af4d03e54201c # timeout=10
[2019-05-23T16:37:47.203Z] Selected match: master revision d8f5a1aca24a04b95a6685d1354af4d03e54201c
[2019-05-23T16:37:47.209Z] using credential f6c7695a-671e-4f4f-a331-acdce44ff9ba
[2019-05-23T16:37:47.246Z]  > git rev-parse --is-inside-work-tree # timeout=10
[2019-05-23T16:37:47.258Z] Fetching changes from the remote Git repository
[2019-05-23T16:37:47.258Z]  > git config remote.origin.url git@github.com:elastic/apm-pipeline-library.git # timeout=10
[2019-05-23T16:37:47.267Z] Fetching without tags
[2019-05-23T16:37:47.267Z] Fetching upstream changes from git@github.com:elastic/apm-pipeline-library.git
[2019-05-23T16:37:47.267Z]  > git --version # timeout=10
[2019-05-23T16:37:47.274Z] using GIT_SSH to set credentials GitHub user @elasticmachine SSH key
[2019-05-23T16:37:47.276Z]  > git fetch --no-tags --progress git@github.com:elastic/apm-pipeline-library.git +refs/heads/*:refs/remotes/origin/*
[2019-05-23T16:37:48.281Z] Checking out Revision d8f5a1aca24a04b95a6685d1354af4d03e54201c (master)
[2019-05-23T16:37:48.281Z]  > git config core.sparsecheckout # timeout=10
[2019-05-23T16:37:48.289Z]  > git checkout -f d8f5a1aca24a04b95a6685d1354af4d03e54201c
[2019-05-23T16:37:48.448Z] Commit message: "[APM-CI] Implement a withSecretVault step (#51)"
[2019-05-23T16:37:50.390Z] [Pipeline] Start of Pipeline
[2019-05-23T16:37:50.590Z] [Pipeline] node
[2019-05-23T16:37:50.593Z] Running on Jenkins in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:37:50.601Z] [Pipeline] {
[2019-05-23T16:37:50.629Z] [Pipeline] stage
[2019-05-23T16:37:50.631Z] [Pipeline] { (Declarative: Checkout SCM)
[2019-05-23T16:37:50.661Z] [Pipeline] checkout
[2019-05-23T16:37:50.664Z] using credential 2a9602aa-ab9f-4e52-baf3-b71ca88469c7-UserAndToken
[2019-05-23T16:37:50.694Z]  > git rev-parse --is-inside-work-tree # timeout=10
[2019-05-23T16:37:50.706Z] Fetching changes from the remote Git repository
[2019-05-23T16:37:50.706Z]  > git config remote.origin.url https://github.com/elastic/apm-server.git # timeout=10
[2019-05-23T16:37:50.714Z] Fetching without tags
[2019-05-23T16:37:50.714Z] Fetching upstream changes from https://github.com/elastic/apm-server.git
[2019-05-23T16:37:50.714Z]  > git --version # timeout=10
[2019-05-23T16:37:50.724Z] using GIT_ASKPASS to set credentials GitHub user @elasticmachine User + Personal Access Token
[2019-05-23T16:37:50.725Z]  > git fetch --no-tags --progress https://github.com/elastic/apm-server.git +refs/heads/master:refs/remotes/origin/master
[2019-05-23T16:37:52.302Z] Checking out Revision 8a2fd55f40dbcb279911e3f2237312baf1508019 (master)
[2019-05-23T16:37:52.302Z]  > git config core.sparsecheckout # timeout=10
[2019-05-23T16:37:52.309Z]  > git checkout -f 8a2fd55f40dbcb279911e3f2237312baf1508019
[2019-05-23T16:37:52.504Z] Commit message: "fix 7.x changelog links (#2207)"
[2019-05-23T16:37:52.504Z]  > git rev-list --no-walk 3c8df64ca78da14831686ef12397bb7cb2dbece2 # timeout=10
[2019-05-23T16:37:53.021Z] [Pipeline] }
[2019-05-23T16:37:53.033Z] [Pipeline] // stage
[2019-05-23T16:37:53.052Z] [Pipeline] withEnv
[2019-05-23T16:37:53.053Z] [Pipeline] {
[2019-05-23T16:37:53.079Z] [Pipeline] withCredentials
[2019-05-23T16:37:53.121Z] Masking only exact matches of $JOB_GCS_BUCKET or $NOTIFY_TO
[2019-05-23T16:37:53.122Z] [Pipeline] {
[2019-05-23T16:37:53.141Z] [Pipeline] withEnv
[2019-05-23T16:37:53.142Z] [Pipeline] {
[2019-05-23T16:37:53.159Z] [Pipeline] timeout
[2019-05-23T16:37:53.159Z] Timeout set to expire in 1 hr 0 min
[2019-05-23T16:37:53.160Z] [Pipeline] {
[2019-05-23T16:37:53.175Z] [Pipeline] timestamps
[2019-05-23T16:37:53.176Z] The timestamps step is unnecessary when timestamps are enabled for all Pipeline builds.
[2019-05-23T16:37:53.176Z] [Pipeline] {
[2019-05-23T16:37:53.194Z] [Pipeline] ansiColor
[2019-05-23T16:37:53.199Z] [Pipeline] {
[2019-05-23T16:37:53.220Z] [Pipeline] stage
[2019-05-23T16:37:53.223Z] [Pipeline] { (Checkout)
[2019-05-23T16:37:53.247Z] [Pipeline] node
[2019-05-23T16:37:53.259Z] Running on Jenkins in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master@2
[2019-05-23T16:37:53.264Z] [Pipeline] {
[2019-05-23T16:37:53.334Z] [Pipeline] withEnv
[2019-05-23T16:37:53.335Z] [Pipeline] {
[2019-05-23T16:37:53.349Z] [Pipeline] deleteDir
[2019-05-23T16:37:54.141Z] [Pipeline] dir
[2019-05-23T16:37:54.141Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master@2/src/github.com/elastic/apm-server
[2019-05-23T16:37:54.142Z] [Pipeline] {
[2019-05-23T16:37:54.228Z] [Pipeline] echo
[2019-05-23T16:37:54.228Z] [INFO] gitCheckout: Checkout SCM master
[2019-05-23T16:37:54.237Z] [Pipeline] checkout
[2019-05-23T16:37:54.243Z] using credential 2a9602aa-ab9f-4e52-baf3-b71ca88469c7-UserAndToken
[2019-05-23T16:37:54.270Z] Cloning the remote Git repository
[2019-05-23T16:37:54.270Z] Cloning with configured refspecs honoured and without tags
[2019-05-23T16:37:54.270Z] Cloning repository https://github.com/elastic/apm-server.git
[2019-05-23T16:37:54.270Z]  > git init /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master@2/src/github.com/elastic/apm-server # timeout=10
[2019-05-23T16:37:54.282Z] Fetching upstream changes from https://github.com/elastic/apm-server.git
[2019-05-23T16:37:54.282Z]  > git --version # timeout=10
[2019-05-23T16:37:54.293Z] using GIT_ASKPASS to set credentials GitHub user @elasticmachine User + Personal Access Token
[2019-05-23T16:37:54.294Z]  > git fetch --no-tags --progress https://github.com/elastic/apm-server.git +refs/heads/master:refs/remotes/origin/master
[2019-05-23T16:37:56.248Z]  > git config remote.origin.url https://github.com/elastic/apm-server.git # timeout=10
[2019-05-23T16:37:56.256Z]  > git config --add remote.origin.fetch +refs/heads/master:refs/remotes/origin/master # timeout=10
[2019-05-23T16:37:56.264Z]  > git config remote.origin.url https://github.com/elastic/apm-server.git # timeout=10
[2019-05-23T16:37:56.275Z] Fetching without tags
[2019-05-23T16:37:56.275Z] Fetching upstream changes from https://github.com/elastic/apm-server.git
[2019-05-23T16:37:56.275Z] using GIT_ASKPASS to set credentials GitHub user @elasticmachine User + Personal Access Token
[2019-05-23T16:37:56.276Z]  > git fetch --no-tags --progress https://github.com/elastic/apm-server.git +refs/heads/master:refs/remotes/origin/master
[2019-05-23T16:37:56.761Z] Checking out Revision 8a2fd55f40dbcb279911e3f2237312baf1508019 (master)
[2019-05-23T16:37:56.761Z]  > git config core.sparsecheckout # timeout=10
[2019-05-23T16:37:56.801Z]  > git checkout -f 8a2fd55f40dbcb279911e3f2237312baf1508019
[2019-05-23T16:37:57.351Z] Commit message: "fix 7.x changelog links (#2207)"
[2019-05-23T16:37:58.119Z] [Pipeline] sh
[2019-05-23T16:37:58.382Z] + git rev-parse HEAD
[2019-05-23T16:37:58.396Z] [Pipeline] sh
[2019-05-23T16:37:58.663Z] + git rev-parse HEAD
[2019-05-23T16:37:58.667Z] [Pipeline] sh
[2019-05-23T16:37:58.933Z] + git rev-parse HEAD^
[2019-05-23T16:37:58.954Z] [Pipeline] sh
[2019-05-23T16:37:59.214Z] + git rev-list HEAD --parents -1
[2019-05-23T16:37:59.233Z] [Pipeline] echo
[2019-05-23T16:37:59.233Z] [INFO] githubEnv: Found Git Build Cause: commit
[2019-05-23T16:37:59.373Z] [Pipeline] }
[2019-05-23T16:37:59.383Z] [Pipeline] // dir
[2019-05-23T16:37:59.396Z] [Pipeline] stash
[2019-05-23T16:38:03.121Z] Stashed 3561 file(s)
[2019-05-23T16:38:03.123Z] [Pipeline] script
[2019-05-23T16:38:03.126Z] [Pipeline] {
[2019-05-23T16:38:03.144Z] [Pipeline] dir
[2019-05-23T16:38:03.144Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master@2/src/github.com/elastic/apm-server
[2019-05-23T16:38:03.144Z] [Pipeline] {
[2019-05-23T16:38:03.160Z] [Pipeline] readFile
[2019-05-23T16:38:03.183Z] [Pipeline] }
[2019-05-23T16:38:03.192Z] [Pipeline] // dir
[2019-05-23T16:38:03.203Z] [Pipeline] }
[2019-05-23T16:38:03.212Z] [Pipeline] // script
[2019-05-23T16:38:03.222Z] [Pipeline] }
[2019-05-23T16:38:03.232Z] [Pipeline] // withEnv
[2019-05-23T16:38:03.242Z] [Pipeline] }
[2019-05-23T16:38:03.252Z] [Pipeline] // node
[2019-05-23T16:38:03.265Z] [Pipeline] }
[2019-05-23T16:38:03.276Z] [Pipeline] // stage
[2019-05-23T16:38:03.292Z] [Pipeline] stage
[2019-05-23T16:38:03.294Z] [Pipeline] { (Intake)
[2019-05-23T16:38:03.349Z] [Pipeline] node
[2019-05-23T16:38:18.350Z] Still waiting to schedule task
[2019-05-23T16:38:18.350Z] All nodes of label ‘linux&&immutable’ are offline
[2019-05-23T16:38:41.741Z] Running on apm-ci-immutable-ubuntu-1604-1558629485684623361 in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:38:41.742Z] [Pipeline] {
[2019-05-23T16:38:41.822Z] [Pipeline] withEnv
[2019-05-23T16:38:41.822Z] [Pipeline] {
[2019-05-23T16:38:41.841Z] [Pipeline] deleteDir
[2019-05-23T16:38:42.142Z] [Pipeline] unstash
[2019-05-23T16:38:46.607Z] [Pipeline] dir
[2019-05-23T16:38:46.607Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server
[2019-05-23T16:38:46.608Z] [Pipeline] {
[2019-05-23T16:38:46.626Z] [Pipeline] sh
[2019-05-23T16:38:48.064Z] + ./script/jenkins/intake.sh
[2019-05-23T16:38:48.064Z] + source ./_beats/dev-tools/common.bash
[2019-05-23T16:38:48.064Z] ++++ dirname ./_beats/dev-tools/common.bash
[2019-05-23T16:38:48.064Z] +++ cd ./_beats/dev-tools
[2019-05-23T16:38:48.064Z] +++ pwd
[2019-05-23T16:38:48.064Z] ++ _sdir=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_beats/dev-tools
[2019-05-23T16:38:48.064Z] + jenkins_setup
[2019-05-23T16:38:48.064Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:38:48.064Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:38:48.064Z] + '[' -z 1.12.4 ']'
[2019-05-23T16:38:48.064Z] + export GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:38:48.064Z] + GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:38:48.064Z] + export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:38:48.064Z] + PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:38:48.064Z] ++ gvm 1.12.4
[2019-05-23T16:38:54.663Z] + eval 'export GOROOT="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64"
[2019-05-23T16:38:54.663Z] export PATH="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:$PATH"'
[2019-05-23T16:38:54.663Z] ++ export GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T16:38:54.664Z] ++ GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T16:38:54.664Z] ++ export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:38:54.664Z] ++ PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:38:54.664Z] ++ mktemp -d
[2019-05-23T16:38:54.664Z] + export TEMP_PYTHON_ENV=/tmp/tmp.qdfLH5WwON
[2019-05-23T16:38:54.664Z] + TEMP_PYTHON_ENV=/tmp/tmp.qdfLH5WwON
[2019-05-23T16:38:54.664Z] + export PYTHON_ENV=/tmp/tmp.qdfLH5WwON/python-env
[2019-05-23T16:38:54.664Z] + PYTHON_ENV=/tmp/tmp.qdfLH5WwON/python-env
[2019-05-23T16:38:54.664Z] + export MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T16:38:54.664Z] + MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T16:38:54.664Z] + trap cleanup EXIT
[2019-05-23T16:38:54.664Z] + make check-full
[2019-05-23T16:38:56.574Z] New python executable in /tmp/tmp.qdfLH5WwON/python-env/bin/python
[2019-05-23T16:38:56.574Z] Installing setuptools, pip, wheel...
[2019-05-23T16:38:59.122Z] done.
[2019-05-23T16:38:59.122Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:38:59.698Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:39:07.851Z] ERROR: docker-compose 1.23.2 has requirement PyYAML<4,>=3.10, but you'll have pyyaml 4.2b1 which is incompatible.
[2019-05-23T16:39:08.807Z] mkdir -p /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage
[2019-05-23T16:39:08.807Z] # gotestcover is needed to fetch coverage for multiple packages
[2019-05-23T16:39:08.807Z] go get github.com/elastic/apm-server/vendor/github.com/pierrre/gotestcover
[2019-05-23T16:39:09.070Z] # testify is needed for unit and integration tests
[2019-05-23T16:39:09.071Z] go get github.com/elastic/apm-server/vendor/github.com/stretchr/testify/assert
[2019-05-23T16:40:05.479Z] go get github.com/elastic/apm-server/vendor/honnef.co/go/tools/cmd/staticcheck
[2019-05-23T16:40:05.479Z] staticcheck github.com/elastic/apm-server/...
[2019-05-23T16:40:20.415Z] make[1]: Entering directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:40:20.415Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:40:20.415Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:40:21.801Z] Installing mage v1.8.0 from vendor dir.
[2019-05-23T16:40:22.742Z] /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile cleaned
[2019-05-23T16:40:29.332Z] Generated fields.yml for apm-server to /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/fields.yml
[2019-05-23T16:40:32.634Z] Generating NOTICE
[2019-05-23T16:40:32.897Z] Get the licenses available from ['./vendor']
[2019-05-23T16:40:32.897Z] WARNING: No version information found for: honnef.co/go/tools
[2019-05-23T16:40:32.897Z] WARNING: No version information found for: honnef.co/go/tools/lint
[2019-05-23T16:40:32.897Z] WARNING: No version information found for: honnef.co/go/tools/ssa
[2019-05-23T16:40:32.897Z] Available at /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/NOTICE.txt
[2019-05-23T16:40:32.897Z] Updating generated files for apm-server
[2019-05-23T16:40:32.897Z] cat: ./_beats/libbeat/_meta/config.yml: No such file or directory
[2019-05-23T16:40:32.897Z] ## The line below allows beats to add a post-processor script that alters the config in arbitrary ways
[2019-05-23T16:40:32.897Z] mkdir -p include
[2019-05-23T16:40:32.897Z] go run  ./_beats/dev-tools/cmd/asset/asset.go -license ASL2 -pkg include -in fields.yml -out include/fields.go apm-server
[2019-05-23T16:40:33.839Z] if [ -d /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana ]; then \
[2019-05-23T16:40:33.839Z] 	cp -pr /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana/* /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana.generated ; \
[2019-05-23T16:40:33.839Z] fi
[2019-05-23T16:40:33.839Z] make[1]: Leaving directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:40:33.839Z] make[1]: Entering directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:40:34.782Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:40:35.358Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:40:37.287Z] mkdir -p /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage
[2019-05-23T16:40:37.287Z] # gotestcover is needed to fetch coverage for multiple packages
[2019-05-23T16:40:37.287Z] go get github.com/elastic/apm-server/vendor/github.com/pierrre/gotestcover
[2019-05-23T16:40:37.287Z] # testify is needed for unit and integration tests
[2019-05-23T16:40:37.287Z] go get github.com/elastic/apm-server/vendor/github.com/stretchr/testify/assert
[2019-05-23T16:40:45.430Z] make[1]: Leaving directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:40:45.430Z] + cleanup
[2019-05-23T16:40:45.430Z] + rm -rf /tmp/tmp.qdfLH5WwON
[2019-05-23T16:40:45.475Z] [Pipeline] }
[2019-05-23T16:40:45.504Z] [Pipeline] // dir
[2019-05-23T16:40:45.516Z] [Pipeline] }
[2019-05-23T16:40:45.526Z] [Pipeline] // withEnv
[2019-05-23T16:40:45.536Z] [Pipeline] }
[2019-05-23T16:40:45.548Z] [Pipeline] // node
[2019-05-23T16:40:45.559Z] [Pipeline] }
[2019-05-23T16:40:45.571Z] [Pipeline] // stage
[2019-05-23T16:40:45.589Z] [Pipeline] stage
[2019-05-23T16:40:45.591Z] [Pipeline] { (Build)
[2019-05-23T16:40:45.613Z] [Pipeline] parallel
[2019-05-23T16:40:45.614Z] [Pipeline] { (Branch: linux build)
[2019-05-23T16:40:45.614Z] [Pipeline] { (Branch: windows build)
[2019-05-23T16:40:45.629Z] [Pipeline] stage
[2019-05-23T16:40:45.631Z] [Pipeline] { (linux build)
[2019-05-23T16:40:45.635Z] [Pipeline] stage
[2019-05-23T16:40:45.637Z] [Pipeline] { (windows build)
[2019-05-23T16:40:45.668Z] [Pipeline] node
[2019-05-23T16:40:45.672Z] [Pipeline] node
[2019-05-23T16:40:45.689Z] Running on apm-ci-windows-2016-worker-4gb1 in C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master
[2019-05-23T16:40:45.690Z] [Pipeline] {
[2019-05-23T16:40:45.712Z] [Pipeline] deleteDir
[2019-05-23T16:40:48.086Z] [Pipeline] unstash
[2019-05-23T16:40:55.489Z] [Pipeline] dir
[2019-05-23T16:40:55.489Z] Running in C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master\src\github.com\elastic\apm-server
[2019-05-23T16:40:55.490Z] [Pipeline] {
[2019-05-23T16:40:55.509Z] [Pipeline] powershell
[2019-05-23T16:40:58.871Z] Fetching testing dependencies
[2019-05-23T16:41:00.669Z] Still waiting to schedule task
[2019-05-23T16:41:00.669Z] Waiting for next available executor on ‘linux&&immutable’
[2019-05-23T16:41:03.218Z] Building fields.yml
[2019-05-23T16:41:11.444Z] powershell.exe : Generated fields.yml for apm-server to C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master\src\github.com\elastic\apm-server\fields.yml
[2019-05-23T16:41:11.444Z] At C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master\src\github.com\elastic\apm-server@tmp\durable-ebe34d6b\powershellWrapper.ps1:3 char:1
[2019-05-23T16:41:11.444Z] + & powershell -NoProfile -NonInteractive -ExecutionPolicy Bypass -Comm ...
[2019-05-23T16:41:11.444Z] + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[2019-05-23T16:41:11.444Z]     + CategoryInfo          : NotSpecified: (Generated field...rver\fields.yml:String) [], RemoteException
[2019-05-23T16:41:11.444Z]     + FullyQualifiedErrorId : NativeCommandError
[2019-05-23T16:41:11.444Z]  
[2019-05-23T16:41:11.444Z] Building 
[2019-05-23T16:41:13.982Z] >> build: Building apm-server
[2019-05-23T16:41:23.983Z] [Pipeline] }
[2019-05-23T16:41:24.010Z] [Pipeline] // dir
[2019-05-23T16:41:24.027Z] [Pipeline] }
[2019-05-23T16:41:24.043Z] [Pipeline] // node
[2019-05-23T16:41:24.063Z] [Pipeline] }
[2019-05-23T16:41:24.077Z] [Pipeline] // stage
[2019-05-23T16:41:24.094Z] [Pipeline] }
[2019-05-23T16:41:25.821Z] Running on apm-ci-immutable-ubuntu-1604-1558629647590832417 in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:41:25.822Z] [Pipeline] {
[2019-05-23T16:41:25.854Z] [Pipeline] withEnv
[2019-05-23T16:41:25.855Z] [Pipeline] {
[2019-05-23T16:41:25.875Z] [Pipeline] deleteDir
[2019-05-23T16:41:26.172Z] [Pipeline] unstash
[2019-05-23T16:41:29.517Z] [Pipeline] dir
[2019-05-23T16:41:29.517Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server
[2019-05-23T16:41:29.518Z] [Pipeline] {
[2019-05-23T16:41:29.538Z] [Pipeline] sh
[2019-05-23T16:41:30.943Z] + ./script/jenkins/build.sh
[2019-05-23T16:41:39.091Z] bash: mage: command not found
[2019-05-23T16:41:39.091Z] _beats/libbeat/scripts/Makefile:159: recipe for target 'clean' failed
[2019-05-23T16:41:39.091Z] make: [clean] Error 127 (ignored)
[2019-05-23T16:41:40.475Z] go build -i -ldflags "-s -X github.com/elastic/apm-server/vendor/github.com/elastic/beats/libbeat/version.buildTime=2019-05-23T16:41:40Z -X github.com/elastic/apm-server/vendor/github.com/elastic/beats/libbeat/version.commit=8a2fd55f40dbcb279911e3f2237312baf1508019"
[2019-05-23T16:42:12.626Z] TESTING_ENVIRONMENT=snapshot ES_BEATS=./_beats docker-compose -p apm-server8a2fd55f40dbcb279911e3f2237312baf1508019  -f docker-compose.yml down -v
[2019-05-23T16:42:12.626Z] Couldn't find env file: /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:42:12.626Z] _beats/libbeat/scripts/Makefile:405: recipe for target 'stop-environment' failed
[2019-05-23T16:42:12.626Z] make: [stop-environment] Error 1 (ignored)
[2019-05-23T16:42:12.626Z] # Change ownership of all files inside /build folder from root/root to current user/group
[2019-05-23T16:42:12.626Z] docker run -v /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server:/beat alpine:3.4 sh -c "find /beat -user 0 -exec chown -h 1134:1135 {} \;"
[2019-05-23T16:42:12.626Z] Unable to find image 'alpine:3.4' locally
[2019-05-23T16:42:12.626Z] 3.4: Pulling from library/alpine
[2019-05-23T16:42:12.626Z] c1e54eec4b57: Pulling fs layer
[2019-05-23T16:42:12.887Z] c1e54eec4b57: Verifying Checksum
[2019-05-23T16:42:12.887Z] c1e54eec4b57: Download complete
[2019-05-23T16:42:13.149Z] c1e54eec4b57: Pull complete
[2019-05-23T16:42:13.149Z] Digest: sha256:b733d4a32c4da6a00a84df2ca32791bb03df95400243648d8c539e7b4cce329c
[2019-05-23T16:42:13.149Z] Status: Downloaded newer image for alpine:3.4
[2019-05-23T16:42:15.112Z] [Pipeline] }
[2019-05-23T16:42:15.138Z] [Pipeline] // dir
[2019-05-23T16:42:15.151Z] [Pipeline] }
[2019-05-23T16:42:15.164Z] [Pipeline] // withEnv
[2019-05-23T16:42:15.178Z] [Pipeline] }
[2019-05-23T16:42:15.188Z] [Pipeline] // node
[2019-05-23T16:42:15.203Z] [Pipeline] }
[2019-05-23T16:42:15.213Z] [Pipeline] // stage
[2019-05-23T16:42:15.224Z] [Pipeline] }
[2019-05-23T16:42:15.237Z] [Pipeline] // parallel
[2019-05-23T16:42:15.252Z] [Pipeline] }
[2019-05-23T16:42:15.263Z] [Pipeline] // stage
[2019-05-23T16:42:15.283Z] [Pipeline] stage
[2019-05-23T16:42:15.285Z] [Pipeline] { (Test)
[2019-05-23T16:42:15.332Z] [Pipeline] parallel
[2019-05-23T16:42:15.332Z] [Pipeline] { (Branch: Unit Test)
[2019-05-23T16:42:15.332Z] [Pipeline] { (Branch: System and Environment Tests)
[2019-05-23T16:42:15.332Z] [Pipeline] { (Branch: windows test)
[2019-05-23T16:42:15.332Z] [Pipeline] { (Branch: Benchmarking)
[2019-05-23T16:42:15.362Z] [Pipeline] stage
[2019-05-23T16:42:15.365Z] [Pipeline] { (Unit Test)
[2019-05-23T16:42:15.370Z] [Pipeline] stage
[2019-05-23T16:42:15.374Z] [Pipeline] { (System and Environment Tests)
[2019-05-23T16:42:15.378Z] [Pipeline] stage
[2019-05-23T16:42:15.381Z] [Pipeline] { (windows test)
[2019-05-23T16:42:15.387Z] [Pipeline] stage
[2019-05-23T16:42:15.391Z] [Pipeline] { (Benchmarking)
[2019-05-23T16:42:15.542Z] [Pipeline] node
[2019-05-23T16:42:15.555Z] [Pipeline] node
[2019-05-23T16:42:15.574Z] [Pipeline] node
[2019-05-23T16:42:15.592Z] [Pipeline] node
[2019-05-23T16:42:15.604Z] Running on apm-ci-windows-2016-worker-4gb1 in C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master
[2019-05-23T16:42:15.610Z] [Pipeline] {
[2019-05-23T16:42:15.636Z] [Pipeline] deleteDir
[2019-05-23T16:42:17.110Z] [Pipeline] unstash
[2019-05-23T16:42:17.497Z] Running on apm-ci-immutable-ubuntu-1604-1558629698083472298 in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:17.498Z] [Pipeline] {
[2019-05-23T16:42:17.540Z] [Pipeline] withEnv
[2019-05-23T16:42:17.541Z] [Pipeline] {
[2019-05-23T16:42:17.558Z] [Pipeline] deleteDir
[2019-05-23T16:42:17.990Z] [Pipeline] unstash
[2019-05-23T16:42:21.435Z] [Pipeline] dir
[2019-05-23T16:42:21.435Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server
[2019-05-23T16:42:21.436Z] [Pipeline] {
[2019-05-23T16:42:21.449Z] [Pipeline] sh
[2019-05-23T16:42:22.850Z] + ./script/jenkins/unit-test.sh
[2019-05-23T16:42:22.850Z] + source ./_beats/dev-tools/common.bash
[2019-05-23T16:42:22.850Z] ++++ dirname ./_beats/dev-tools/common.bash
[2019-05-23T16:42:22.850Z] +++ cd ./_beats/dev-tools
[2019-05-23T16:42:22.850Z] +++ pwd
[2019-05-23T16:42:22.850Z] ++ _sdir=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_beats/dev-tools
[2019-05-23T16:42:22.850Z] + jenkins_setup
[2019-05-23T16:42:22.850Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:22.850Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:22.850Z] + '[' -z 1.12.4 ']'
[2019-05-23T16:42:22.850Z] + export GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:22.850Z] + GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:22.850Z] + export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:42:22.850Z] + PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:42:22.850Z] ++ gvm 1.12.4
[2019-05-23T16:42:24.771Z] [Pipeline] dir
[2019-05-23T16:42:24.771Z] Running in C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master\src\github.com\elastic\apm-server
[2019-05-23T16:42:24.772Z] [Pipeline] {
[2019-05-23T16:42:24.794Z] [Pipeline] powershell
[2019-05-23T16:42:27.404Z] Fetching testing dependencies
[2019-05-23T16:42:29.431Z] + eval 'export GOROOT="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64"
[2019-05-23T16:42:29.431Z] export PATH="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:$PATH"'
[2019-05-23T16:42:29.431Z] ++ export GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T16:42:29.431Z] ++ GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T16:42:29.431Z] ++ export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:42:29.431Z] ++ PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:42:29.431Z] ++ mktemp -d
[2019-05-23T16:42:29.431Z] + export TEMP_PYTHON_ENV=/tmp/tmp.8N3gUhrPxo
[2019-05-23T16:42:29.431Z] + TEMP_PYTHON_ENV=/tmp/tmp.8N3gUhrPxo
[2019-05-23T16:42:29.431Z] + export PYTHON_ENV=/tmp/tmp.8N3gUhrPxo/python-env
[2019-05-23T16:42:29.431Z] + PYTHON_ENV=/tmp/tmp.8N3gUhrPxo/python-env
[2019-05-23T16:42:29.431Z] + export MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T16:42:29.431Z] + MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T16:42:29.431Z] + go get -v -u github.com/jstemmer/go-junit-report
[2019-05-23T16:42:29.431Z] github.com/jstemmer/go-junit-report (download)
[2019-05-23T16:42:29.431Z] github.com/jstemmer/go-junit-report/parser
[2019-05-23T16:42:29.431Z] github.com/jstemmer/go-junit-report/formatter
[2019-05-23T16:42:29.431Z] github.com/jstemmer/go-junit-report
[2019-05-23T16:42:29.431Z] + export OUT_FILE=build/test-report.out
[2019-05-23T16:42:29.431Z] + OUT_FILE=build/test-report.out
[2019-05-23T16:42:29.431Z] + make update
[2019-05-23T16:42:30.570Z] Still waiting to schedule task
[2019-05-23T16:42:30.570Z] All nodes of label ‘linux&&immutable’ are offline
[2019-05-23T16:42:30.593Z] Still waiting to schedule task
[2019-05-23T16:42:30.593Z] All nodes of label ‘linux&&immutable’ are offline
[2019-05-23T16:42:30.819Z] New python executable in /tmp/tmp.8N3gUhrPxo/python-env/bin/python
[2019-05-23T16:42:30.819Z] Installing setuptools, pip, wheel...
[2019-05-23T16:42:32.689Z] Building fields.yml
[2019-05-23T16:42:33.359Z] done.
[2019-05-23T16:42:33.619Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:42:34.194Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:42:39.289Z] powershell.exe : Generated fields.yml for apm-server to C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master\src\github.com\elastic\apm-server\fields.yml
[2019-05-23T16:42:39.289Z] At C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master\src\github.com\elastic\apm-server@tmp\durable-2f181ff1\powershellWrapper.ps1:3 char:1
[2019-05-23T16:42:39.289Z] + & powershell -NoProfile -NonInteractive -ExecutionPolicy Bypass -Comm ...
[2019-05-23T16:42:39.289Z] + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[2019-05-23T16:42:39.289Z]     + CategoryInfo          : NotSpecified: (Generated field...rver\fields.yml:String) [], RemoteException
[2019-05-23T16:42:39.289Z]     + FullyQualifiedErrorId : NativeCommandError
[2019-05-23T16:42:39.289Z]  
[2019-05-23T16:42:39.289Z] Building 
[2019-05-23T16:42:41.854Z] >> build: Building apm-server
[2019-05-23T16:42:42.345Z] ERROR: docker-compose 1.23.2 has requirement PyYAML<4,>=3.10, but you'll have pyyaml 4.2b1 which is incompatible.
[2019-05-23T16:42:43.290Z] Installing mage v1.8.0 from vendor dir.
[2019-05-23T16:42:43.873Z] /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile cleaned
[2019-05-23T16:42:50.060Z] Unit testing 
[2019-05-23T16:42:51.572Z] Running on apm-ci-immutable-ubuntu-1604-1558629738493701960 in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:51.573Z] [Pipeline] {
[2019-05-23T16:42:51.608Z] [Pipeline] withEnv
[2019-05-23T16:42:51.608Z] [Pipeline] {
[2019-05-23T16:42:51.628Z] [Pipeline] deleteDir
[2019-05-23T16:42:51.822Z] [Pipeline] unstash
[2019-05-23T16:42:51.909Z] Running on apm-ci-immutable-ubuntu-1604-1558629738492957764 in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:51.910Z] [Pipeline] {
[2019-05-23T16:42:51.962Z] [Pipeline] withEnv
[2019-05-23T16:42:51.965Z] [Pipeline] {
[2019-05-23T16:42:51.999Z] [Pipeline] deleteDir
[2019-05-23T16:42:52.429Z] [Pipeline] unstash
[2019-05-23T16:42:53.365Z] >> go test: Unit Testing
[2019-05-23T16:42:56.799Z] [Pipeline] dir
[2019-05-23T16:42:56.799Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server
[2019-05-23T16:42:56.800Z] [Pipeline] {
[2019-05-23T16:42:56.820Z] [Pipeline] sh
[2019-05-23T16:42:57.880Z] [Pipeline] dir
[2019-05-23T16:42:57.881Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server
[2019-05-23T16:42:57.881Z] [Pipeline] {
[2019-05-23T16:42:57.897Z] [Pipeline] sh
[2019-05-23T16:42:58.136Z] + ./script/jenkins/bench.sh
[2019-05-23T16:42:58.136Z] + source ./_beats/dev-tools/common.bash
[2019-05-23T16:42:58.136Z] ++++ dirname ./_beats/dev-tools/common.bash
[2019-05-23T16:42:58.136Z] +++ cd ./_beats/dev-tools
[2019-05-23T16:42:58.136Z] +++ pwd
[2019-05-23T16:42:58.136Z] ++ _sdir=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_beats/dev-tools
[2019-05-23T16:42:58.136Z] + jenkins_setup
[2019-05-23T16:42:58.136Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:58.136Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:58.136Z] + '[' -z 1.12.4 ']'
[2019-05-23T16:42:58.136Z] + export GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:58.136Z] + GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:58.136Z] + export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:42:58.136Z] + PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:42:58.137Z] ++ gvm 1.12.4
[2019-05-23T16:42:58.790Z] Generated fields.yml for apm-server to /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/fields.yml
[2019-05-23T16:42:59.242Z] + ./script/jenkins/linux-test.sh
[2019-05-23T16:42:59.242Z] + source ./_beats/dev-tools/common.bash
[2019-05-23T16:42:59.242Z] ++++ dirname ./_beats/dev-tools/common.bash
[2019-05-23T16:42:59.242Z] +++ cd ./_beats/dev-tools
[2019-05-23T16:42:59.242Z] +++ pwd
[2019-05-23T16:42:59.242Z] ++ _sdir=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_beats/dev-tools
[2019-05-23T16:42:59.242Z] + jenkins_setup
[2019-05-23T16:42:59.242Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:59.242Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:59.242Z] + '[' -z 1.12.4 ']'
[2019-05-23T16:42:59.242Z] + export GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:59.242Z] + GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:42:59.242Z] + export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:42:59.242Z] + PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:42:59.242Z] ++ gvm 1.12.4
[2019-05-23T16:43:02.989Z] Generating NOTICE
[2019-05-23T16:43:02.989Z] Get the licenses available from ['./vendor']
[2019-05-23T16:43:02.989Z] WARNING: No version information found for: honnef.co/go/tools
[2019-05-23T16:43:02.989Z] WARNING: No version information found for: honnef.co/go/tools/lint
[2019-05-23T16:43:02.989Z] WARNING: No version information found for: honnef.co/go/tools/ssa
[2019-05-23T16:43:02.989Z] Available at /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/NOTICE.txt
[2019-05-23T16:43:02.989Z] Updating generated files for apm-server
[2019-05-23T16:43:02.989Z] cat: ./_beats/libbeat/_meta/config.yml: No such file or directory
[2019-05-23T16:43:02.989Z] ## The line below allows beats to add a post-processor script that alters the config in arbitrary ways
[2019-05-23T16:43:02.989Z] mkdir -p include
[2019-05-23T16:43:02.989Z] go run  ./_beats/dev-tools/cmd/asset/asset.go -license ASL2 -pkg include -in fields.yml -out include/fields.go apm-server
[2019-05-23T16:43:03.413Z] + eval 'export GOROOT="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64"
[2019-05-23T16:43:03.413Z] export PATH="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:$PATH"'
[2019-05-23T16:43:03.413Z] ++ export GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T16:43:03.413Z] ++ GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T16:43:03.413Z] ++ export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:43:03.413Z] ++ PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:43:03.414Z] ++ mktemp -d
[2019-05-23T16:43:03.414Z] + export TEMP_PYTHON_ENV=/tmp/tmp.biq80d116Z
[2019-05-23T16:43:03.414Z] + TEMP_PYTHON_ENV=/tmp/tmp.biq80d116Z
[2019-05-23T16:43:03.414Z] + export PYTHON_ENV=/tmp/tmp.biq80d116Z/python-env
[2019-05-23T16:43:03.414Z] + PYTHON_ENV=/tmp/tmp.biq80d116Z/python-env
[2019-05-23T16:43:03.414Z] + export MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T16:43:03.414Z] + MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T16:43:03.414Z] + go get -u golang.org/x/tools/cmd/benchcmp
[2019-05-23T16:43:03.926Z] if [ -d /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana ]; then \
[2019-05-23T16:43:03.926Z] 	cp -pr /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana/* /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana.generated ; \
[2019-05-23T16:43:03.926Z] fi
[2019-05-23T16:43:03.926Z] + make prepare-tests
[2019-05-23T16:43:04.185Z] mkdir -p /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage
[2019-05-23T16:43:04.185Z] # gotestcover is needed to fetch coverage for multiple packages
[2019-05-23T16:43:04.185Z] go get github.com/elastic/apm-server/vendor/github.com/pierrre/gotestcover
[2019-05-23T16:43:04.444Z] # testify is needed for unit and integration tests
[2019-05-23T16:43:04.444Z] go get github.com/elastic/apm-server/vendor/github.com/stretchr/testify/assert
[2019-05-23T16:43:04.702Z] + go test -race ./... -v
[2019-05-23T16:43:04.702Z] + tee build/test-report.out
[2019-05-23T16:43:05.330Z] + make bench
[2019-05-23T16:43:05.330Z] + tee bench.out
[2019-05-23T16:43:05.838Z] + eval 'export GOROOT="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64"
[2019-05-23T16:43:05.838Z] export PATH="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:$PATH"'
[2019-05-23T16:43:05.838Z] ++ export GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T16:43:05.838Z] ++ GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T16:43:05.838Z] ++ export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:43:05.838Z] ++ PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:43:05.838Z] ++ mktemp -d
[2019-05-23T16:43:05.838Z] + export TEMP_PYTHON_ENV=/tmp/tmp.anNvagyqJO
[2019-05-23T16:43:05.838Z] + TEMP_PYTHON_ENV=/tmp/tmp.anNvagyqJO
[2019-05-23T16:43:05.838Z] + export PYTHON_ENV=/tmp/tmp.anNvagyqJO/python-env
[2019-05-23T16:43:05.838Z] + PYTHON_ENV=/tmp/tmp.anNvagyqJO/python-env
[2019-05-23T16:43:05.838Z] + export MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T16:43:05.838Z] + MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T16:43:05.838Z] + make testsuite
[2019-05-23T16:43:05.838Z] bash: mage: command not found
[2019-05-23T16:43:05.838Z] _beats/libbeat/scripts/Makefile:159: recipe for target 'clean' failed
[2019-05-23T16:43:05.838Z] make: [clean] Error 127 (ignored)
[2019-05-23T16:43:06.410Z] New python executable in /tmp/tmp.anNvagyqJO/python-env/bin/python
[2019-05-23T16:43:06.410Z] Installing setuptools, pip, wheel...
[2019-05-23T16:43:08.959Z] done.
[2019-05-23T16:43:08.959Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:43:09.542Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:43:19.552Z] ERROR: docker-compose 1.23.2 has requirement PyYAML<4,>=3.10, but you'll have pyyaml 4.2b1 which is incompatible.
[2019-05-23T16:43:19.552Z] Installing mage v1.8.0 from vendor dir.
[2019-05-23T16:43:20.120Z] /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile cleaned
[2019-05-23T16:43:35.052Z] Generated fields.yml for apm-server to /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/fields.yml
[2019-05-23T16:43:39.266Z] Generating NOTICE
[2019-05-23T16:43:39.266Z] Get the licenses available from ['./vendor']
[2019-05-23T16:43:39.266Z] WARNING: No version information found for: honnef.co/go/tools
[2019-05-23T16:43:39.266Z] WARNING: No version information found for: honnef.co/go/tools/lint
[2019-05-23T16:43:39.266Z] WARNING: No version information found for: honnef.co/go/tools/ssa
[2019-05-23T16:43:39.266Z] Available at /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/NOTICE.txt
[2019-05-23T16:43:39.266Z] Updating generated files for apm-server
[2019-05-23T16:43:39.266Z] cat: ./_beats/libbeat/_meta/config.yml: No such file or directory
[2019-05-23T16:43:39.266Z] ## The line below allows beats to add a post-processor script that alters the config in arbitrary ways
[2019-05-23T16:43:39.266Z] mkdir -p include
[2019-05-23T16:43:39.266Z] go run  ./_beats/dev-tools/cmd/asset/asset.go -license ASL2 -pkg include -in fields.yml -out include/fields.go apm-server
[2019-05-23T16:43:40.208Z] if [ -d /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana ]; then \
[2019-05-23T16:43:40.208Z] 	cp -pr /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana/* /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana.generated ; \
[2019-05-23T16:43:40.208Z] fi
[2019-05-23T16:43:40.208Z] make unit-tests
[2019-05-23T16:43:40.208Z] make[1]: Entering directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:43:40.208Z] mkdir -p /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage
[2019-05-23T16:43:40.208Z] # gotestcover is needed to fetch coverage for multiple packages
[2019-05-23T16:43:40.208Z] go get github.com/elastic/apm-server/vendor/github.com/pierrre/gotestcover
[2019-05-23T16:43:40.783Z] # testify is needed for unit and integration tests
[2019-05-23T16:43:40.783Z] go get github.com/elastic/apm-server/vendor/github.com/stretchr/testify/assert
[2019-05-23T16:43:42.174Z] go test -i github.com/elastic/apm-server github.com/elastic/apm-server/beater github.com/elastic/apm-server/cmd github.com/elastic/apm-server/decoder github.com/elastic/apm-server/idxmgmt github.com/elastic/apm-server/idxmgmt/ilm github.com/elastic/apm-server/include github.com/elastic/apm-server/ingest/pipeline github.com/elastic/apm-server/model github.com/elastic/apm-server/model/error github.com/elastic/apm-server/model/error/generated/schema github.com/elastic/apm-server/model/metadata github.com/elastic/apm-server/model/metadata/generated/schema github.com/elastic/apm-server/model/metricset github.com/elastic/apm-server/model/metricset/generated/schema github.com/elastic/apm-server/model/sourcemap github.com/elastic/apm-server/model/sourcemap/generated/schema github.com/elastic/apm-server/model/span github.com/elastic/apm-server/model/span/generated/schema github.com/elastic/apm-server/model/transaction github.com/elastic/apm-server/model/transaction/generated/schema github.com/elastic/apm-server/pipelistener github.com/elastic/apm-server/processor/asset github.com/elastic/apm-server/processor/asset/sourcemap github.com/elastic/apm-server/processor/asset/sourcemap/package_tests github.com/elastic/apm-server/processor/stream github.com/elastic/apm-server/processor/stream/package_tests github.com/elastic/apm-server/publish github.com/elastic/apm-server/script/inline_schemas github.com/elastic/apm-server/sourcemap github.com/elastic/apm-server/tests github.com/elastic/apm-server/tests/loader github.com/elastic/apm-server/tests/scripts github.com/elastic/apm-server/transform github.com/elastic/apm-server/utility github.com/elastic/apm-server/validation github.com/elastic/apm-server/x-pack/apm-server github.com/elastic/apm-server/x-pack/apm-server/cmd
[2019-05-23T16:43:49.656Z] SUMMARY:
[2019-05-23T16:43:49.656Z]   Fail:     0
[2019-05-23T16:43:49.656Z]   Skip:     3
[2019-05-23T16:43:49.656Z]   Pass:     393
[2019-05-23T16:43:49.656Z]   Packages: 21
[2019-05-23T16:43:49.656Z]   Duration: 45.7111022s
[2019-05-23T16:43:49.656Z]   Coverage Report: C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master\src\github.com\elastic\apm-server\build\TEST-go-unit.html
[2019-05-23T16:43:49.656Z]   JUnit Report:    C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master\src\github.com\elastic\apm-server\build\TEST-go-unit.xml
[2019-05-23T16:43:49.656Z]   Output File:     C:\Users\jenkins\workspace\apm-server_apm-server-mbp_master\src\github.com\elastic\apm-server\build\TEST-go-unit.out
[2019-05-23T16:43:49.656Z] >> go test: Unit Test Passed
[2019-05-23T16:43:49.656Z] System testing 
[2019-05-23T16:43:49.656Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/processor/asset/sourcemap/package_tests
[2019-05-23T16:43:49.656Z] 
[2019-05-23T16:43:49.656Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/processor/stream/package_tests
[2019-05-23T16:43:49.656Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/script/inline_schemas
[2019-05-23T16:43:49.656Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/tests
[2019-05-23T16:43:49.656Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/tests/loader
[2019-05-23T16:43:49.656Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/tests/scripts
[2019-05-23T16:43:49.656Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/x-pack/apm-server
[2019-05-23T16:43:49.656Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/x-pack/apm-server/cmd
[2019-05-23T16:43:49.656Z] 
[2019-05-23T16:43:51.411Z] === RUN   TestSystem
[2019-05-23T16:43:51.411Z] --- PASS: TestSystem (0.00s)
[2019-05-23T16:43:51.411Z] PASS
[2019-05-23T16:43:51.411Z] ok  	github.com/elastic/apm-server	1.224s
[2019-05-23T16:43:57.993Z] === RUN   TestBeatConfig
[2019-05-23T16:43:57.993Z] === RUN   TestBeatConfig/default_config
[2019-05-23T16:43:57.993Z] === RUN   TestBeatConfig/overwrite_default_config
[2019-05-23T16:43:57.993Z] === RUN   TestBeatConfig/merge_config_with_default
[2019-05-23T16:43:57.993Z] --- PASS: TestBeatConfig (0.01s)
[2019-05-23T16:43:57.993Z]     --- PASS: TestBeatConfig/default_config (0.00s)
[2019-05-23T16:43:57.993Z]     --- PASS: TestBeatConfig/overwrite_default_config (0.00s)
[2019-05-23T16:43:57.993Z]     --- PASS: TestBeatConfig/merge_config_with_default (0.00s)
[2019-05-23T16:43:57.993Z] === RUN   TestIncCounter
[2019-05-23T16:43:57.993Z] --- PASS: TestIncCounter (0.00s)
[2019-05-23T16:43:57.993Z] === RUN   TestOPTIONS
[2019-05-23T16:43:57.993Z] --- PASS: TestOPTIONS (0.00s)
[2019-05-23T16:43:57.993Z] === RUN   TestOkBody
[2019-05-23T16:43:57.993Z] --- PASS: TestOkBody (0.00s)
[2019-05-23T16:43:57.993Z] === RUN   TestOkBodyJson
[2019-05-23T16:43:57.993Z] --- PASS: TestOkBodyJson (0.00s)
[2019-05-23T16:43:57.993Z] === RUN   TestAccept
[2019-05-23T16:43:57.993Z] --- PASS: TestAccept (0.00s)
[2019-05-23T16:43:57.993Z] === RUN   TestIsAuthorized
[2019-05-23T16:43:57.993Z] --- PASS: TestIsAuthorized (0.00s)
[2019-05-23T16:43:57.993Z] === RUN   TestConfigURLs
[2019-05-23T16:43:57.993Z] --- PASS: TestConfigURLs (0.00s)
[2019-05-23T16:43:57.993Z] === RUN   TestConfig
[2019-05-23T16:43:57.993Z] --- PASS: TestConfig (0.01s)
[2019-05-23T16:43:57.993Z] === RUN   TestIsSSLEnabled
[2019-05-23T16:43:57.993Z] === RUN   TestIsSSLEnabled/0_<nil>->false
[2019-05-23T16:43:57.993Z] === RUN   TestIsSSLEnabled/1_&{<nil>_{__}}->true
[2019-05-23T16:43:57.993Z] === RUN   TestIsSSLEnabled/2_&{<nil>_{Cert__}}->true
[2019-05-23T16:43:57.993Z] === RUN   TestIsSSLEnabled/3_&{<nil>_{Cert_key_}}->true
[2019-05-23T16:43:57.994Z] === RUN   TestIsSSLEnabled/4_&{0xc00046f77e_{Cert_key_}}->false
[2019-05-23T16:43:57.994Z] === RUN   TestIsSSLEnabled/5_&{0xc00046f77d_{__}}->true
[2019-05-23T16:43:57.994Z] === RUN   TestIsSSLEnabled/6_&{0xc00046f77e_{__}}->false
[2019-05-23T16:43:57.994Z] --- PASS: TestIsSSLEnabled (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestIsSSLEnabled/0_<nil>->false (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestIsSSLEnabled/1_&{<nil>_{__}}->true (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestIsSSLEnabled/2_&{<nil>_{Cert__}}->true (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestIsSSLEnabled/3_&{<nil>_{Cert_key_}}->true (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestIsSSLEnabled/4_&{0xc00046f77e_{Cert_key_}}->false (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestIsSSLEnabled/5_&{0xc00046f77d_{__}}->true (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestIsSSLEnabled/6_&{0xc00046f77e_{__}}->false (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestReplaceBeatVersion
[2019-05-23T16:43:57.994Z] --- PASS: TestReplaceBeatVersion (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestIsRumEnabled
[2019-05-23T16:43:57.994Z] --- PASS: TestIsRumEnabled (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestDefaultRum
[2019-05-23T16:43:57.994Z] --- PASS: TestDefaultRum (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestMemoizedSmapMapper
[2019-05-23T16:43:57.994Z] --- PASS: TestMemoizedSmapMapper (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestPipeline
[2019-05-23T16:43:57.994Z] --- PASS: TestPipeline (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestInvalidContentType
[2019-05-23T16:43:57.994Z] --- PASS: TestInvalidContentType (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestEmptyRequest
[2019-05-23T16:43:57.994Z] --- PASS: TestEmptyRequest (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestRequestDecoderError
[2019-05-23T16:43:57.994Z] --- PASS: TestRequestDecoderError (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/InvalidEvent
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/InvalidEvent#01
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/InvalidJSONEvent
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/InvalidJSONEvent#01
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/InvalidJSONMetadata
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/InvalidJSONMetadata#01
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/InvalidMetadata
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/InvalidMetadata#01
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/InvalidMetadata2
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/InvalidMetadata2#01
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/Closing
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/Closing#01
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/FullQueue
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/FullQueue#01
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/Success
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/Success#01
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/UnrecognizedEvent
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegration/UnrecognizedEvent#01
[2019-05-23T16:43:57.994Z] --- PASS: TestRequestIntegration (0.09s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/InvalidEvent (0.01s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/InvalidEvent#01 (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/InvalidJSONEvent (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/InvalidJSONEvent#01 (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/InvalidJSONMetadata (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/InvalidJSONMetadata#01 (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/InvalidMetadata (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/InvalidMetadata#01 (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/InvalidMetadata2 (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/InvalidMetadata2#01 (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/Closing (0.01s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/Closing#01 (0.01s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/FullQueue (0.01s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/FullQueue#01 (0.01s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/Success (0.01s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/Success#01 (0.01s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/UnrecognizedEvent (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegration/UnrecognizedEvent#01 (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegrationRUM
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegrationRUM/Success
[2019-05-23T16:43:57.994Z] === RUN   TestRequestIntegrationRUM/RateLimit
[2019-05-23T16:43:57.994Z] --- PASS: TestRequestIntegrationRUM (0.47s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegrationRUM/Success (0.01s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestRequestIntegrationRUM/RateLimit (0.46s)
[2019-05-23T16:43:57.994Z] === RUN   TestWrongMethod
[2019-05-23T16:43:57.994Z] --- PASS: TestWrongMethod (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestLineExceeded
[2019-05-23T16:43:57.994Z] --- PASS: TestLineExceeded (0.01s)
[2019-05-23T16:43:57.994Z] === RUN   TestPublishIntegration
[2019-05-23T16:43:57.994Z] === RUN   TestPublishIntegration/Errors
[2019-05-23T16:43:57.994Z] === PAUSE TestPublishIntegration/Errors
[2019-05-23T16:43:57.994Z] === RUN   TestPublishIntegration/Events
[2019-05-23T16:43:57.994Z] === PAUSE TestPublishIntegration/Events
[2019-05-23T16:43:57.994Z] === RUN   TestPublishIntegration/Metricsets
[2019-05-23T16:43:57.994Z] === PAUSE TestPublishIntegration/Metricsets
[2019-05-23T16:43:57.994Z] === RUN   TestPublishIntegration/Spans
[2019-05-23T16:43:57.994Z] === PAUSE TestPublishIntegration/Spans
[2019-05-23T16:43:57.994Z] === RUN   TestPublishIntegration/Transactions
[2019-05-23T16:43:57.994Z] === PAUSE TestPublishIntegration/Transactions
[2019-05-23T16:43:57.994Z] === RUN   TestPublishIntegration/MinimalEvents
[2019-05-23T16:43:57.994Z] === PAUSE TestPublishIntegration/MinimalEvents
[2019-05-23T16:43:57.994Z] === CONT  TestPublishIntegration/MinimalEvents
[2019-05-23T16:43:57.994Z] === CONT  TestPublishIntegration/Metricsets
[2019-05-23T16:43:57.994Z] === CONT  TestPublishIntegration/Spans
[2019-05-23T16:43:57.994Z] === CONT  TestPublishIntegration/Transactions
[2019-05-23T16:43:57.994Z] === CONT  TestPublishIntegration/Events
[2019-05-23T16:43:57.994Z] === CONT  TestPublishIntegration/Errors
[2019-05-23T16:43:57.994Z] --- PASS: TestPublishIntegration (0.00s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestPublishIntegration/Metricsets (1.09s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestPublishIntegration/MinimalEvents (1.16s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestPublishIntegration/Transactions (1.15s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestPublishIntegration/Spans (1.19s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestPublishIntegration/Events (1.11s)
[2019-05-23T16:43:57.994Z]     --- PASS: TestPublishIntegration/Errors (1.11s)
[2019-05-23T16:43:57.994Z] === RUN   TestPublishIntegrationOnboarding
[2019-05-23T16:43:57.994Z] --- PASS: TestPublishIntegrationOnboarding (1.03s)
[2019-05-23T16:43:57.994Z] === RUN   TestNotifyUpServerDown
[2019-05-23T16:43:57.994Z] --- PASS: TestNotifyUpServerDown (0.00s)
[2019-05-23T16:43:57.994Z] === RUN   TestCacheInitFails
[2019-05-23T16:43:57.994Z] --- PASS: TestCacheInitFails (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestCacheEviction
[2019-05-23T16:43:57.995Z] --- PASS: TestCacheEviction (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestCacheOk
[2019-05-23T16:43:57.995Z] --- PASS: TestCacheOk (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerOk
[2019-05-23T16:43:57.995Z] --- PASS: TestServerOk (0.05s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerRoot
[2019-05-23T16:43:57.995Z] --- PASS: TestServerRoot (0.04s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerRootWithToken
[2019-05-23T16:43:57.995Z] --- PASS: TestServerRootWithToken (0.04s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerTcpNoPort
[2019-05-23T16:43:57.995Z] --- PASS: TestServerTcpNoPort (0.04s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerOkUnix
[2019-05-23T16:43:57.995Z] --- PASS: TestServerOkUnix (0.55s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerHealth
[2019-05-23T16:43:57.995Z] --- PASS: TestServerHealth (0.54s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerRumSwitch
[2019-05-23T16:43:57.995Z] --- PASS: TestServerRumSwitch (0.04s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerCORS
[2019-05-23T16:43:57.995Z] --- PASS: TestServerCORS (0.76s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerNoContentType
[2019-05-23T16:43:57.995Z] --- PASS: TestServerNoContentType (0.04s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerSourcemapElasticsearch
[2019-05-23T16:43:57.995Z] --- PASS: TestServerSourcemapElasticsearch (0.17s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerSSL
[2019-05-23T16:43:57.995Z] --- SKIP: TestServerSSL (0.00s)
[2019-05-23T16:43:57.995Z]     server_test.go:405: flaky test in go 1.11
[2019-05-23T16:43:57.995Z] === RUN   TestServerSecureBadPassphrase
[2019-05-23T16:43:57.995Z] --- SKIP: TestServerSecureBadPassphrase (0.00s)
[2019-05-23T16:43:57.995Z]     server_test.go:479: flaky test
[2019-05-23T16:43:57.995Z] === RUN   TestServerTracingEnabled
[2019-05-23T16:43:57.995Z] --- PASS: TestServerTracingEnabled (1.20s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerTracingExternal
[2019-05-23T16:43:57.995Z] --- PASS: TestServerTracingExternal (0.06s)
[2019-05-23T16:43:57.995Z] === RUN   TestServerTracingDisabled
[2019-05-23T16:43:57.995Z] --- PASS: TestServerTracingDisabled (1.04s)
[2019-05-23T16:43:57.995Z] PASS
[2019-05-23T16:43:57.995Z] ok  	github.com/elastic/apm-server/beater	9.640s
[2019-05-23T16:43:57.995Z] ?   	github.com/elastic/apm-server/cmd	[no test files]
[2019-05-23T16:43:57.995Z] === RUN   TestLineReaderEmpty
[2019-05-23T16:43:57.995Z] --- PASS: TestLineReaderEmpty (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestLineReader
[2019-05-23T16:43:57.995Z] --- PASS: TestLineReader (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestLineReaderEndWithNewline
[2019-05-23T16:43:57.995Z] --- PASS: TestLineReaderEndWithNewline (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestLineReaderTwoLongLines
[2019-05-23T16:43:57.995Z] --- PASS: TestLineReaderTwoLongLines (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestLineReaderNoLines
[2019-05-23T16:43:57.995Z] --- PASS: TestLineReaderNoLines (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestLineReaderDeadline
[2019-05-23T16:43:57.995Z] --- PASS: TestLineReaderDeadline (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestLineReaderShort
[2019-05-23T16:43:57.995Z] --- PASS: TestLineReaderShort (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestNDStreamReader
[2019-05-23T16:43:57.995Z] --- PASS: TestNDStreamReader (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestDecode
[2019-05-23T16:43:57.995Z] --- PASS: TestDecode (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestDecodeContentType
[2019-05-23T16:43:57.995Z] --- PASS: TestDecodeContentType (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestDecodeSizeLimit
[2019-05-23T16:43:57.995Z] --- PASS: TestDecodeSizeLimit (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestDecodeSizeLimitGzip
[2019-05-23T16:43:57.995Z] --- PASS: TestDecodeSizeLimitGzip (0.01s)
[2019-05-23T16:43:57.995Z] === RUN   TestDecodeSourcemapFormData
[2019-05-23T16:43:57.995Z] --- PASS: TestDecodeSourcemapFormData (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestDecodeSystemData
[2019-05-23T16:43:57.995Z] --- PASS: TestDecodeSystemData (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestDecodeUserData
[2019-05-23T16:43:57.995Z] --- PASS: TestDecodeUserData (0.00s)
[2019-05-23T16:43:57.995Z] PASS
[2019-05-23T16:43:57.995Z] ok  	github.com/elastic/apm-server/decoder	1.073s
[2019-05-23T16:43:57.995Z] === RUN   TestEventIdxNames
[2019-05-23T16:43:57.995Z] === RUN   TestEventIdxNames/ILM=false
[2019-05-23T16:43:57.995Z] === RUN   TestEventIdxNames/ILM=true
[2019-05-23T16:43:57.995Z] --- PASS: TestEventIdxNames (0.00s)
[2019-05-23T16:43:57.995Z]     --- PASS: TestEventIdxNames/ILM=false (0.00s)
[2019-05-23T16:43:57.995Z]     --- PASS: TestEventIdxNames/ILM=true (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_Enabled
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_Enabled/template_default
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_Enabled/template_disabled
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_Enabled/template_enabled
[2019-05-23T16:43:57.995Z] --- PASS: TestIndexSupport_Enabled (0.00s)
[2019-05-23T16:43:57.995Z]     --- PASS: TestIndexSupport_Enabled/template_default (0.00s)
[2019-05-23T16:43:57.995Z]     --- PASS: TestIndexSupport_Enabled/template_disabled (0.00s)
[2019-05-23T16:43:57.995Z]     --- PASS: TestIndexSupport_Enabled/template_enabled (0.00s)
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_index
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_index#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_onboarding
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_onboarding#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_span
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_span#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_transaction
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_transaction#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/custom_index
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/custom_index#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/custom_indices
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/custom_indices#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_error
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_error#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_metric
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_metric#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_sourcemap
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/default_sourcemap#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/meta_alias_information_overwrites_config
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/meta_alias_information_overwrites_config#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/meta_information_overwrites_config
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/meta_information_overwrites_config#01
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/custom_indices,_fallback_to_default_index
[2019-05-23T16:43:57.995Z] === RUN   TestIndexSupport_BuildSelector/custom_indices,_fallback_to_default_index#01
[2019-05-23T16:43:57.995Z] --- PASS: TestIndexSupport_BuildSelector (0.10s)
[2019-05-23T16:43:57.995Z]     --- PASS: TestIndexSupport_BuildSelector/default_index (0.01s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_index#01 (0.01s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_onboarding (0.01s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_onboarding#01 (0.01s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_span (0.01s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_span#01 (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_transaction (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_transaction#01 (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/custom_index (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/custom_index#01 (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/custom_indices (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/custom_indices#01 (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_error (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_error#01 (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_metric (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_metric#01 (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_sourcemap (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/default_sourcemap#01 (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/meta_alias_information_overwrites_config (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/meta_alias_information_overwrites_config#01 (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/meta_information_overwrites_config (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/meta_information_overwrites_config#01 (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/custom_indices,_fallback_to_default_index (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexSupport_BuildSelector/custom_indices,_fallback_to_default_index#01 (0.00s)
[2019-05-23T16:43:57.996Z] === RUN   TestIndexManager_VerifySetup
[2019-05-23T16:43:57.996Z] === RUN   TestIndexManager_VerifySetup/load_template_with_ilm_without_loading_ilm
[2019-05-23T16:43:57.996Z] === RUN   TestIndexManager_VerifySetup/load_ilm_without_template
[2019-05-23T16:43:57.996Z] === RUN   TestIndexManager_VerifySetup/template_disabled_but_loading_enabled
[2019-05-23T16:43:57.996Z] === RUN   TestIndexManager_VerifySetup/ilm_disabled_but_loading_enabled
[2019-05-23T16:43:57.996Z] === RUN   TestIndexManager_VerifySetup/ilm_enabled_but_loading_disabled
[2019-05-23T16:43:57.996Z] === RUN   TestIndexManager_VerifySetup/template_enabled_but_loading_disabled
[2019-05-23T16:43:57.996Z] === RUN   TestIndexManager_VerifySetup/everything_enabled
[2019-05-23T16:43:57.996Z] --- PASS: TestIndexManager_VerifySetup (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexManager_VerifySetup/load_template_with_ilm_without_loading_ilm (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexManager_VerifySetup/load_ilm_without_template (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexManager_VerifySetup/template_disabled_but_loading_enabled (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexManager_VerifySetup/ilm_disabled_but_loading_enabled (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexManager_VerifySetup/ilm_enabled_but_loading_disabled (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexManager_VerifySetup/template_enabled_but_loading_disabled (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestIndexManager_VerifySetup/everything_enabled (0.00s)
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/do_not_load_template_load_ilm
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/do_not_load_template_force_load_ilm
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/default_load_template_without_ilm
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/force_load_template
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/load_template_with_ilm_settings
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/template_disabled
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/template_disabled_ilm_enabled_loading_disabled
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/load_template_and_ilm
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/force_load_template_force_load_ilm
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/load_template_without_ilm
[2019-05-23T16:43:57.996Z] === RUN   TestManager_Setup/load_template_disabled
[2019-05-23T16:43:57.996Z] --- PASS: TestManager_Setup (0.04s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/do_not_load_template_load_ilm (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/do_not_load_template_force_load_ilm (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/default_load_template_without_ilm (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/force_load_template (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/load_template_with_ilm_settings (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/template_disabled (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/template_disabled_ilm_enabled_loading_disabled (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/load_template_and_ilm (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/force_load_template_force_load_ilm (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/load_template_without_ilm (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestManager_Setup/load_template_disabled (0.00s)
[2019-05-23T16:43:57.996Z] PASS
[2019-05-23T16:43:57.996Z] ok  	github.com/elastic/apm-server/idxmgmt	1.192s
[2019-05-23T16:43:57.996Z] === RUN   TestMakeDefaultSupporter
[2019-05-23T16:43:57.996Z] === RUN   TestMakeDefaultSupporter/invalid_config
[2019-05-23T16:43:57.996Z] === RUN   TestMakeDefaultSupporter/alias_and_policy_missing_in_config
[2019-05-23T16:43:57.996Z] === RUN   TestMakeDefaultSupporter/replace_parameters_in_config
[2019-05-23T16:43:57.996Z] --- PASS: TestMakeDefaultSupporter (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestMakeDefaultSupporter/invalid_config (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestMakeDefaultSupporter/alias_and_policy_missing_in_config (0.00s)
[2019-05-23T16:43:57.996Z]     --- PASS: TestMakeDefaultSupporter/replace_parameters_in_config (0.00s)
[2019-05-23T16:43:57.996Z] === RUN   TestTemplate_ILMEnabled
[2019-05-23T16:43:57.996Z] --- PASS: TestTemplate_ILMEnabled (0.00s)
[2019-05-23T16:43:57.996Z] === RUN   TestTemplate_ILMDisabled
[2019-05-23T16:43:57.996Z] --- PASS: TestTemplate_ILMDisabled (0.00s)
[2019-05-23T16:43:57.996Z] PASS
[2019-05-23T16:43:57.996Z] ok  	github.com/elastic/apm-server/idxmgmt/ilm	1.028s
[2019-05-23T16:43:57.996Z] ?   	github.com/elastic/apm-server/include	[no test files]
[2019-05-23T16:43:57.996Z] === RUN   TestRegisterPipelines
[2019-05-23T16:43:57.996Z] --- PASS: TestRegisterPipelines (0.01s)
[2019-05-23T16:43:57.997Z] PASS
[2019-05-23T16:43:57.997Z] ok  	github.com/elastic/apm-server/ingest/pipeline	1.038s
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/no_url_protocol
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/experimental_is_not_true
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/no_context
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/empty
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/url_port_string
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/no_request_method
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/url_port_invalid_string
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/user_id_integer
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/full_event_with_experimental=true
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/input_nil
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/input_err
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/wrong_type
[2019-05-23T16:43:57.997Z] === RUN   TestDecodeContext/request_body_string
[2019-05-23T16:43:57.997Z] --- PASS: TestDecodeContext (0.03s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/no_url_protocol (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/experimental_is_not_true (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/no_context (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/empty (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/url_port_string (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/no_request_method (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/url_port_invalid_string (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/user_id_integer (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/full_event_with_experimental=true (0.01s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/input_nil (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/input_err (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/wrong_type (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestDecodeContext/request_body_string (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestStacktraceFrameDecode
[2019-05-23T16:43:57.997Z] --- PASS: TestStacktraceFrameDecode (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestStacktraceFrameTransform
[2019-05-23T16:43:57.997Z] --- PASS: TestStacktraceFrameTransform (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestApplySourcemap
[2019-05-23T16:43:57.997Z] --- PASS: TestApplySourcemap (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestIsLibraryFrame
[2019-05-23T16:43:57.997Z] --- PASS: TestIsLibraryFrame (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestIsSourcemapApplied
[2019-05-23T16:43:57.997Z] --- PASS: TestIsSourcemapApplied (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestExcludeFromGroupingKey
[2019-05-23T16:43:57.997Z] --- PASS: TestExcludeFromGroupingKey (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestLibraryFrame
[2019-05-23T16:43:57.997Z] --- PASS: TestLibraryFrame (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestBuildSourcemap
[2019-05-23T16:43:57.997Z] --- PASS: TestBuildSourcemap (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestStacktraceDecode
[2019-05-23T16:43:57.997Z] --- PASS: TestStacktraceDecode (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestStacktraceTransform
[2019-05-23T16:43:57.997Z] --- PASS: TestStacktraceTransform (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestStacktraceTransformWithSourcemapping
[2019-05-23T16:43:57.997Z] --- PASS: TestStacktraceTransformWithSourcemapping (0.00s)
[2019-05-23T16:43:57.997Z] PASS
[2019-05-23T16:43:57.997Z] ok  	github.com/elastic/apm-server/model	1.084s
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/only_parent_id_given
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/minimal_valid_error_with_log_and_exception
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/valid_error_experimental=true,_no_experimental_payload
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/no_input
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/an_error_passed_as_arg
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/error_decoding_transaction_id
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/error_decoding_timestamp
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/valid_error_experimental=true
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/full_valid_error_event
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/only_trace_id_given
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/minimal_valid_error
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/valid_error_experimental=false
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/invalid_type
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/invalid_type_for_exception_stacktrace
[2019-05-23T16:43:57.997Z] === RUN   TestErrorEventDecode/invalid_type_for_log_stacktrace
[2019-05-23T16:43:57.997Z] --- PASS: TestErrorEventDecode (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/only_parent_id_given (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/minimal_valid_error_with_log_and_exception (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/valid_error_experimental=true,_no_experimental_payload (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/no_input (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/an_error_passed_as_arg (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/error_decoding_transaction_id (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/error_decoding_timestamp (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/valid_error_experimental=true (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/full_valid_error_event (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/only_trace_id_given (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/minimal_valid_error (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/valid_error_experimental=false (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/invalid_type (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/invalid_type_for_exception_stacktrace (0.00s)
[2019-05-23T16:43:57.997Z]     --- PASS: TestErrorEventDecode/invalid_type_for_log_stacktrace (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestEventFields
[2019-05-23T16:43:57.997Z] --- PASS: TestEventFields (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestEvents
[2019-05-23T16:43:57.997Z] --- PASS: TestEvents (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestCulprit
[2019-05-23T16:43:57.997Z] --- PASS: TestCulprit (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestEmptyGroupingKey
[2019-05-23T16:43:57.997Z] --- PASS: TestEmptyGroupingKey (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestExplicitGroupingKey
[2019-05-23T16:43:57.997Z] --- PASS: TestExplicitGroupingKey (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestFramesUsableForGroupingKey
[2019-05-23T16:43:57.997Z] --- PASS: TestFramesUsableForGroupingKey (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestFallbackGroupingKey
[2019-05-23T16:43:57.997Z] --- PASS: TestFallbackGroupingKey (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestNoFallbackGroupingKey
[2019-05-23T16:43:57.997Z] --- PASS: TestNoFallbackGroupingKey (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestGroupableEvents
[2019-05-23T16:43:57.997Z] --- PASS: TestGroupableEvents (0.00s)
[2019-05-23T16:43:57.997Z] === RUN   TestSourcemapping
[2019-05-23T16:43:57.997Z] --- PASS: TestSourcemapping (0.00s)
[2019-05-23T16:43:57.997Z] PASS
[2019-05-23T16:43:57.998Z] ok  	github.com/elastic/apm-server/model/error	1.053s
[2019-05-23T16:43:57.998Z] ?   	github.com/elastic/apm-server/model/error/generated/schema	[no test files]
[2019-05-23T16:43:57.998Z] === RUN   TestContainerTransform
[2019-05-23T16:43:57.998Z] --- PASS: TestContainerTransform (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestContainerDecode
[2019-05-23T16:43:57.998Z] --- PASS: TestContainerDecode (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestKubernetesTransform
[2019-05-23T16:43:57.998Z] --- PASS: TestKubernetesTransform (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestKubernetesDecode
[2019-05-23T16:43:57.998Z] --- PASS: TestKubernetesDecode (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeMetadata
[2019-05-23T16:43:57.998Z] --- PASS: TestDecodeMetadata (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestMetadata_Set
[2019-05-23T16:43:57.998Z] --- PASS: TestMetadata_Set (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestMetadata_SetMinimal
[2019-05-23T16:43:57.998Z] --- PASS: TestMetadata_SetMinimal (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestProcessTransform
[2019-05-23T16:43:57.998Z] --- PASS: TestProcessTransform (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestProcessDecode
[2019-05-23T16:43:57.998Z] --- PASS: TestProcessDecode (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestServiceTransform
[2019-05-23T16:43:57.998Z] --- PASS: TestServiceTransform (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestServiceDecode
[2019-05-23T16:43:57.998Z] --- PASS: TestServiceDecode (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestSystemTransform
[2019-05-23T16:43:57.998Z] --- PASS: TestSystemTransform (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestSystemDecode
[2019-05-23T16:43:57.998Z] --- PASS: TestSystemDecode (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestUserFields
[2019-05-23T16:43:57.998Z] --- PASS: TestUserFields (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestUserClientFields
[2019-05-23T16:43:57.998Z] --- PASS: TestUserClientFields (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestUserAgentFields
[2019-05-23T16:43:57.998Z] --- PASS: TestUserAgentFields (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestUserDecode
[2019-05-23T16:43:57.998Z] --- PASS: TestUserDecode (0.00s)
[2019-05-23T16:43:57.998Z] PASS
[2019-05-23T16:43:57.998Z] ok  	github.com/elastic/apm-server/model/metadata	1.042s
[2019-05-23T16:43:57.998Z] ?   	github.com/elastic/apm-server/model/metadata/generated/schema	[no test files]
[2019-05-23T16:43:57.998Z] === RUN   TestDecode
[2019-05-23T16:43:57.998Z] --- PASS: TestDecode (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestTransform
[2019-05-23T16:43:57.998Z] --- PASS: TestTransform (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestEventTransformUseReqTime
[2019-05-23T16:43:57.998Z] --- PASS: TestEventTransformUseReqTime (0.00s)
[2019-05-23T16:43:57.998Z] PASS
[2019-05-23T16:43:57.998Z] ok  	github.com/elastic/apm-server/model/metricset	1.042s
[2019-05-23T16:43:57.998Z] ?   	github.com/elastic/apm-server/model/metricset/generated/schema	[no test files]
[2019-05-23T16:43:57.998Z] === RUN   TestDecode
[2019-05-23T16:43:57.998Z] --- PASS: TestDecode (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestTransform
[2019-05-23T16:43:57.998Z] --- PASS: TestTransform (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestParseSourcemaps
[2019-05-23T16:43:57.998Z] --- PASS: TestParseSourcemaps (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestInvalidateCache
[2019-05-23T16:43:57.998Z] --- PASS: TestInvalidateCache (0.00s)
[2019-05-23T16:43:57.998Z] PASS
[2019-05-23T16:43:57.998Z] ok  	github.com/elastic/apm-server/model/sourcemap	1.050s
[2019-05-23T16:43:57.998Z] ?   	github.com/elastic/apm-server/model/sourcemap/generated/schema	[no test files]
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/input_error
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/transaction_id_wrong_type
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/no_trace_id
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/event_experimental=true,_no_experimental_payload
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/invalid_type
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/no_id
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/minimal_payload
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/event_experimental=true
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/full_valid_payload
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/no_input
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/no_parent_id
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/event_experimental=false
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/missing_required_field
[2019-05-23T16:43:57.998Z] === RUN   TestDecodeSpan/invalid_stacktrace
[2019-05-23T16:43:57.998Z] --- PASS: TestDecodeSpan (0.01s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/input_error (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/transaction_id_wrong_type (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/no_trace_id (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/event_experimental=true,_no_experimental_payload (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/invalid_type (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/no_id (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/minimal_payload (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/event_experimental=true (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/full_valid_payload (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/no_input (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/no_parent_id (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/event_experimental=false (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/missing_required_field (0.00s)
[2019-05-23T16:43:57.998Z]     --- PASS: TestDecodeSpan/invalid_stacktrace (0.00s)
[2019-05-23T16:43:57.998Z] === RUN   TestSpanTransform
[2019-05-23T16:43:57.998Z] --- PASS: TestSpanTransform (0.00s)
[2019-05-23T16:43:57.999Z] === RUN   TestEventTransformUseReqTimePlusStart
[2019-05-23T16:43:57.999Z] --- PASS: TestEventTransformUseReqTimePlusStart (0.00s)
[2019-05-23T16:43:57.999Z] PASS
[2019-05-23T16:43:57.999Z] ok  	github.com/elastic/apm-server/model/span	1.055s
[2019-05-23T16:43:57.999Z] ?   	github.com/elastic/apm-server/model/span/generated/schema	[no test files]
[2019-05-23T16:43:59.662Z] .
[2019-05-23T16:43:59.905Z] === RUN   TestTransactionEventDecodeFailure
[2019-05-23T16:43:59.906Z] === RUN   TestTransactionEventDecodeFailure/invalid_type
[2019-05-23T16:43:59.906Z] === RUN   TestTransactionEventDecodeFailure/cannot_fetch_field
[2019-05-23T16:43:59.906Z] === RUN   TestTransactionEventDecodeFailure/no_input
[2019-05-23T16:43:59.906Z] === RUN   TestTransactionEventDecodeFailure/input_error
[2019-05-23T16:43:59.906Z] --- PASS: TestTransactionEventDecodeFailure (0.00s)
[2019-05-23T16:43:59.906Z]     --- PASS: TestTransactionEventDecodeFailure/invalid_type (0.00s)
[2019-05-23T16:43:59.906Z]     --- PASS: TestTransactionEventDecodeFailure/cannot_fetch_field (0.00s)
[2019-05-23T16:43:59.906Z]     --- PASS: TestTransactionEventDecodeFailure/no_input (0.00s)
[2019-05-23T16:43:59.906Z]     --- PASS: TestTransactionEventDecodeFailure/input_error (0.00s)
[2019-05-23T16:43:59.906Z] === RUN   TestTransactionEventDecode
[2019-05-23T16:43:59.906Z] === RUN   TestTransactionEventDecode/event_experimental=true,_no_experimental_payload
[2019-05-23T16:43:59.906Z] === RUN   TestTransactionEventDecode/event_experimental=false
[2019-05-23T16:43:59.906Z] === RUN   TestTransactionEventDecode/event_experimental=true
[2019-05-23T16:43:59.906Z] === RUN   TestTransactionEventDecode/full_event
[2019-05-23T16:43:59.906Z] --- PASS: TestTransactionEventDecode (0.00s)
[2019-05-23T16:43:59.906Z]     --- PASS: TestTransactionEventDecode/event_experimental=true,_no_experimental_payload (0.00s)
[2019-05-23T16:43:59.906Z]     --- PASS: TestTransactionEventDecode/event_experimental=false (0.00s)
[2019-05-23T16:43:59.906Z]     --- PASS: TestTransactionEventDecode/event_experimental=true (0.00s)
[2019-05-23T16:43:59.906Z]     --- PASS: TestTransactionEventDecode/full_event (0.00s)
[2019-05-23T16:43:59.906Z] === RUN   TestEventTransform
[2019-05-23T16:43:59.906Z] --- PASS: TestEventTransform (0.00s)
[2019-05-23T16:43:59.906Z] === RUN   TestEventsTransformWithMetadata
[2019-05-23T16:43:59.906Z] --- PASS: TestEventsTransformWithMetadata (0.00s)
[2019-05-23T16:43:59.906Z] === RUN   TestEventTransformUseReqTime
[2019-05-23T16:43:59.906Z] --- PASS: TestEventTransformUseReqTime (0.00s)
[2019-05-23T16:43:59.906Z] PASS
[2019-05-23T16:43:59.906Z] ok  	github.com/elastic/apm-server/model/transaction	1.060s
[2019-05-23T16:43:59.906Z] ?   	github.com/elastic/apm-server/model/transaction/generated/schema	[no test files]
[2019-05-23T16:43:59.906Z] === RUN   TestNew
[2019-05-23T16:43:59.906Z] --- PASS: TestNew (0.00s)
[2019-05-23T16:43:59.906Z] === RUN   TestAddr
[2019-05-23T16:43:59.906Z] --- PASS: TestAddr (0.00s)
[2019-05-23T16:43:59.906Z] === RUN   TestDialAccept
[2019-05-23T16:43:59.906Z] --- PASS: TestDialAccept (0.00s)
[2019-05-23T16:43:59.906Z] === RUN   TestAcceptClosed
[2019-05-23T16:43:59.906Z] --- PASS: TestAcceptClosed (0.00s)
[2019-05-23T16:43:59.906Z] === RUN   TestDialClosed
[2019-05-23T16:43:59.906Z] --- PASS: TestDialClosed (0.00s)
[2019-05-23T16:43:59.906Z] === RUN   TestDialContextCanceled
[2019-05-23T16:43:59.906Z] --- PASS: TestDialContextCanceled (0.00s)
[2019-05-23T16:43:59.906Z] PASS
[2019-05-23T16:43:59.906Z] ok  	github.com/elastic/apm-server/pipelistener	1.016s
[2019-05-23T16:43:59.906Z] ?   	github.com/elastic/apm-server/processor/asset	[no test files]
[2019-05-23T16:43:59.906Z] ?   	github.com/elastic/apm-server/processor/asset/sourcemap	[no test files]
[2019-05-23T16:44:00.608Z] .
[2019-05-23T16:44:01.604Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server	0.062s
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/beater	0.058s
[2019-05-23T16:44:01.605Z] ?   	github.com/elastic/apm-server/cmd	[no test files]
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/decoder	0.046s
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/idxmgmt	0.024s
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/idxmgmt/ilm	0.026s
[2019-05-23T16:44:01.605Z] ?   	github.com/elastic/apm-server/include	[no test files]
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/ingest/pipeline	0.025s
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/model	0.033s
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/model/error	0.026s
[2019-05-23T16:44:01.605Z] ?   	github.com/elastic/apm-server/model/error/generated/schema	[no test files]
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/model/metadata	0.014s
[2019-05-23T16:44:01.605Z] ?   	github.com/elastic/apm-server/model/metadata/generated/schema	[no test files]
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/model/metricset	0.030s
[2019-05-23T16:44:01.605Z] ?   	github.com/elastic/apm-server/model/metricset/generated/schema	[no test files]
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/model/sourcemap	0.036s
[2019-05-23T16:44:01.605Z] ?   	github.com/elastic/apm-server/model/sourcemap/generated/schema	[no test files]
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/model/span	0.027s
[2019-05-23T16:44:01.605Z] ?   	github.com/elastic/apm-server/model/span/generated/schema	[no test files]
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/model/transaction	0.033s
[2019-05-23T16:44:01.605Z] ?   	github.com/elastic/apm-server/model/transaction/generated/schema	[no test files]
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/pipelistener	0.008s
[2019-05-23T16:44:01.605Z] ?   	github.com/elastic/apm-server/processor/asset	[no test files]
[2019-05-23T16:44:01.605Z] ?   	github.com/elastic/apm-server/processor/asset/sourcemap	[no test files]
[2019-05-23T16:44:01.605Z] PASS
[2019-05-23T16:44:01.605Z] ok  	github.com/elastic/apm-server/processor/asset/sourcemap/package_tests	0.013s
[2019-05-23T16:44:01.605Z] goos: linux
[2019-05-23T16:44:01.605Z] goarch: amd64
[2019-05-23T16:44:01.605Z] pkg: github.com/elastic/apm-server/processor/stream
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/errors.ndjson/NoRateLimit-4         	     300	    367932 ns/op	  14.35 MB/s	   61246 B/op	    1102 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/errors.ndjson/WithRateLimit-4       	     300	    450499 ns/op	  11.72 MB/s	   62351 B/op	    1111 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/errors_2.ndjson/NoRateLimit-4       	     500	    343551 ns/op	  13.48 MB/s	   59463 B/op	    1040 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/errors_2.ndjson/WithRateLimit-4     	     300	    430504 ns/op	  10.76 MB/s	   58563 B/op	    1048 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/errors_rum.ndjson/NoRateLimit-4     	    1000	    127840 ns/op	  14.84 MB/s	   24477 B/op	     381 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/errors_rum.ndjson/WithRateLimit-4   	    1000	    189901 ns/op	   9.99 MB/s	   25932 B/op	     389 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/events.ndjson/NoRateLimit-4         	    1000	    139023 ns/op	   8.75 MB/s	   23488 B/op	     399 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/events.ndjson/WithRateLimit-4       	    1000	    203806 ns/op	   5.97 MB/s	   24009 B/op	     407 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/experimental.ndjson/NoRateLimit-4   	    2000	    109831 ns/op	   7.68 MB/s	   19433 B/op	     304 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/experimental.ndjson/WithRateLimit-4 	    1000	    160813 ns/op	   5.24 MB/s	   21043 B/op	     312 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/heavy.ndjson/NoRateLimit-4          	       5	  31848213 ns/op	  12.53 MB/s	 7008640 B/op	  135143 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/heavy.ndjson/WithRateLimit-4        	       3	  47394501 ns/op	   8.42 MB/s	 7151832 B/op	  136716 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/invalid-event.ndjson/NoRateLimit-4  	    2000	     75657 ns/op	  10.12 MB/s	   13429 B/op	     234 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/invalid-event.ndjson/WithRateLimit-4         	    1000	    136677 ns/op	   5.60 MB/s	   13633 B/op	     242 allocs/op
[2019-05-23T16:44:01.605Z] BenchmarkStreamProcessor/invalid-json-event.ndjson/NoRateLimit-4      	    3000	     56054 ns/op	  10.47 MB/s	    9674 B/op	     166 allocs/op
[2019-05-23T16:44:01.865Z] BenchmarkStreamProcessor/invalid-json-event.ndjson/WithRateLimit-4    	    1000	    145607 ns/op	   4.03 MB/s	   10822 B/op	     182 allocs/op
[2019-05-23T16:44:01.998Z] .
[2019-05-23T16:44:02.457Z] === RUN   TestSourcemapProcessorOK
[2019-05-23T16:44:02.457Z] --- PASS: TestSourcemapProcessorOK (0.02s)
[2019-05-23T16:44:02.457Z] === RUN   TestPayloadAttrsMatchFields
[2019-05-23T16:44:02.457Z] --- PASS: TestPayloadAttrsMatchFields (0.02s)
[2019-05-23T16:44:02.457Z]     fields.go:138: Keys in events: [sourcemap sourcemap.bundle_filepath sourcemap.service sourcemap.service.name sourcemap.service.version]
[2019-05-23T16:44:02.457Z]     fields.go:138: Keys in events: [processor processor.event processor.name sourcemap sourcemap.bundle_filepath sourcemap.service sourcemap.service.name sourcemap.service.version sourcemap.sourcemap]
[2019-05-23T16:44:02.457Z] === RUN   TestPayloadAttrsMatchJsonSchema
[2019-05-23T16:44:02.457Z] --- PASS: TestPayloadAttrsMatchJsonSchema (0.00s)
[2019-05-23T16:44:02.457Z]     json_schema.go:113: schemaKeys: &{map[bundle_filepath:<nil> service_name:<nil> service_version:<nil>]}
[2019-05-23T16:44:02.457Z] === RUN   TestAttributesPresenceRequirementInSourcemap
[2019-05-23T16:44:02.458Z] --- PASS: TestAttributesPresenceRequirementInSourcemap (0.06s)
[2019-05-23T16:44:02.458Z] === RUN   TestKeywordLimitationOnSourcemapAttributes
[2019-05-23T16:44:02.458Z] --- PASS: TestKeywordLimitationOnSourcemapAttributes (0.01s)
[2019-05-23T16:44:02.458Z]     json_schema.go:202: Schema keys: [bundle_filepath service_version service_name]
[2019-05-23T16:44:02.458Z] === RUN   TestPayloadDataForSourcemap
[2019-05-23T16:44:02.458Z] --- PASS: TestPayloadDataForSourcemap (0.09s)
[2019-05-23T16:44:02.458Z] PASS
[2019-05-23T16:44:02.458Z] ok  	github.com/elastic/apm-server/processor/asset/sourcemap/package_tests	1.264s
[2019-05-23T16:44:02.942Z] .
[2019-05-23T16:44:03.241Z] BenchmarkStreamProcessor/invalid-json-metadata.ndjson/NoRateLimit-4   	   20000	      9118 ns/op	  49.02 MB/s	    2056 B/op	      26 allocs/op
[2019-05-23T16:44:04.176Z] /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin/gotestcover  -coverprofile=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/unit.cov  github.com/elastic/apm-server github.com/elastic/apm-server/beater github.com/elastic/apm-server/cmd github.com/elastic/apm-server/decoder github.com/elastic/apm-server/idxmgmt github.com/elastic/apm-server/idxmgmt/ilm github.com/elastic/apm-server/include github.com/elastic/apm-server/ingest/pipeline github.com/elastic/apm-server/model github.com/elastic/apm-server/model/error github.com/elastic/apm-server/model/error/generated/schema github.com/elastic/apm-server/model/metadata github.com/elastic/apm-server/model/metadata/generated/schema github.com/elastic/apm-server/model/metricset github.com/elastic/apm-server/model/metricset/generated/schema github.com/elastic/apm-server/model/sourcemap github.com/elastic/apm-server/model/sourcemap/generated/schema github.com/elastic/apm-server/model/span github.com/elastic/apm-server/model/span/generated/schema github.com/elastic/apm-server/model/transaction github.com/elastic/apm-server/model/transaction/generated/schema github.com/elastic/apm-server/pipelistener github.com/elastic/apm-server/processor/asset github.com/elastic/apm-server/processor/asset/sourcemap github.com/elastic/apm-server/processor/asset/sourcemap/package_tests github.com/elastic/apm-server/processor/stream github.com/elastic/apm-server/processor/stream/package_tests github.com/elastic/apm-server/publish github.com/elastic/apm-server/script/inline_schemas github.com/elastic/apm-server/sourcemap github.com/elastic/apm-server/tests github.com/elastic/apm-server/tests/loader github.com/elastic/apm-server/tests/scripts github.com/elastic/apm-server/transform github.com/elastic/apm-server/utility github.com/elastic/apm-server/validation github.com/elastic/apm-server/x-pack/apm-server github.com/elastic/apm-server/x-pack/apm-server/cmd
[2019-05-23T16:44:04.329Z] .
[2019-05-23T16:44:04.369Z] === RUN   TestHandlerReadStreamError
[2019-05-23T16:44:04.369Z] --- PASS: TestHandlerReadStreamError (0.01s)
[2019-05-23T16:44:04.369Z] === RUN   TestHandlerReportingStreamError
[2019-05-23T16:44:04.369Z] --- PASS: TestHandlerReportingStreamError (0.01s)
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/Errors
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/Transactions
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/Spans
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/Metricsets
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/Events
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/MinimalService
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/MetadataNullValues
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/InvalidEvent
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/InvalidJSONEvent
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/InvalidJSONMetadata
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/InvalidMetadata
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/InvalidMetadata2
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/UnrecognizedEvent
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationESOutput/OptionalTimestamps
[2019-05-23T16:44:04.369Z] --- PASS: TestIntegrationESOutput (0.13s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/Errors (0.04s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/Transactions (0.02s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/Spans (0.01s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/Metricsets (0.01s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/Events (0.01s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/MinimalService (0.00s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/MetadataNullValues (0.00s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/InvalidEvent (0.00s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/InvalidJSONEvent (0.00s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/InvalidJSONMetadata (0.00s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/InvalidMetadata (0.00s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/InvalidMetadata2 (0.00s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/UnrecognizedEvent (0.00s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationESOutput/OptionalTimestamps (0.01s)
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationRum
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationRum/RumErrors
[2019-05-23T16:44:04.369Z] === RUN   TestIntegrationRum/RumTransactions
[2019-05-23T16:44:04.369Z] --- PASS: TestIntegrationRum (0.02s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationRum/RumErrors (0.01s)
[2019-05-23T16:44:04.369Z]     --- PASS: TestIntegrationRum/RumTransactions (0.01s)
[2019-05-23T16:44:04.369Z] === RUN   TestRateLimiting
[2019-05-23T16:44:04.369Z] --- PASS: TestRateLimiting (1.88s)
[2019-05-23T16:44:04.369Z] === RUN   TestStreamResponseSimple
[2019-05-23T16:44:04.369Z] --- PASS: TestStreamResponseSimple (0.00s)
[2019-05-23T16:44:04.369Z] === RUN   TestMonitoring
[2019-05-23T16:44:04.369Z] --- PASS: TestMonitoring (0.00s)
[2019-05-23T16:44:04.369Z] PASS
[2019-05-23T16:44:04.369Z] ok  	github.com/elastic/apm-server/processor/stream	3.124s
[2019-05-23T16:44:04.617Z] BenchmarkStreamProcessor/invalid-json-metadata.ndjson/WithRateLimit-4 	   20000	      8974 ns/op	  49.81 MB/s	    2087 B/op	      26 allocs/op
[2019-05-23T16:44:05.718Z] .
[2019-05-23T16:44:05.998Z] BenchmarkStreamProcessor/invalid-metadata-2.ndjson/NoRateLimit-4      	   20000	      6969 ns/op	  62.56 MB/s	    1818 B/op	      22 allocs/op
[2019-05-23T16:44:06.935Z] BenchmarkStreamProcessor/invalid-metadata-2.ndjson/WithRateLimit-4    	   20000	      6824 ns/op	  63.88 MB/s	    1834 B/op	      22 allocs/op
[2019-05-23T16:44:07.502Z] BenchmarkStreamProcessor/invalid-metadata.ndjson/NoRateLimit-4        	   10000	     15669 ns/op	  28.46 MB/s	    3520 B/op	      52 allocs/op
[2019-05-23T16:44:07.635Z] .
[2019-05-23T16:44:08.069Z] BenchmarkStreamProcessor/invalid-metadata.ndjson/WithRateLimit-4      	   10000	     15677 ns/op	  28.45 MB/s	    3738 B/op	      52 allocs/op
[2019-05-23T16:44:08.330Z] BenchmarkStreamProcessor/metadata-null-values.ndjson/NoRateLimit-4    	    3000	     50124 ns/op	  10.49 MB/s	    9642 B/op	     154 allocs/op
[2019-05-23T16:44:08.591Z] BenchmarkStreamProcessor/metadata-null-values.ndjson/WithRateLimit-4  	    2000	    105695 ns/op	   4.98 MB/s	   10003 B/op	     162 allocs/op
[2019-05-23T16:44:08.851Z] BenchmarkStreamProcessor/metricsets.ndjson/NoRateLimit-4              	    1000	    126610 ns/op	   7.99 MB/s	   16082 B/op	     298 allocs/op
[2019-05-23T16:44:09.022Z] .
[2019-05-23T16:44:09.111Z] BenchmarkStreamProcessor/metricsets.ndjson/WithRateLimit-4            	    1000	    179644 ns/op	   5.63 MB/s	   16913 B/op	     306 allocs/op
[2019-05-23T16:44:09.370Z] BenchmarkStreamProcessor/minimal-service.ndjson/NoRateLimit-4         	    3000	     62068 ns/op	   6.85 MB/s	   11885 B/op	     176 allocs/op
[2019-05-23T16:44:09.939Z] BenchmarkStreamProcessor/minimal-service.ndjson/WithRateLimit-4       	    2000	    112186 ns/op	   3.79 MB/s	   12194 B/op	     184 allocs/op
[2019-05-23T16:44:09.939Z] BenchmarkStreamProcessor/minimal.ndjson/NoRateLimit-4                 	    1000	    140525 ns/op	   7.22 MB/s	   28318 B/op	     447 allocs/op
[2019-05-23T16:44:10.200Z] BenchmarkStreamProcessor/minimal.ndjson/WithRateLimit-4               	    1000	    198340 ns/op	   5.12 MB/s	   27592 B/op	     455 allocs/op
[2019-05-23T16:44:10.418Z] .
[2019-05-23T16:44:10.461Z] BenchmarkStreamProcessor/only-metadata.ndjson/NoRateLimit-4           	    2000	     66320 ns/op	  12.03 MB/s	   11969 B/op	     207 allocs/op
[2019-05-23T16:44:11.033Z] BenchmarkStreamProcessor/only-metadata.ndjson/WithRateLimit-4         	    2000	    119143 ns/op	   6.70 MB/s	   12953 B/op	     215 allocs/op
[2019-05-23T16:44:11.299Z] BenchmarkStreamProcessor/optional-timestamps.ndjson/NoRateLimit-4     	    2000	    101960 ns/op	  10.07 MB/s	   18297 B/op	     332 allocs/op
[2019-05-23T16:44:11.564Z] BenchmarkStreamProcessor/optional-timestamps.ndjson/WithRateLimit-4   	    1000	    169306 ns/op	   6.07 MB/s	   20533 B/op	     340 allocs/op
[2019-05-23T16:44:11.824Z] BenchmarkStreamProcessor/ratelimit.ndjson/NoRateLimit-4               	     500	    437717 ns/op	   9.62 MB/s	   78626 B/op	    1424 allocs/op
[2019-05-23T16:44:12.084Z] BenchmarkStreamProcessor/ratelimit.ndjson/WithRateLimit-4             	     300	    572728 ns/op	   7.35 MB/s	   79871 B/op	    1440 allocs/op
[2019-05-23T16:44:12.344Z] BenchmarkStreamProcessor/spans.ndjson/NoRateLimit-4                   	     500	    277638 ns/op	  11.08 MB/s	   43020 B/op	     822 allocs/op
[2019-05-23T16:44:12.604Z] BenchmarkStreamProcessor/spans.ndjson/WithRateLimit-4                 	     500	    347729 ns/op	   8.85 MB/s	   44165 B/op	     830 allocs/op
[2019-05-23T16:44:12.604Z] BenchmarkStreamProcessor/transactions.ndjson/NoRateLimit-4            	     500	    300349 ns/op	  11.94 MB/s	   49443 B/op	     833 allocs/op
[2019-05-23T16:44:12.864Z] BenchmarkStreamProcessor/transactions.ndjson/WithRateLimit-4          	     300	    412267 ns/op	   8.70 MB/s	   53374 B/op	     841 allocs/op
[2019-05-23T16:44:12.973Z] SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS.
[2019-05-23T16:44:13.123Z] BenchmarkStreamProcessor/transactions_spans.ndjson/NoRateLimit-4      	     300	    511168 ns/op	  10.99 MB/s	   82909 B/op	    1458 allocs/op
[2019-05-23T16:44:13.383Z] BenchmarkStreamProcessor/transactions_spans.ndjson/WithRateLimit-4    	     300	    579162 ns/op	   9.70 MB/s	   86834 B/op	    1466 allocs/op
[2019-05-23T16:44:13.643Z] BenchmarkStreamProcessor/transactions_spans_rum.ndjson/NoRateLimit-4  	    2000	     96353 ns/op	  10.84 MB/s	   16345 B/op	     265 allocs/op
[2019-05-23T16:44:13.901Z] BenchmarkStreamProcessor/transactions_spans_rum.ndjson/WithRateLimit-4         	    1000	    150124 ns/op	   6.95 MB/s	   17489 B/op	     273 allocs/op
[2019-05-23T16:44:14.159Z] BenchmarkStreamProcessor/transactions_spans_rum_2.ndjson/NoRateLimit-4         	    2000	     95809 ns/op	  11.44 MB/s	   16716 B/op	     271 allocs/op
[2019-05-23T16:44:14.419Z] BenchmarkStreamProcessor/transactions_spans_rum_2.ndjson/WithRateLimit-4       	    1000	    158735 ns/op	   6.90 MB/s	   17858 B/op	     279 allocs/op
[2019-05-23T16:44:14.892Z] .
[2019-05-23T16:44:14.987Z] BenchmarkStreamProcessor/unrecognized-event.ndjson/NoRateLimit-4               	    5000	     36172 ns/op	  10.81 MB/s	    7036 B/op	     100 allocs/op
[2019-05-23T16:44:14.987Z] BenchmarkStreamProcessor/unrecognized-event.ndjson/WithRateLimit-4             	    2000	     81679 ns/op	   4.79 MB/s	    7582 B/op	     108 allocs/op
[2019-05-23T16:44:14.987Z] PASS
[2019-05-23T16:44:14.987Z] ok  	github.com/elastic/apm-server/processor/stream	17.253s
[2019-05-23T16:44:15.246Z] PASS
[2019-05-23T16:44:15.246Z] ok  	github.com/elastic/apm-server/processor/stream/package_tests	0.016s
[2019-05-23T16:44:15.246Z] ?   	github.com/elastic/apm-server/publish	[no test files]
[2019-05-23T16:44:15.246Z] ?   	github.com/elastic/apm-server/script/inline_schemas	[no test files]
[2019-05-23T16:44:15.246Z] PASS
[2019-05-23T16:44:15.246Z] ok  	github.com/elastic/apm-server/sourcemap	0.006s
[2019-05-23T16:44:15.246Z] PASS
[2019-05-23T16:44:15.246Z] ok  	github.com/elastic/apm-server/tests	0.010s
[2019-05-23T16:44:15.246Z] ?   	github.com/elastic/apm-server/tests/loader	[no test files]
[2019-05-23T16:44:15.246Z] ?   	github.com/elastic/apm-server/tests/scripts	[no test files]
[2019-05-23T16:44:15.246Z] ?   	github.com/elastic/apm-server/transform	[no test files]
[2019-05-23T16:44:15.246Z] goos: linux
[2019-05-23T16:44:15.246Z] goarch: amd64
[2019-05-23T16:44:15.246Z] pkg: github.com/elastic/apm-server/utility
[2019-05-23T16:44:15.246Z] BenchmarkExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_54.55.101.102,_X-Forwarded-For:_nil-4         	 1000000	       170 ns/op	      16 B/op	       1 allocs/op
[2019-05-23T16:44:15.507Z] BenchmarkExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_54.55.101.102,_X-Forwarded-For:_54.56.103.104-4         	 1000000	       162 ns/op	      16 B/op	       1 allocs/op
[2019-05-23T16:44:15.507Z] BenchmarkExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_nil,_X-Forwarded-For:_54.56.103.104-4                   	  500000	       239 ns/op	      16 B/op	       1 allocs/op
[2019-05-23T16:44:15.766Z] BenchmarkExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_nil,_X-Forwarded-For:_54.56.103.104_,_54.57.105.106_,_54.58.107.108-4         	  500000	       263 ns/op	      16 B/op	       1 allocs/op
[2019-05-23T16:44:16.026Z] BenchmarkExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_nil,_X-Forwarded-For:_nil-4                                                   	 1000000	       223 ns/op	      16 B/op	       1 allocs/op
[2019-05-23T16:44:16.286Z] BenchmarkExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_,_X-Forwarded-For:_-4                                                         	 1000000	       238 ns/op	      16 B/op	       1 allocs/op
[2019-05-23T16:44:16.286Z] BenchmarkExtractIP/extractIP_remote:_,_X-Real-IP:_,_X-Forwarded-For:_-4                                                                         	 1000000	       128 ns/op	       0 B/op	       0 allocs/op
[2019-05-23T16:44:16.286Z] PASS
[2019-05-23T16:44:16.286Z] ok  	github.com/elastic/apm-server/utility	1.205s
[2019-05-23T16:44:16.286Z] PASS
[2019-05-23T16:44:16.286Z] ok  	github.com/elastic/apm-server/validation	0.006s
[2019-05-23T16:44:16.286Z] ?   	github.com/elastic/apm-server/x-pack/apm-server	[no test files]
[2019-05-23T16:44:16.286Z] ?   	github.com/elastic/apm-server/x-pack/apm-server/cmd	[no test files]
[2019-05-23T16:44:16.834Z] [Pipeline] echo
[2019-05-23T16:44:16.834Z] [INFO] getVaultSecret: Getting secrets
[2019-05-23T16:44:16.840Z] [Pipeline] withCredentials
[2019-05-23T16:44:16.889Z] Masking only exact matches of $VAULT_ADDR or $VAULT_ROLE_ID or $VAULT_SECRET_ID
[2019-05-23T16:44:16.890Z] [Pipeline] {
[2019-05-23T16:44:17.294Z] [Pipeline] wrap
[2019-05-23T16:44:17.296Z] [Pipeline] {
[2019-05-23T16:44:17.369Z] [Pipeline] }
[2019-05-23T16:44:17.380Z] [Pipeline] // wrap
[2019-05-23T16:44:17.390Z] [Pipeline] }
[2019-05-23T16:44:17.401Z] [Pipeline] // withCredentials
[2019-05-23T16:44:17.416Z] [Pipeline] archiveArtifacts
[2019-05-23T16:44:17.421Z] Archiving artifacts
[2019-05-23T16:44:17.455Z] .
[2019-05-23T16:44:17.679Z] [Pipeline] echo
[2019-05-23T16:44:17.680Z] [INFO] Benchmarks: sending data...
[2019-05-23T16:44:17.685Z] [Pipeline] wrap
[2019-05-23T16:44:17.697Z] [Pipeline] {
[2019-05-23T16:44:17.714Z] [Pipeline] withEnv
[2019-05-23T16:44:17.715Z] [Pipeline] {
[2019-05-23T16:44:17.736Z] [Pipeline] sh
[2019-05-23T16:44:18.170Z] github.com/elastic/gobench (download)
[2019-05-23T16:44:18.739Z] github.com/kr/pretty (download)
[2019-05-23T16:44:19.000Z] github.com/kr/text (download)
[2019-05-23T16:44:19.373Z] .
[2019-05-23T16:44:19.570Z] github.com/pkg/errors (download)
[2019-05-23T16:44:20.136Z] Fetching https://golang.org/x/tools/benchmark/parse?go-get=1
[2019-05-23T16:44:20.136Z] Parsing meta tags from https://golang.org/x/tools/benchmark/parse?go-get=1 (status code 200)
[2019-05-23T16:44:20.136Z] get "golang.org/x/tools/benchmark/parse": found meta tag get.metaImport{Prefix:"golang.org/x/tools", VCS:"git", RepoRoot:"https://go.googlesource.com/tools"} at https://golang.org/x/tools/benchmark/parse?go-get=1
[2019-05-23T16:44:20.136Z] get "golang.org/x/tools/benchmark/parse": verifying non-authoritative meta tag
[2019-05-23T16:44:20.136Z] Fetching https://golang.org/x/tools?go-get=1
[2019-05-23T16:44:20.136Z] Parsing meta tags from https://golang.org/x/tools?go-get=1 (status code 200)
[2019-05-23T16:44:20.136Z] golang.org/x/tools (download)
[2019-05-23T16:44:20.395Z] Fetching https://golang.org/x/tools/go/vcs?go-get=1
[2019-05-23T16:44:20.395Z] Parsing meta tags from https://golang.org/x/tools/go/vcs?go-get=1 (status code 200)
[2019-05-23T16:44:20.395Z] get "golang.org/x/tools/go/vcs": found meta tag get.metaImport{Prefix:"golang.org/x/tools", VCS:"git", RepoRoot:"https://go.googlesource.com/tools"} at https://golang.org/x/tools/go/vcs?go-get=1
[2019-05-23T16:44:20.396Z] get "golang.org/x/tools/go/vcs": verifying non-authoritative meta tag
[2019-05-23T16:44:20.654Z] github.com/kr/text
[2019-05-23T16:44:20.654Z] github.com/pkg/errors
[2019-05-23T16:44:20.654Z] github.com/kr/pretty
[2019-05-23T16:44:20.654Z] golang.org/x/tools/go/vcs
[2019-05-23T16:44:20.913Z] github.com/elastic/gobench
[2019-05-23T16:44:21.936Z] .
[2019-05-23T16:44:22.476Z] === RUN   TestErrorPayloadAttrsMatchFields
[2019-05-23T16:44:22.476Z] --- PASS: TestErrorPayloadAttrsMatchFields (0.27s)
[2019-05-23T16:44:22.476Z]     fields.go:138: Keys in events: [agent agent.ephemeral_id agent.name agent.version container container.id error error.culprit error.exception error.exception.code error.exception.handled error.exception.message error.exception.module error.exception.type error.grouping_key error.id error.log error.log.level error.log.logger_name error.log.message error.log.param_message host host.architecture host.hostname host.os host.os.platform http http.request http.request.method http.response http.response.finished http.response.status_code http.version kubernetes kubernetes.namespace kubernetes.node kubernetes.node.name kubernetes.pod kubernetes.pod.name kubernetes.pod.uid parent parent.id process process.args process.pid process.ppid process.title service service.environment service.framework service.framework.name service.framework.version service.language service.language.name service.language.version service.name service.runtime service.runtime.name service.runtime.version service.version timestamp timestamp.us trace trace.id transaction transaction.id transaction.sampled transaction.type url url.domain url.fragment url.full url.path url.port url.query url.scheme user user.email user.id user.name user_agent user_agent.original]
[2019-05-23T16:44:22.476Z]     fields.go:138: Keys in events: [agent agent.ephemeral_id agent.name agent.version container container.id error error.culprit error.custom error.custom.and_objects error.custom.and_objects.foo error.custom.my_key error.custom.some_other_value error.exception error.exception.attributes error.exception.attributes.foo error.exception.code error.exception.handled error.exception.message error.exception.module error.exception.stacktrace error.exception.stacktrace.abs_path error.exception.stacktrace.context error.exception.stacktrace.context.post error.exception.stacktrace.context.pre error.exception.stacktrace.exclude_from_grouping error.exception.stacktrace.filename error.exception.stacktrace.function error.exception.stacktrace.library_frame error.exception.stacktrace.line error.exception.stacktrace.line.column error.exception.stacktrace.line.context error.exception.stacktrace.line.number error.exception.stacktrace.module error.exception.stacktrace.vars error.exception.stacktrace.vars.key error.exception.type error.grouping_key error.id error.log error.log.level error.log.logger_name error.log.message error.log.param_message error.log.stacktrace error.log.stacktrace.abs_path error.log.stacktrace.context error.log.stacktrace.context.post error.log.stacktrace.context.pre error.log.stacktrace.exclude_from_grouping error.log.stacktrace.filename error.log.stacktrace.function error.log.stacktrace.library_frame error.log.stacktrace.line error.log.stacktrace.line.column error.log.stacktrace.line.context error.log.stacktrace.line.number error.log.stacktrace.module error.log.stacktrace.vars error.log.stacktrace.vars.key error.page error.page.referer error.page.url host host.architecture host.hostname host.os host.os.platform kubernetes kubernetes.namespace kubernetes.node kubernetes.node.name kubernetes.pod kubernetes.pod.name kubernetes.pod.uid labels labels.organization_uuid parent parent.id process process.args process.pid process.ppid process.title processor processor.event processor.name service service.environment service.framework service.framework.name service.framework.version service.language service.language.name service.language.version service.name service.runtime service.runtime.name service.runtime.version service.version timestamp timestamp.us trace trace.id transaction transaction.id transaction.sampled transaction.type]
[2019-05-23T16:44:22.476Z] === RUN   TestErrorPayloadAttrsMatchJsonSchema
[2019-05-23T16:44:22.476Z] --- PASS: TestErrorPayloadAttrsMatchJsonSchema (0.02s)
[2019-05-23T16:44:22.476Z]     json_schema.go:113: schemaKeys: &{map[error.context:<nil> error.context.custom:<nil> error.context.page:<nil> error.context.page.referer:<nil> error.context.page.url:<nil> error.context.request:<nil> error.context.request.body:<nil> error.context.request.cookies:<nil> error.context.request.env:<nil> error.context.request.headers:<nil> error.context.request.http_version:<nil> error.context.request.method:<nil> error.context.request.socket:<nil> error.context.request.socket.encrypted:<nil> error.context.request.socket.remote_address:<nil> error.context.request.url:<nil> error.context.request.url.full:<nil> error.context.request.url.hash:<nil> error.context.request.url.hostname:<nil> error.context.request.url.pathname:<nil> error.context.request.url.port:<nil> error.context.request.url.protocol:<nil> error.context.request.url.raw:<nil> error.context.request.url.search:<nil> error.context.response:<nil> error.context.response.finished:<nil> error.context.response.headers:<nil> error.context.response.headers_sent:<nil> error.context.response.status_code:<nil> error.context.service:<nil> error.context.service.agent:<nil> error.context.service.agent.ephemeral_id:<nil> error.context.service.agent.name:<nil> error.context.service.agent.version:<nil> error.context.service.environment:<nil> error.context.service.framework:<nil> error.context.service.framework.name:<nil> error.context.service.framework.version:<nil> error.context.service.language:<nil> error.context.service.language.name:<nil> error.context.service.language.version:<nil> error.context.service.name:<nil> error.context.service.runtime:<nil> error.context.service.runtime.name:<nil> error.context.service.runtime.version:<nil> error.context.service.version:<nil> error.context.tags:<nil> error.context.user:<nil> error.context.user.email:<nil> error.context.user.id:<nil> error.context.user.username:<nil> error.culprit:<nil> error.exception:<nil> error.exception.attributes:<nil> error.exception.code:<nil> error.exception.handled:<nil> error.exception.message:<nil> error.exception.module:<nil> error.exception.stacktrace:<nil> error.exception.stacktrace.abs_path:<nil> error.exception.stacktrace.colno:<nil> error.exception.stacktrace.context_line:<nil> error.exception.stacktrace.filename:<nil> error.exception.stacktrace.function:<nil> error.exception.stacktrace.library_frame:<nil> error.exception.stacktrace.lineno:<nil> error.exception.stacktrace.module:<nil> error.exception.stacktrace.post_context:<nil> error.exception.stacktrace.pre_context:<nil> error.exception.stacktrace.vars:<nil> error.exception.type:<nil> error.id:<nil> error.log:<nil> error.log.level:<nil> error.log.logger_name:<nil> error.log.message:<nil> error.log.param_message:<nil> error.log.stacktrace:<nil> error.log.stacktrace.abs_path:<nil> error.log.stacktrace.colno:<nil> error.log.stacktrace.context_line:<nil> error.log.stacktrace.filename:<nil> error.log.stacktrace.function:<nil> error.log.stacktrace.library_frame:<nil> error.log.stacktrace.lineno:<nil> error.log.stacktrace.module:<nil> error.log.stacktrace.post_context:<nil> error.log.stacktrace.pre_context:<nil> error.log.stacktrace.vars:<nil> error.parent_id:<nil> error.timestamp:<nil> error.trace_id:<nil> error.transaction:<nil> error.transaction.sampled:<nil> error.transaction.type:<nil> error.transaction_id:<nil>]}
[2019-05-23T16:44:22.477Z] === RUN   TestErrorAttrsPresenceInError
[2019-05-23T16:44:22.477Z] --- PASS: TestErrorAttrsPresenceInError (8.15s)
[2019-05-23T16:44:22.477Z] === RUN   TestErrorKeywordLimitationOnErrorAttributes
[2019-05-23T16:44:22.477Z] --- PASS: TestErrorKeywordLimitationOnErrorAttributes (0.09s)
[2019-05-23T16:44:22.477Z]     json_schema.go:202: Schema keys: [exception.code context.service.language.version exception.module context.service.framework.name context.service.environment log.logger_name parent_id context.service.agent.name context.user.email culprit exception.type context.service.agent.ephemeral_id context.request.url.search transaction_id transaction.type context.service.name context.service.version context.request.url.protocol context.request.url.full context.request.url.hostname context.service.runtime.name id context.service.framework.version context.service.language.name context.service.runtime.version context.request.http_version context.request.url.hash log.level log.param_message context.service.agent.version context.request.method context.request.url.raw context.request.url.port context.request.url.pathname context.user.id context.user.username trace_id]
[2019-05-23T16:44:22.477Z] === RUN   TestPayloadDataForError
[2019-05-23T16:44:22.477Z] --- PASS: TestPayloadDataForError (1.43s)
[2019-05-23T16:44:22.477Z] === RUN   TestMetadataPayloadAttrsMatchFields
[2019-05-23T16:44:22.477Z] --- PASS: TestMetadataPayloadAttrsMatchFields (0.07s)
[2019-05-23T16:44:22.477Z]     metadata_attrs_test.go:96: Event fields: &{map[labels:<nil> labels.tag0:<nil> labels.tag1:<nil> labels.tag2:<nil> process:<nil> process.argv:<nil> process.pid:<nil> process.ppid:<nil> process.title:<nil> service:<nil> service.agent:<nil> service.agent.ephemeral_id:<nil> service.agent.name:<nil> service.agent.version:<nil> service.environment:<nil> service.framework:<nil> service.framework.name:<nil> service.framework.version:<nil> service.language:<nil> service.language.name:<nil> service.language.version:<nil> service.name:<nil> service.runtime:<nil> service.runtime.name:<nil> service.runtime.version:<nil> service.version:<nil> system:<nil> system.architecture:<nil> system.container:<nil> system.container.id:<nil> system.hostname:<nil> system.kubernetes:<nil> system.kubernetes.namespace:<nil> system.kubernetes.node:<nil> system.kubernetes.node.name:<nil> system.kubernetes.pod:<nil> system.kubernetes.pod.name:<nil> system.kubernetes.pod.uid:<nil> system.platform:<nil> user:<nil> user.email:<nil> user.id:<nil> user.username:<nil>]}
[2019-05-23T16:44:22.477Z] === RUN   TestMetadataPayloadMatchJsonSchema
[2019-05-23T16:44:22.477Z] --- PASS: TestMetadataPayloadMatchJsonSchema (0.01s)
[2019-05-23T16:44:22.477Z]     metadata_attrs_test.go:96: Event fields: &{map[labels:<nil> labels.tag0:<nil> labels.tag1:<nil> labels.tag2:<nil> process:<nil> process.argv:<nil> process.pid:<nil> process.ppid:<nil> process.title:<nil> service:<nil> service.agent:<nil> service.agent.ephemeral_id:<nil> service.agent.name:<nil> service.agent.version:<nil> service.environment:<nil> service.framework:<nil> service.framework.name:<nil> service.framework.version:<nil> service.language:<nil> service.language.name:<nil> service.language.version:<nil> service.name:<nil> service.runtime:<nil> service.runtime.name:<nil> service.runtime.version:<nil> service.version:<nil> system:<nil> system.architecture:<nil> system.container:<nil> system.container.id:<nil> system.hostname:<nil> system.kubernetes:<nil> system.kubernetes.namespace:<nil> system.kubernetes.node:<nil> system.kubernetes.node.name:<nil> system.kubernetes.pod:<nil> system.kubernetes.pod.name:<nil> system.kubernetes.pod.uid:<nil> system.platform:<nil> user:<nil> user.email:<nil> user.id:<nil> user.username:<nil>]}
[2019-05-23T16:44:22.477Z]     json_schema.go:113: schemaKeys: &{map[labels:<nil> process:<nil> process.argv:<nil> process.pid:<nil> process.ppid:<nil> process.title:<nil> service:<nil> service.agent:<nil> service.agent.ephemeral_id:<nil> service.agent.name:<nil> service.agent.version:<nil> service.environment:<nil> service.framework:<nil> service.framework.name:<nil> service.framework.version:<nil> service.language:<nil> service.language.name:<nil> service.language.version:<nil> service.name:<nil> service.runtime:<nil> service.runtime.name:<nil> service.runtime.version:<nil> service.version:<nil> system:<nil> system.architecture:<nil> system.container:<nil> system.container.id:<nil> system.hostname:<nil> system.kubernetes:<nil> system.kubernetes.namespace:<nil> system.kubernetes.node:<nil> system.kubernetes.node.name:<nil> system.kubernetes.pod:<nil> system.kubernetes.pod.name:<nil> system.kubernetes.pod.uid:<nil> system.platform:<nil> user:<nil> user.email:<nil> user.id:<nil> user.username:<nil>]}
[2019-05-23T16:44:22.477Z] === RUN   TestKeywordLimitationOnMetadataAttrs
[2019-05-23T16:44:22.477Z] --- PASS: TestKeywordLimitationOnMetadataAttrs (0.07s)
[2019-05-23T16:44:22.477Z]     json_schema.go:202: Schema keys: [service.framework.version system.container.id user.id system.kubernetes.namespace service.agent.name system.architecture user.username service.agent.ephemeral_id service.framework.name service.language.version service.runtime.name process.title system.kubernetes.node.name service.version system.hostname system.platform user.email service.agent.version service.language.name service.name system.kubernetes.pod.name system.kubernetes.pod.uid service.environment service.runtime.version]
[2019-05-23T16:44:22.477Z] === RUN   TestInvalidPayloadsForMetadata
[2019-05-23T16:44:22.477Z] --- PASS: TestInvalidPayloadsForMetadata (0.01s)
[2019-05-23T16:44:22.477Z] === RUN   TestAttributesPresenceInMetric
[2019-05-23T16:44:22.477Z] --- PASS: TestAttributesPresenceInMetric (0.27s)
[2019-05-23T16:44:22.477Z] === RUN   TestInvalidPayloads
[2019-05-23T16:44:22.477Z] --- PASS: TestInvalidPayloads (0.05s)
[2019-05-23T16:44:22.477Z] === RUN   TestSpanPayloadMatchFields
[2019-05-23T16:44:22.477Z] --- PASS: TestSpanPayloadMatchFields (0.17s)
[2019-05-23T16:44:22.477Z]     fields.go:138: Keys in events: [agent agent.ephemeral_id agent.name agent.version parent parent.id service service.name span span.action span.duration span.duration.us span.id span.name span.start span.start.us span.subtype span.sync span.type timestamp timestamp.us trace trace.id transaction transaction.id]
[2019-05-23T16:44:22.477Z]     fields.go:138: Keys in events: [agent agent.ephemeral_id agent.name agent.version labels labels.tag1 labels.tag2 labels.tag3 labels.tag4 parent parent.id span span.action span.db span.db.instance span.db.statement span.db.type span.db.user span.db.user.name span.duration span.duration.us span.http span.http.method span.http.response span.http.response.status_code span.http.url span.http.url.original span.id span.name span.stacktrace span.stacktrace.abs_path span.stacktrace.context span.stacktrace.context.post span.stacktrace.context.pre span.stacktrace.exclude_from_grouping span.stacktrace.filename span.stacktrace.function span.stacktrace.library_frame span.stacktrace.line span.stacktrace.line.column span.stacktrace.line.context span.stacktrace.line.number span.stacktrace.module span.stacktrace.vars span.stacktrace.vars.key span.start span.start.us span.subtype span.sync span.type timestamp timestamp.us trace trace.id transaction transaction.id]
[2019-05-23T16:44:22.478Z] === RUN   TestSpanPayloadMatchJsonSchema
[2019-05-23T16:44:22.478Z] --- PASS: TestSpanPayloadMatchJsonSchema (0.01s)
[2019-05-23T16:44:22.478Z]     json_schema.go:113: schemaKeys: &{map[span.action:<nil> span.context:<nil> span.context.db:<nil> span.context.db.instance:<nil> span.context.db.statement:<nil> span.context.db.type:<nil> span.context.db.user:<nil> span.context.http:<nil> span.context.http.method:<nil> span.context.http.status_code:<nil> span.context.http.url:<nil> span.context.service:<nil> span.context.service.agent:<nil> span.context.service.agent.ephemeral_id:<nil> span.context.service.agent.name:<nil> span.context.service.agent.version:<nil> span.context.service.name:<nil> span.context.tags:<nil> span.duration:<nil> span.id:<nil> span.name:<nil> span.parent_id:<nil> span.stacktrace:<nil> span.stacktrace.abs_path:<nil> span.stacktrace.colno:<nil> span.stacktrace.context_line:<nil> span.stacktrace.filename:<nil> span.stacktrace.function:<nil> span.stacktrace.library_frame:<nil> span.stacktrace.lineno:<nil> span.stacktrace.module:<nil> span.stacktrace.post_context:<nil> span.stacktrace.pre_context:<nil> span.stacktrace.vars:<nil> span.start:<nil> span.subtype:<nil> span.sync:<nil> span.timestamp:<nil> span.trace_id:<nil> span.transaction_id:<nil> span.type:<nil>]}
[2019-05-23T16:44:22.478Z] === RUN   TestAttrsPresenceInSpan
[2019-05-23T16:44:22.478Z] --- PASS: TestAttrsPresenceInSpan (1.25s)
[2019-05-23T16:44:22.478Z] === RUN   TestKeywordLimitationOnSpanAttrs
[2019-05-23T16:44:22.478Z] --- PASS: TestKeywordLimitationOnSpanAttrs (0.08s)
[2019-05-23T16:44:22.478Z]     json_schema.go:202: Schema keys: [context.service.agent.ephemeral_id trace_id type id parent_id subtype context.http.method transaction_id action name context.service.agent.name context.service.agent.version context.service.name]
[2019-05-23T16:44:22.478Z] === RUN   TestPayloadDataForSpans
[2019-05-23T16:44:22.478Z] --- PASS: TestPayloadDataForSpans (0.21s)
[2019-05-23T16:44:22.478Z] === RUN   TestTransactionPayloadMatchFields
[2019-05-23T16:44:22.478Z] --- PASS: TestTransactionPayloadMatchFields (0.17s)
[2019-05-23T16:44:22.478Z]     fields.go:138: Keys in events: [agent agent.ephemeral_id agent.name agent.version container container.id host host.architecture host.hostname host.os host.os.platform http http.request http.request.method http.response http.response.finished http.response.status_code http.version kubernetes kubernetes.namespace kubernetes.node kubernetes.node.name kubernetes.pod kubernetes.pod.name kubernetes.pod.uid parent parent.id process process.args process.pid process.ppid process.title service service.environment service.framework service.framework.name service.framework.version service.language service.language.name service.language.version service.name service.runtime service.runtime.name service.runtime.version service.version timestamp timestamp.us trace trace.id transaction transaction.duration transaction.duration.us transaction.id transaction.marks transaction.name transaction.result transaction.sampled transaction.span_count transaction.span_count.dropped transaction.type url url.domain url.fragment url.full url.path url.port url.query url.scheme user user.email user.id user.name user_agent user_agent.original]
[2019-05-23T16:44:22.478Z]     fields.go:138: Keys in events: [agent agent.ephemeral_id agent.name agent.version container container.id host host.architecture host.hostname host.os host.os.platform kubernetes kubernetes.namespace kubernetes.node kubernetes.node.name kubernetes.pod kubernetes.pod.name kubernetes.pod.uid labels labels.organization_uuid labels.tag1 labels.tag2 labels.tag3 labels.tag4 parent parent.id process process.args process.pid process.ppid process.title processor processor.event processor.name service service.environment service.framework service.framework.name service.framework.version service.language service.language.name service.language.version service.name service.runtime service.runtime.name service.runtime.version service.version timestamp timestamp.us trace trace.id transaction transaction.custom transaction.custom.( transaction.custom.and_objects transaction.custom.and_objects.foo transaction.custom.my_key transaction.custom.some_other_value transaction.duration transaction.duration.us transaction.id transaction.marks transaction.marks.another_mark transaction.marks.another_mark.some_float transaction.marks.another_mark.some_long transaction.marks.navigationTiming transaction.marks.navigationTiming.appBeforeBootstrap transaction.marks.navigationTiming.navigationStart transaction.name transaction.page transaction.page.referer transaction.page.url transaction.result transaction.sampled transaction.span_count transaction.span_count.dropped transaction.span_count.started transaction.type]
[2019-05-23T16:44:22.478Z] === RUN   TestTransactionPayloadMatchJsonSchema
[2019-05-23T16:44:22.478Z] --- PASS: TestTransactionPayloadMatchJsonSchema (0.01s)
[2019-05-23T16:44:22.478Z]     json_schema.go:113: schemaKeys: &{map[transaction.context:<nil> transaction.context.custom:<nil> transaction.context.page:<nil> transaction.context.page.referer:<nil> transaction.context.page.url:<nil> transaction.context.request:<nil> transaction.context.request.body:<nil> transaction.context.request.cookies:<nil> transaction.context.request.env:<nil> transaction.context.request.headers:<nil> transaction.context.request.http_version:<nil> transaction.context.request.method:<nil> transaction.context.request.socket:<nil> transaction.context.request.socket.encrypted:<nil> transaction.context.request.socket.remote_address:<nil> transaction.context.request.url:<nil> transaction.context.request.url.full:<nil> transaction.context.request.url.hash:<nil> transaction.context.request.url.hostname:<nil> transaction.context.request.url.pathname:<nil> transaction.context.request.url.port:<nil> transaction.context.request.url.protocol:<nil> transaction.context.request.url.raw:<nil> transaction.context.request.url.search:<nil> transaction.context.response:<nil> transaction.context.response.finished:<nil> transaction.context.response.headers:<nil> transaction.context.response.headers_sent:<nil> transaction.context.response.status_code:<nil> transaction.context.service:<nil> transaction.context.service.agent:<nil> transaction.context.service.agent.ephemeral_id:<nil> transaction.context.service.agent.name:<nil> transaction.context.service.agent.version:<nil> transaction.context.service.environment:<nil> transaction.context.service.framework:<nil> transaction.context.service.framework.name:<nil> transaction.context.service.framework.version:<nil> transaction.context.service.language:<nil> transaction.context.service.language.name:<nil> transaction.context.service.language.version:<nil> transaction.context.service.name:<nil> transaction.context.service.runtime:<nil> transaction.context.service.runtime.name:<nil> transaction.context.service.runtime.version:<nil> transaction.context.service.version:<nil> transaction.context.tags:<nil> transaction.context.user:<nil> transaction.context.user.email:<nil> transaction.context.user.id:<nil> transaction.context.user.username:<nil> transaction.duration:<nil> transaction.id:<nil> transaction.marks:<nil> transaction.name:<nil> transaction.parent_id:<nil> transaction.result:<nil> transaction.sampled:<nil> transaction.span_count:<nil> transaction.span_count.dropped:<nil> transaction.span_count.started:<nil> transaction.timestamp:<nil> transaction.trace_id:<nil> transaction.type:<nil>]}
[2019-05-23T16:44:22.478Z] === RUN   TestAttrsPresenceInTransaction
[2019-05-23T16:44:22.478Z] --- PASS: TestAttrsPresenceInTransaction (4.67s)
[2019-05-23T16:44:22.478Z] === RUN   TestKeywordLimitationOnTransactionAttrs
[2019-05-23T16:44:22.478Z] --- PASS: TestKeywordLimitationOnTransactionAttrs (0.09s)
[2019-05-23T16:44:22.478Z]     json_schema.go:202: Schema keys: [context.user.username context.service.environment context.request.url.hash context.request.url.protocol context.request.url.full type context.service.agent.ephemeral_id context.service.framework.version context.service.framework.name context.request.http_version context.service.agent.name trace_id context.service.language.name name context.service.name context.service.version context.service.agent.version context.request.method context.request.url.port context.request.url.pathname context.request.url.raw context.user.id context.request.url.hostname context.user.email context.service.language.version id parent_id context.service.runtime.name context.service.runtime.version context.request.url.search result]
[2019-05-23T16:44:22.479Z] === RUN   TestPayloadDataForTransaction
[2019-05-23T16:44:22.479Z] --- PASS: TestPayloadDataForTransaction (0.99s)
[2019-05-23T16:44:22.479Z] PASS
[2019-05-23T16:44:22.479Z] ok  	github.com/elastic/apm-server/processor/stream/package_tests	19.150s
[2019-05-23T16:44:22.479Z] ?   	github.com/elastic/apm-server/publish	[no test files]
[2019-05-23T16:44:22.479Z] ?   	github.com/elastic/apm-server/script/inline_schemas	[no test files]
[2019-05-23T16:44:22.479Z] === RUN   TestNewSmapAccessor
[2019-05-23T16:44:22.479Z] --- PASS: TestNewSmapAccessor (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestFetchKeyError
[2019-05-23T16:44:22.479Z] --- PASS: TestFetchKeyError (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestFetchAccessError
[2019-05-23T16:44:22.479Z] --- PASS: TestFetchAccessError (0.01s)
[2019-05-23T16:44:22.479Z] === RUN   TestFetchAndCaching
[2019-05-23T16:44:22.479Z] --- PASS: TestFetchAndCaching (0.01s)
[2019-05-23T16:44:22.479Z] === RUN   TestFetchCacheEmptyValueWhenSmapNotFound
[2019-05-23T16:44:22.479Z] --- PASS: TestFetchCacheEmptyValueWhenSmapNotFound (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSourcemapRemovedFromCache
[2019-05-23T16:44:22.479Z] --- PASS: TestSourcemapRemovedFromCache (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestCache
[2019-05-23T16:44:22.479Z] --- PASS: TestCache (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestAddAndFetch
[2019-05-23T16:44:22.479Z] --- PASS: TestAddAndFetch (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestRemove
[2019-05-23T16:44:22.479Z] --- PASS: TestRemove (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestExpiration
[2019-05-23T16:44:22.479Z] --- PASS: TestExpiration (0.03s)
[2019-05-23T16:44:22.479Z] === RUN   TestCleanupInterval
[2019-05-23T16:44:22.479Z] --- PASS: TestCleanupInterval (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestNewElasticsearch
[2019-05-23T16:44:22.479Z] --- PASS: TestNewElasticsearch (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestNoElasticsearchConnection
[2019-05-23T16:44:22.479Z] --- PASS: TestNoElasticsearchConnection (0.01s)
[2019-05-23T16:44:22.479Z] === RUN   TestParseResultNoSourcemap
[2019-05-23T16:44:22.479Z] --- PASS: TestParseResultNoSourcemap (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestParseResultParseError
[2019-05-23T16:44:22.479Z] --- PASS: TestParseResultParseError (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestParseSourcemapResult
[2019-05-23T16:44:22.479Z] --- PASS: TestParseSourcemapResult (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestParseSourcemapResultError
[2019-05-23T16:44:22.479Z] --- PASS: TestParseSourcemapResultError (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestError
[2019-05-23T16:44:22.479Z] --- PASS: TestError (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSmapIdKey
[2019-05-23T16:44:22.479Z] --- PASS: TestSmapIdKey (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestNewSmapMapper
[2019-05-23T16:44:22.479Z] --- PASS: TestNewSmapMapper (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestApply
[2019-05-23T16:44:22.479Z] --- PASS: TestApply (0.01s)
[2019-05-23T16:44:22.479Z] === RUN   TestSubSlice
[2019-05-23T16:44:22.479Z] --- PASS: TestSubSlice (0.00s)
[2019-05-23T16:44:22.479Z] PASS
[2019-05-23T16:44:22.479Z] ok  	github.com/elastic/apm-server/sourcemap	1.117s
[2019-05-23T16:44:22.479Z] === RUN   TestDifferenceWithRegex
[2019-05-23T16:44:22.479Z] --- PASS: TestDifferenceWithRegex (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestStrConcat
[2019-05-23T16:44:22.479Z] --- PASS: TestStrConcat (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestECSMapping
[2019-05-23T16:44:22.479Z] --- PASS: TestECSMapping (0.13s)
[2019-05-23T16:44:22.479Z] === RUN   TestFlattenCommonMapStr
[2019-05-23T16:44:22.479Z] --- PASS: TestFlattenCommonMapStr (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestLoadFields
[2019-05-23T16:44:22.479Z] --- PASS: TestLoadFields (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestFlattenFieldNames
[2019-05-23T16:44:22.479Z] --- PASS: TestFlattenFieldNames (0.01s)
[2019-05-23T16:44:22.479Z] === RUN   TestIterateMap
[2019-05-23T16:44:22.479Z] --- PASS: TestIterateMap (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestNewSet
[2019-05-23T16:44:22.479Z] --- PASS: TestNewSet (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSetAdd
[2019-05-23T16:44:22.479Z] --- PASS: TestSetAdd (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSetRemove
[2019-05-23T16:44:22.479Z] --- PASS: TestSetRemove (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSetContains
[2019-05-23T16:44:22.479Z] --- PASS: TestSetContains (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSetContainsStrPattern
[2019-05-23T16:44:22.479Z] --- PASS: TestSetContainsStrPattern (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSetCopy
[2019-05-23T16:44:22.479Z] --- PASS: TestSetCopy (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSetLen
[2019-05-23T16:44:22.479Z] --- PASS: TestSetLen (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSetUnion
[2019-05-23T16:44:22.479Z] --- PASS: TestSetUnion (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSetDifference
[2019-05-23T16:44:22.479Z] --- PASS: TestSetDifference (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSetSymmDifference
[2019-05-23T16:44:22.479Z] --- PASS: TestSetSymmDifference (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestSetArray
[2019-05-23T16:44:22.479Z] --- PASS: TestSetArray (0.00s)
[2019-05-23T16:44:22.479Z] PASS
[2019-05-23T16:44:22.479Z] ok  	github.com/elastic/apm-server/tests	1.206s
[2019-05-23T16:44:22.479Z] ?   	github.com/elastic/apm-server/tests/loader	[no test files]
[2019-05-23T16:44:22.479Z] ?   	github.com/elastic/apm-server/tests/scripts	[no test files]
[2019-05-23T16:44:22.479Z] ?   	github.com/elastic/apm-server/transform	[no test files]
[2019-05-23T16:44:22.479Z] === RUN   TestCleanUrlPath
[2019-05-23T16:44:22.479Z] --- PASS: TestCleanUrlPath (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestInsertInMap
[2019-05-23T16:44:22.479Z] --- PASS: TestInsertInMap (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestFloat64
[2019-05-23T16:44:22.479Z] --- PASS: TestFloat64 (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestFloat64Ptr
[2019-05-23T16:44:22.479Z] --- PASS: TestFloat64Ptr (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestIntPtr
[2019-05-23T16:44:22.479Z] --- PASS: TestIntPtr (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestInt64Ptr
[2019-05-23T16:44:22.479Z] --- PASS: TestInt64Ptr (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestInt
[2019-05-23T16:44:22.479Z] --- PASS: TestInt (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestStrPtr
[2019-05-23T16:44:22.479Z] --- PASS: TestStrPtr (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestStr
[2019-05-23T16:44:22.479Z] --- PASS: TestStr (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestStrArray
[2019-05-23T16:44:22.479Z] --- PASS: TestStrArray (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestInterface
[2019-05-23T16:44:22.479Z] --- PASS: TestInterface (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestInterfaceArray
[2019-05-23T16:44:22.479Z] --- PASS: TestInterfaceArray (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestBoolPtr
[2019-05-23T16:44:22.479Z] --- PASS: TestBoolPtr (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestMapStr
[2019-05-23T16:44:22.479Z] --- PASS: TestMapStr (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestTimeRFC3339
[2019-05-23T16:44:22.479Z] --- PASS: TestTimeRFC3339 (0.00s)
[2019-05-23T16:44:22.479Z] === RUN   TestExtractIP
[2019-05-23T16:44:22.479Z] === RUN   TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_54.55.101.102,_X-Forwarded-For:_nil
[2019-05-23T16:44:22.479Z] === RUN   TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_54.55.101.102,_X-Forwarded-For:_54.56.103.104
[2019-05-23T16:44:22.479Z] === RUN   TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_nil,_X-Forwarded-For:_54.56.103.104
[2019-05-23T16:44:22.480Z] === RUN   TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_nil,_X-Forwarded-For:_54.56.103.104_,_54.57.105.106_,_54.58.107.108
[2019-05-23T16:44:22.480Z] === RUN   TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_nil,_X-Forwarded-For:_nil
[2019-05-23T16:44:22.480Z] === RUN   TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_,_X-Forwarded-For:_
[2019-05-23T16:44:22.480Z] === RUN   TestExtractIP/extractIP_remote:_,_X-Real-IP:_,_X-Forwarded-For:_
[2019-05-23T16:44:22.480Z] --- PASS: TestExtractIP (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_54.55.101.102,_X-Forwarded-For:_nil (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_54.55.101.102,_X-Forwarded-For:_54.56.103.104 (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_nil,_X-Forwarded-For:_54.56.103.104 (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_nil,_X-Forwarded-For:_54.56.103.104_,_54.57.105.106_,_54.58.107.108 (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_nil,_X-Forwarded-For:_nil (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestExtractIP/extractIP_remote:_10.11.12.13:8080,_X-Real-IP:_,_X-Forwarded-For:_ (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestExtractIP/extractIP_remote:_,_X-Real-IP:_,_X-Forwarded-For:_ (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestAddGeneral
[2019-05-23T16:44:22.480Z] --- PASS: TestAddGeneral (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestEmptyCollections
[2019-05-23T16:44:22.480Z] --- PASS: TestEmptyCollections (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestIgnoredTypes
[2019-05-23T16:44:22.480Z] --- PASS: TestIgnoredTypes (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestAdd
[2019-05-23T16:44:22.480Z] --- PASS: TestAdd (0.01s)
[2019-05-23T16:44:22.480Z] === RUN   TestAddEnsureCopy
[2019-05-23T16:44:22.480Z] --- PASS: TestAddEnsureCopy (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestDeepAdd
[2019-05-23T16:44:22.480Z] --- PASS: TestDeepAdd (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestMillisAsMicros
[2019-05-23T16:44:22.480Z] --- PASS: TestMillisAsMicros (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestParseForwarded
[2019-05-23T16:44:22.480Z] === RUN   TestParseForwarded/Forwarded
[2019-05-23T16:44:22.480Z] === RUN   TestParseForwarded/Forwarded-Multi
[2019-05-23T16:44:22.480Z] === RUN   TestParseForwarded/Forwarded-Malformed-Fields-Ignored
[2019-05-23T16:44:22.480Z] === RUN   TestParseForwarded/Forwarded-Trailing-Separators
[2019-05-23T16:44:22.480Z] --- PASS: TestParseForwarded (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestParseForwarded/Forwarded (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestParseForwarded/Forwarded-Multi (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestParseForwarded/Forwarded-Malformed-Fields-Ignored (0.00s)
[2019-05-23T16:44:22.480Z]     --- PASS: TestParseForwarded/Forwarded-Trailing-Separators (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestRemoteAddr
[2019-05-23T16:44:22.480Z] --- PASS: TestRemoteAddr (0.00s)
[2019-05-23T16:44:22.480Z] PASS
[2019-05-23T16:44:22.480Z] ok  	github.com/elastic/apm-server/utility	1.045s
[2019-05-23T16:44:22.480Z] === RUN   TestCreateSchemaInvalidResource
[2019-05-23T16:44:22.480Z] --- PASS: TestCreateSchemaInvalidResource (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestCreateSchemaInvalidSchema
[2019-05-23T16:44:22.480Z] --- PASS: TestCreateSchemaInvalidSchema (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestCreateSchemaOK
[2019-05-23T16:44:22.480Z] --- PASS: TestCreateSchemaOK (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestValidateFails
[2019-05-23T16:44:22.480Z] --- PASS: TestValidateFails (0.00s)
[2019-05-23T16:44:22.480Z] === RUN   TestValidateOK
[2019-05-23T16:44:22.480Z] --- PASS: TestValidateOK (0.00s)
[2019-05-23T16:44:22.480Z] PASS
[2019-05-23T16:44:22.480Z] ok  	github.com/elastic/apm-server/validation	1.029s
[2019-05-23T16:44:22.480Z] ?   	github.com/elastic/apm-server/x-pack/apm-server	[no test files]
[2019-05-23T16:44:22.480Z] ?   	github.com/elastic/apm-server/x-pack/apm-server/cmd	[no test files]
[2019-05-23T16:44:22.480Z] + cat build/test-report.out
[2019-05-23T16:44:22.480Z] + go-junit-report
[2019-05-23T16:44:22.521Z] [Pipeline] }
[2019-05-23T16:44:22.534Z] [Pipeline] // dir
[2019-05-23T16:44:22.546Z] Post stage
[2019-05-23T16:44:22.561Z] [Pipeline] junit
[2019-05-23T16:44:22.566Z] Recording test results
[2019-05-23T16:44:23.855Z] .
[2019-05-23T16:44:24.206Z] [Pipeline] }
[2019-05-23T16:44:24.220Z] [Pipeline] // withEnv
[2019-05-23T16:44:24.238Z] [Pipeline] }
[2019-05-23T16:44:24.254Z] [Pipeline] // wrap
[2019-05-23T16:44:24.269Z] [Pipeline] }
[2019-05-23T16:44:24.283Z] [Pipeline] // dir
[2019-05-23T16:44:24.310Z] [Pipeline] }
[2019-05-23T16:44:24.322Z] [Pipeline] // withEnv
[2019-05-23T16:44:24.336Z] [Pipeline] }
[2019-05-23T16:44:24.363Z] [Pipeline] // node
[2019-05-23T16:44:24.379Z] [Pipeline] }
[2019-05-23T16:44:24.395Z] [Pipeline] // stage
[2019-05-23T16:44:24.432Z] [Pipeline] }
[2019-05-23T16:44:24.552Z] [Pipeline] }
[2019-05-23T16:44:24.566Z] [Pipeline] // withEnv
[2019-05-23T16:44:24.604Z] [Pipeline] }
[2019-05-23T16:44:24.648Z] [Pipeline] // node
[2019-05-23T16:44:24.683Z] [Pipeline] }
[2019-05-23T16:44:24.702Z] [Pipeline] // stage
[2019-05-23T16:44:24.724Z] [Pipeline] }
[2019-05-23T16:44:25.756Z] Terminated
[2019-05-23T16:44:26.412Z] .
[2019-05-23T16:44:28.331Z] .
[2019-05-23T16:44:30.797Z] ok  	github.com/elastic/apm-server/decoder	0.095s	coverage: 83.9% of statements
[2019-05-23T16:44:30.883Z] .
[2019-05-23T16:44:32.802Z] .
[2019-05-23T16:44:35.402Z] .
[2019-05-23T16:44:37.322Z] .
[2019-05-23T16:44:37.395Z] ok  	github.com/elastic/apm-server/idxmgmt	0.063s	coverage: 85.4% of statements
[2019-05-23T16:44:37.395Z] ?   	github.com/elastic/apm-server/cmd	[no test files]
[2019-05-23T16:44:37.395Z] ?   	github.com/elastic/apm-server/include	[no test files]
[2019-05-23T16:44:37.395Z] ok  	github.com/elastic/apm-server	0.051s	coverage: 0.0% of statements
[2019-05-23T16:44:39.316Z] ok  	github.com/elastic/apm-server/idxmgmt/ilm	0.008s	coverage: 84.0% of statements
[2019-05-23T16:44:39.881Z] .
[2019-05-23T16:44:40.701Z] ok  	github.com/elastic/apm-server/beater	7.132s	coverage: 76.8% of statements
[2019-05-23T16:44:40.701Z] ?   	github.com/elastic/apm-server/model/error/generated/schema	[no test files]
[2019-05-23T16:44:41.274Z] ok  	github.com/elastic/apm-server/ingest/pipeline	0.022s	coverage: 80.0% of statements
[2019-05-23T16:44:41.540Z] ?   	github.com/elastic/apm-server/model/metadata/generated/schema	[no test files]
[2019-05-23T16:44:41.805Z] ok  	github.com/elastic/apm-server/model	0.089s	coverage: 75.5% of statements
[2019-05-23T16:44:42.065Z] ?   	github.com/elastic/apm-server/model/metricset/generated/schema	[no test files]
[2019-05-23T16:44:42.443Z] .
[2019-05-23T16:44:43.991Z] ok  	github.com/elastic/apm-server/model/metadata	0.045s	coverage: 92.4% of statements
[2019-05-23T16:44:43.991Z] ok  	github.com/elastic/apm-server/model/error	0.041s	coverage: 98.0% of statements
[2019-05-23T16:44:43.991Z] ?   	github.com/elastic/apm-server/model/sourcemap/generated/schema	[no test files]
[2019-05-23T16:44:44.252Z] ?   	github.com/elastic/apm-server/model/span/generated/schema	[no test files]
[2019-05-23T16:44:44.359Z] .
[2019-05-23T16:44:46.801Z] ok  	github.com/elastic/apm-server/model/sourcemap	0.036s	coverage: 83.3% of statements
[2019-05-23T16:44:46.801Z] ok  	github.com/elastic/apm-server/model/metricset	0.011s	coverage: 78.0% of statements
[2019-05-23T16:44:46.801Z] ?   	github.com/elastic/apm-server/model/transaction/generated/schema	[no test files]
[2019-05-23T16:44:46.924Z] .
[2019-05-23T16:44:47.378Z] ?   	github.com/elastic/apm-server/processor/asset	[no test files]
[2019-05-23T16:44:48.323Z] ?   	github.com/elastic/apm-server/processor/asset/sourcemap	[no test files]
[2019-05-23T16:44:48.584Z] ok  	github.com/elastic/apm-server/pipelistener	0.006s	coverage: 100.0% of statements
[2019-05-23T16:44:48.584Z] ok  	github.com/elastic/apm-server/model/span	0.015s	coverage: 90.6% of statements
[2019-05-23T16:44:48.847Z] .
[2019-05-23T16:44:49.165Z] ok  	github.com/elastic/apm-server/model/transaction	0.018s	coverage: 96.4% of statements
[2019-05-23T16:44:50.117Z] ?   	github.com/elastic/apm-server/publish	[no test files]
[2019-05-23T16:44:50.687Z] ?   	github.com/elastic/apm-server/script/inline_schemas	[no test files]
[2019-05-23T16:44:51.396Z] .
[2019-05-23T16:44:53.312Z] .
[2019-05-23T16:44:53.992Z] ok  	github.com/elastic/apm-server/processor/asset/sourcemap/package_tests	0.056s	coverage: 83.3% of statements
[2019-05-23T16:44:54.942Z] ok  	github.com/elastic/apm-server/sourcemap	0.047s	coverage: 90.4% of statements
[2019-05-23T16:44:55.513Z] ?   	github.com/elastic/apm-server/tests/loader	[no test files]
[2019-05-23T16:44:55.773Z] ok  	github.com/elastic/apm-server/processor/stream	1.957s	coverage: 94.5% of statements
[2019-05-23T16:44:55.862Z] .
[2019-05-23T16:44:56.731Z] ?   	github.com/elastic/apm-server/tests/scripts	[no test files]
[2019-05-23T16:44:56.731Z] ?   	github.com/elastic/apm-server/transform	[no test files]
[2019-05-23T16:44:57.779Z] .
[2019-05-23T16:44:58.114Z] ok  	github.com/elastic/apm-server/tests	0.080s	coverage: 38.3% of statements
[2019-05-23T16:44:59.501Z] ok  	github.com/elastic/apm-server/validation	0.024s	coverage: 100.0% of statements
[2019-05-23T16:44:59.763Z] ok  	github.com/elastic/apm-server/utility	0.019s	coverage: 73.2% of statements
[2019-05-23T16:45:00.330Z] .
[2019-05-23T16:45:00.343Z] ?   	github.com/elastic/apm-server/x-pack/apm-server	[no test files]
[2019-05-23T16:45:00.343Z] ok  	github.com/elastic/apm-server/processor/stream/package_tests	6.330s	coverage: 88.9% of statements
[2019-05-23T16:45:00.604Z] ?   	github.com/elastic/apm-server/x-pack/apm-server/cmd	[no test files]
[2019-05-23T16:45:00.604Z] make[1]: Leaving directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:45:00.604Z] if [ false  = true ]; then \
[2019-05-23T16:45:00.604Z] 	 make stress-tests; \
[2019-05-23T16:45:00.604Z] fi
[2019-05-23T16:45:00.604Z] # Setups environment if TEST_ENVIRONMENT is set to true
[2019-05-23T16:45:00.604Z] # Only runs integration tests with test environment
[2019-05-23T16:45:00.604Z] if [ true = true ]; then \
[2019-05-23T16:45:00.604Z] 	 make integration-tests-environment; \
[2019-05-23T16:45:00.604Z] fi
[2019-05-23T16:45:00.604Z] make[1]: Entering directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:45:00.866Z] mkdir -p /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage
[2019-05-23T16:45:00.866Z] # gotestcover is needed to fetch coverage for multiple packages
[2019-05-23T16:45:00.866Z] go get github.com/elastic/apm-server/vendor/github.com/pierrre/gotestcover
[2019-05-23T16:45:01.129Z] # testify is needed for unit and integration tests
[2019-05-23T16:45:01.129Z] go get github.com/elastic/apm-server/vendor/github.com/stretchr/testify/assert
[2019-05-23T16:45:01.391Z] mkdir -p /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build
[2019-05-23T16:45:01.391Z] echo "BEAT_STRICT_PERMS=false" > /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:45:01.391Z] echo "ES_HOST="elasticsearch"" >> /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:45:01.391Z] echo "ES_PORT=9200" >> /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:45:01.391Z] echo "ES_USER=beats" >> /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:45:01.391Z] echo "ES_PASS=testing" >> /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:45:01.391Z] TESTING_ENVIRONMENT=snapshot ES_BEATS=./_beats docker-compose -p apm-server8a2fd55f40dbcb279911e3f2237312baf1508019  -f docker-compose.yml build  --pull --force-rm
[2019-05-23T16:45:01.966Z] elasticsearch uses an image, skipping
[2019-05-23T16:45:01.966Z] proxy_dep uses an image, skipping
[2019-05-23T16:45:01.966Z] Building beat
[2019-05-23T16:45:01.966Z] Step 1/8 : FROM golang:1.12.4
[2019-05-23T16:45:02.253Z] .
[2019-05-23T16:45:02.913Z] 1.12.4: Pulling from library/golang
[2019-05-23T16:45:04.806Z] .
[2019-05-23T16:45:06.730Z] .
[2019-05-23T16:45:09.284Z] .
[2019-05-23T16:45:11.215Z] .
[2019-05-23T16:45:12.946Z] Digest: sha256:83e8267be041b3ddf6a5792c7e464528408f75c446745642db08cfe4e8d58d18
[2019-05-23T16:45:12.947Z] Status: Downloaded newer image for golang:1.12.4
[2019-05-23T16:45:12.947Z]  ---> b860ab44e93e
[2019-05-23T16:45:12.947Z] Step 2/8 : MAINTAINER Nicolas Ruflin <ruflin@elastic.co>
[2019-05-23T16:45:13.774Z] .
[2019-05-23T16:45:13.894Z]  ---> Running in afeb489a528f
[2019-05-23T16:45:13.895Z] Removing intermediate container afeb489a528f
[2019-05-23T16:45:13.895Z]  ---> 318a4cd0ec31
[2019-05-23T16:45:13.895Z] Step 3/8 : RUN set -x &&     apt-get update &&     apt-get install -y --no-install-recommends          netcat python-pip virtualenv &&     apt-get clean
[2019-05-23T16:45:13.895Z]  ---> Running in 41a767681f24
[2019-05-23T16:45:14.469Z] + apt-get update
[2019-05-23T16:45:14.731Z] Ign:1 http://deb.debian.org/debian stretch InRelease
[2019-05-23T16:45:14.732Z] Get:2 http://security.debian.org/debian-security stretch/updates InRelease [94.3 kB]
[2019-05-23T16:45:14.732Z] Get:3 http://deb.debian.org/debian stretch-updates InRelease [91.0 kB]
[2019-05-23T16:45:14.732Z] Get:4 http://deb.debian.org/debian stretch Release [118 kB]
[2019-05-23T16:45:14.732Z] Get:5 http://deb.debian.org/debian stretch Release.gpg [2434 B]
[2019-05-23T16:45:14.996Z] Get:6 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [492 kB]
[2019-05-23T16:45:14.996Z] Get:7 http://deb.debian.org/debian stretch-updates/main amd64 Packages [27.2 kB]
[2019-05-23T16:45:15.262Z] Get:8 http://deb.debian.org/debian stretch/main amd64 Packages [7082 kB]
[2019-05-23T16:45:15.694Z] .
[2019-05-23T16:45:16.650Z] Fetched 7907 kB in 1s (4325 kB/s)
[2019-05-23T16:45:17.222Z] Reading package lists...
[2019-05-23T16:45:17.222Z] + apt-get install -y --no-install-recommends netcat python-pip virtualenv
[2019-05-23T16:45:18.170Z] Reading package lists...
[2019-05-23T16:45:18.246Z] .
[2019-05-23T16:45:18.246Z] SSSSSSSSSSSSSSS
[2019-05-23T16:45:18.246Z] [success] 2.86% test_access.Test.test_with_token: 2.3091s
[2019-05-23T16:45:18.246Z] [success] 2.82% test_requests.RateLimitTest.test_multiple_ips_rate_limit_hit: 2.2798s
[2019-05-23T16:45:18.246Z] [success] 2.81% test_requests.RateLimitTest.test_multiple_ips_rate_limit: 2.2740s
[2019-05-23T16:45:18.247Z] [success] 2.81% test_requests.RateLimitTest.test_rate_limit_hit: 2.2709s
[2019-05-23T16:45:18.247Z] [success] 2.81% test_requests.RateLimitTest.test_rate_limit: 2.2686s
[2019-05-23T16:45:18.247Z] [success] 2.80% test_requests.SecureTest.test_https_ok: 2.2683s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.SecureTest.test_https_verify: 2.2597s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.Test.test_gzip: 2.2591s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.RateLimitTest.test_rate_limit_only_metadata: 2.2565s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.CorsTest.test_bad_origin: 2.2564s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.RateLimitTest.test_rate_limit_small_hit: 2.2555s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.Test.test_validation_fail: 2.2549s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.ClientSideTest.test_ok: 2.2543s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.CorsTest.test_preflight_bad_headers: 2.2542s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.Test.test_not_existent: 2.2526s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.ClientSideTest.test_sourcemap_upload_fail: 2.2524s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.Test.test_gzip_error: 2.2523s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.CorsTest.test_ok: 2.2523s
[2019-05-23T16:45:18.247Z] [success] 2.79% test_requests.Test.test_healthcheck: 2.2522s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.ClientSideTest.test_sourcemap_upload: 2.2518s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.Test.test_ok: 2.2514s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.Test.test_rum_default_disabled: 2.2508s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.Test.test_deflate: 2.2494s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.CorsTest.test_no_origin: 2.2491s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.CorsTest.test_preflight: 2.2488s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.Test.test_empty: 2.2480s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.Test.test_expvar_default: 2.2480s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.Test.test_method_not_allowed: 2.2476s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.Test.test_ok_verbose: 2.2459s
[2019-05-23T16:45:18.247Z] [success] 2.78% test_requests.Test.test_bad_json: 2.2446s
[2019-05-23T16:45:18.247Z] [success] 2.77% test_requests.Test.test_deflate_error: 2.2432s
[2019-05-23T16:45:18.247Z] [success] 1.85% test_export.TestExportTemplateWithILM.test_export_template_to_file: 1.4981s
[2019-05-23T16:45:18.247Z] [success] 1.84% test_export.TestExportTemplateWithILM.test_export_event_templates_to_file: 1.4879s
[2019-05-23T16:45:18.247Z] [success] 1.84% test_export.TestExportTemplate.test_export_event_templates_to_file: 1.4865s
[2019-05-23T16:45:18.247Z] [success] 1.83% test_export.TestExportTemplate.test_export_template_to_file: 1.4819s
[2019-05-23T16:45:18.247Z] [success] 1.57% test_export.TestExportILMPolicy.test_export_ilm_policy_to_files: 1.2657s
[2019-05-23T16:45:18.247Z] [success] 1.52% test_export.TestExportILMPolicyDisabledTest.test_export_ilm_policy_to_files: 1.2330s
[2019-05-23T16:45:18.247Z] [success] 1.52% test_export.ExportConfigTest.test_export_config: 1.2273s
[2019-05-23T16:45:18.247Z] [success] 1.51% test_export.ExportConfigDefaultTest.test_export_config: 1.2230s
[2019-05-23T16:45:18.247Z] ----------------------------------------------------------------------
[2019-05-23T16:45:18.247Z] Ran 92 tests in 83.094s
[2019-05-23T16:45:18.247Z] 
[2019-05-23T16:45:18.247Z] OK (SKIP=53)
[2019-05-23T16:45:18.247Z] 
[2019-05-23T16:45:18.255Z] [Pipeline] }
[2019-05-23T16:45:18.266Z] [Pipeline] // dir
[2019-05-23T16:45:18.279Z] Post stage
[2019-05-23T16:45:18.302Z] [Pipeline] junit
[2019-05-23T16:45:18.306Z] Recording test results
[2019-05-23T16:45:18.433Z] Building dependency tree...
[2019-05-23T16:45:18.435Z] Reading state information...
[2019-05-23T16:45:18.435Z] The following additional packages will be installed:
[2019-05-23T16:45:18.435Z]   dh-python libmpdec2 libpython3-stdlib libpython3.5-minimal
[2019-05-23T16:45:18.435Z]   libpython3.5-stdlib netcat-traditional python-pip-whl python3
[2019-05-23T16:45:18.435Z]   python3-minimal python3-pkg-resources python3-virtualenv python3.5
[2019-05-23T16:45:18.435Z]   python3.5-minimal
[2019-05-23T16:45:18.435Z] Suggested packages:
[2019-05-23T16:45:18.435Z]   python3-doc python3-tk python3-venv python3-setuptools python3.5-venv
[2019-05-23T16:45:18.435Z]   python3.5-doc binfmt-support
[2019-05-23T16:45:18.435Z] Recommended packages:
[2019-05-23T16:45:18.435Z]   build-essential python-all-dev python-setuptools python-wheel
[2019-05-23T16:45:18.460Z] [Pipeline] }
[2019-05-23T16:45:18.477Z] [Pipeline] // node
[2019-05-23T16:45:18.502Z] [Pipeline] }
[2019-05-23T16:45:18.516Z] [Pipeline] // stage
[2019-05-23T16:45:18.536Z] [Pipeline] }
[2019-05-23T16:45:18.697Z] The following NEW packages will be installed:
[2019-05-23T16:45:18.697Z]   dh-python libmpdec2 libpython3-stdlib libpython3.5-minimal
[2019-05-23T16:45:18.697Z]   libpython3.5-stdlib netcat netcat-traditional python-pip python-pip-whl
[2019-05-23T16:45:18.697Z]   python3 python3-minimal python3-pkg-resources python3-virtualenv python3.5
[2019-05-23T16:45:18.697Z]   python3.5-minimal virtualenv
[2019-05-23T16:45:18.697Z] 0 upgraded, 16 newly installed, 0 to remove and 7 not upgraded.
[2019-05-23T16:45:18.697Z] Need to get 6775 kB of archives.
[2019-05-23T16:45:18.697Z] After this operation, 28.0 MB of additional disk space will be used.
[2019-05-23T16:45:18.697Z] Get:1 http://deb.debian.org/debian stretch/main amd64 libpython3.5-minimal amd64 3.5.3-1+deb9u1 [573 kB]
[2019-05-23T16:45:18.957Z] Get:2 http://deb.debian.org/debian stretch/main amd64 python3.5-minimal amd64 3.5.3-1+deb9u1 [1691 kB]
[2019-05-23T16:45:18.957Z] Get:3 http://deb.debian.org/debian stretch/main amd64 python3-minimal amd64 3.5.3-1 [35.3 kB]
[2019-05-23T16:45:18.957Z] Get:4 http://deb.debian.org/debian stretch/main amd64 libmpdec2 amd64 2.4.2-1 [85.2 kB]
[2019-05-23T16:45:18.957Z] Get:5 http://deb.debian.org/debian stretch/main amd64 libpython3.5-stdlib amd64 3.5.3-1+deb9u1 [2167 kB]
[2019-05-23T16:45:18.957Z] Get:6 http://deb.debian.org/debian stretch/main amd64 python3.5 amd64 3.5.3-1+deb9u1 [229 kB]
[2019-05-23T16:45:18.957Z] Get:7 http://deb.debian.org/debian stretch/main amd64 libpython3-stdlib amd64 3.5.3-1 [18.6 kB]
[2019-05-23T16:45:18.957Z] Get:8 http://deb.debian.org/debian stretch/main amd64 dh-python all 2.20170125 [86.8 kB]
[2019-05-23T16:45:18.957Z] Get:9 http://deb.debian.org/debian stretch/main amd64 python3 amd64 3.5.3-1 [21.6 kB]
[2019-05-23T16:45:18.957Z] Get:10 http://deb.debian.org/debian stretch/main amd64 netcat-traditional amd64 1.10-41+b1 [67.0 kB]
[2019-05-23T16:45:18.957Z] Get:11 http://deb.debian.org/debian stretch/main amd64 python-pip-whl all 9.0.1-2+deb9u1 [1399 kB]
[2019-05-23T16:45:18.957Z] Get:12 http://deb.debian.org/debian stretch/main amd64 python-pip all 9.0.1-2+deb9u1 [179 kB]
[2019-05-23T16:45:18.957Z] Get:13 http://deb.debian.org/debian stretch/main amd64 python3-pkg-resources all 33.1.1-1 [137 kB]
[2019-05-23T16:45:18.957Z] Get:14 http://deb.debian.org/debian stretch/main amd64 python3-virtualenv all 15.1.0+ds-1 [57.7 kB]
[2019-05-23T16:45:18.957Z] Get:15 http://deb.debian.org/debian stretch/main amd64 virtualenv all 15.1.0+ds-1 [19.7 kB]
[2019-05-23T16:45:18.957Z] Get:16 http://deb.debian.org/debian stretch/main amd64 netcat all 1.10-41 [8962 B]
[2019-05-23T16:45:19.217Z] debconf: delaying package configuration, since apt-utils is not installed
[2019-05-23T16:45:19.218Z] Fetched 6775 kB in 0s (35.7 MB/s)
[2019-05-23T16:45:19.218Z] Selecting previously unselected package libpython3.5-minimal:amd64.
[2019-05-23T16:45:19.477Z] (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 15090 files and directories currently installed.)
[2019-05-23T16:45:19.477Z] Preparing to unpack .../0-libpython3.5-minimal_3.5.3-1+deb9u1_amd64.deb ...
[2019-05-23T16:45:19.477Z] Unpacking libpython3.5-minimal:amd64 (3.5.3-1+deb9u1) ...
[2019-05-23T16:45:19.477Z] Selecting previously unselected package python3.5-minimal.
[2019-05-23T16:45:19.477Z] Preparing to unpack .../1-python3.5-minimal_3.5.3-1+deb9u1_amd64.deb ...
[2019-05-23T16:45:19.477Z] Unpacking python3.5-minimal (3.5.3-1+deb9u1) ...
[2019-05-23T16:45:19.739Z] Selecting previously unselected package python3-minimal.
[2019-05-23T16:45:19.739Z] Preparing to unpack .../2-python3-minimal_3.5.3-1_amd64.deb ...
[2019-05-23T16:45:19.739Z] Unpacking python3-minimal (3.5.3-1) ...
[2019-05-23T16:45:20.004Z] Selecting previously unselected package libmpdec2:amd64.
[2019-05-23T16:45:20.004Z] Preparing to unpack .../3-libmpdec2_2.4.2-1_amd64.deb ...
[2019-05-23T16:45:20.004Z] Unpacking libmpdec2:amd64 (2.4.2-1) ...
[2019-05-23T16:45:20.004Z] Selecting previously unselected package libpython3.5-stdlib:amd64.
[2019-05-23T16:45:20.004Z] Preparing to unpack .../4-libpython3.5-stdlib_3.5.3-1+deb9u1_amd64.deb ...
[2019-05-23T16:45:20.004Z] Unpacking libpython3.5-stdlib:amd64 (3.5.3-1+deb9u1) ...
[2019-05-23T16:45:20.282Z] Selecting previously unselected package python3.5.
[2019-05-23T16:45:20.282Z] Preparing to unpack .../5-python3.5_3.5.3-1+deb9u1_amd64.deb ...
[2019-05-23T16:45:20.282Z] Unpacking python3.5 (3.5.3-1+deb9u1) ...
[2019-05-23T16:45:20.282Z] Selecting previously unselected package libpython3-stdlib:amd64.
[2019-05-23T16:45:20.282Z] Preparing to unpack .../6-libpython3-stdlib_3.5.3-1_amd64.deb ...
[2019-05-23T16:45:20.282Z] Unpacking libpython3-stdlib:amd64 (3.5.3-1) ...
[2019-05-23T16:45:20.282Z] Selecting previously unselected package dh-python.
[2019-05-23T16:45:20.282Z] Preparing to unpack .../7-dh-python_2.20170125_all.deb ...
[2019-05-23T16:45:20.282Z] Unpacking dh-python (2.20170125) ...
[2019-05-23T16:45:20.543Z] Setting up libpython3.5-minimal:amd64 (3.5.3-1+deb9u1) ...
[2019-05-23T16:45:20.543Z] Setting up python3.5-minimal (3.5.3-1+deb9u1) ...
[2019-05-23T16:45:21.114Z] Setting up python3-minimal (3.5.3-1) ...
[2019-05-23T16:45:21.376Z] Selecting previously unselected package python3.
[2019-05-23T16:45:21.376Z] (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 16004 files and directories currently installed.)
[2019-05-23T16:45:21.376Z] Preparing to unpack .../0-python3_3.5.3-1_amd64.deb ...
[2019-05-23T16:45:21.376Z] Unpacking python3 (3.5.3-1) ...
[2019-05-23T16:45:21.376Z] Selecting previously unselected package netcat-traditional.
[2019-05-23T16:45:21.376Z] Preparing to unpack .../1-netcat-traditional_1.10-41+b1_amd64.deb ...
[2019-05-23T16:45:21.376Z] Unpacking netcat-traditional (1.10-41+b1) ...
[2019-05-23T16:45:21.638Z] Selecting previously unselected package python-pip-whl.
[2019-05-23T16:45:21.638Z] Preparing to unpack .../2-python-pip-whl_9.0.1-2+deb9u1_all.deb ...
[2019-05-23T16:45:21.638Z] Unpacking python-pip-whl (9.0.1-2+deb9u1) ...
[2019-05-23T16:45:21.638Z] Selecting previously unselected package python-pip.
[2019-05-23T16:45:21.638Z] Preparing to unpack .../3-python-pip_9.0.1-2+deb9u1_all.deb ...
[2019-05-23T16:45:21.638Z] Unpacking python-pip (9.0.1-2+deb9u1) ...
[2019-05-23T16:45:21.898Z] Selecting previously unselected package python3-pkg-resources.
[2019-05-23T16:45:21.898Z] Preparing to unpack .../4-python3-pkg-resources_33.1.1-1_all.deb ...
[2019-05-23T16:45:21.898Z] Unpacking python3-pkg-resources (33.1.1-1) ...
[2019-05-23T16:45:21.898Z] Selecting previously unselected package python3-virtualenv.
[2019-05-23T16:45:21.898Z] Preparing to unpack .../5-python3-virtualenv_15.1.0+ds-1_all.deb ...
[2019-05-23T16:45:21.898Z] Unpacking python3-virtualenv (15.1.0+ds-1) ...
[2019-05-23T16:45:21.898Z] Selecting previously unselected package virtualenv.
[2019-05-23T16:45:21.898Z] Preparing to unpack .../6-virtualenv_15.1.0+ds-1_all.deb ...
[2019-05-23T16:45:21.898Z] Unpacking virtualenv (15.1.0+ds-1) ...
[2019-05-23T16:45:21.898Z] Selecting previously unselected package netcat.
[2019-05-23T16:45:21.898Z] Preparing to unpack .../7-netcat_1.10-41_all.deb ...
[2019-05-23T16:45:21.898Z] Unpacking netcat (1.10-41) ...
[2019-05-23T16:45:21.898Z] Setting up python-pip-whl (9.0.1-2+deb9u1) ...
[2019-05-23T16:45:21.898Z] Processing triggers for mime-support (3.60) ...
[2019-05-23T16:45:21.898Z] Setting up netcat-traditional (1.10-41+b1) ...
[2019-05-23T16:45:21.898Z] update-alternatives: using /bin/nc.traditional to provide /bin/nc (nc) in auto mode
[2019-05-23T16:45:21.898Z] Processing triggers for libc-bin (2.24-11+deb9u4) ...
[2019-05-23T16:45:22.160Z] Setting up netcat (1.10-41) ...
[2019-05-23T16:45:22.160Z] Setting up python-pip (9.0.1-2+deb9u1) ...
[2019-05-23T16:45:23.542Z] Setting up libmpdec2:amd64 (2.4.2-1) ...
[2019-05-23T16:45:23.542Z] Setting up libpython3.5-stdlib:amd64 (3.5.3-1+deb9u1) ...
[2019-05-23T16:45:23.542Z] Setting up python3.5 (3.5.3-1+deb9u1) ...
[2019-05-23T16:45:24.480Z] Setting up libpython3-stdlib:amd64 (3.5.3-1) ...
[2019-05-23T16:45:24.741Z] Setting up python3 (3.5.3-1) ...
[2019-05-23T16:45:24.741Z] running python rtupdate hooks for python3.5...
[2019-05-23T16:45:25.008Z] running python post-rtupdate hooks for python3.5...
[2019-05-23T16:45:25.008Z] Setting up python3-pkg-resources (33.1.1-1) ...
[2019-05-23T16:45:25.591Z] Setting up python3-virtualenv (15.1.0+ds-1) ...
[2019-05-23T16:45:25.851Z] Setting up dh-python (2.20170125) ...
[2019-05-23T16:45:26.113Z] Setting up virtualenv (15.1.0+ds-1) ...
[2019-05-23T16:45:26.113Z] Processing triggers for libc-bin (2.24-11+deb9u4) ...
[2019-05-23T16:45:26.113Z] + apt-get clean
[2019-05-23T16:45:28.022Z] Removing intermediate container 41a767681f24
[2019-05-23T16:45:28.022Z]  ---> b247a0c94842
[2019-05-23T16:45:28.022Z] Step 4/8 : RUN pip install --upgrade setuptools
[2019-05-23T16:45:28.022Z]  ---> Running in 96f91892c445
[2019-05-23T16:45:29.935Z] Collecting setuptools
[2019-05-23T16:45:30.877Z]   Downloading https://files.pythonhosted.org/packages/ec/51/f45cea425fd5cb0b0380f5b0f048ebc1da5b417e48d304838c02d6288a1e/setuptools-41.0.1-py2.py3-none-any.whl (575kB)
[2019-05-23T16:45:31.138Z] Installing collected packages: setuptools
[2019-05-23T16:45:31.398Z] Successfully installed setuptools-41.0.1
[2019-05-23T16:45:31.969Z] Removing intermediate container 96f91892c445
[2019-05-23T16:45:31.969Z]  ---> 60da91ec02b2
[2019-05-23T16:45:31.969Z] Step 5/8 : ENV APMSERVER_PATH /go/src/github.com/elastic/apm-server
[2019-05-23T16:45:31.969Z]  ---> Running in 38f25120e5ac
[2019-05-23T16:45:32.232Z] Removing intermediate container 38f25120e5ac
[2019-05-23T16:45:32.232Z]  ---> d1cbff009cee
[2019-05-23T16:45:32.232Z] Step 6/8 : RUN mkdir -p $APMSERVER_PATH/build/coverage
[2019-05-23T16:45:32.232Z]  ---> Running in bdbbdf8a1f44
[2019-05-23T16:45:33.173Z] Removing intermediate container bdbbdf8a1f44
[2019-05-23T16:45:33.173Z]  ---> ba01227ee194
[2019-05-23T16:45:33.173Z] Step 7/8 : WORKDIR $APMSERVER_PATH
[2019-05-23T16:45:33.173Z]  ---> Running in b140c111a592
[2019-05-23T16:45:33.432Z] Removing intermediate container b140c111a592
[2019-05-23T16:45:33.432Z]  ---> 2e8f020f7d4d
[2019-05-23T16:45:33.432Z] Step 8/8 : HEALTHCHECK CMD exit 0
[2019-05-23T16:45:33.432Z]  ---> Running in 191b6602414b
[2019-05-23T16:45:33.692Z] Removing intermediate container 191b6602414b
[2019-05-23T16:45:33.692Z]  ---> 00648bcf6c2e
[2019-05-23T16:45:33.692Z] 
[2019-05-23T16:45:33.692Z] Successfully built 00648bcf6c2e
[2019-05-23T16:45:33.692Z] Successfully tagged apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_beat:latest
[2019-05-23T16:45:33.692Z] # If you want to get logs on CI when the `docker-compose` fails, you can
[2019-05-23T16:45:33.692Z] # add  `|| TESTING_ENVIRONMENT=snapshot ES_BEATS=./_beats docker-compose -p apm-server8a2fd55f40dbcb279911e3f2237312baf1508019  -f docker-compose.yml logs --tail 200` after the command.
[2019-05-23T16:45:33.692Z] #
[2019-05-23T16:45:33.692Z] # This will make docker-compose command to display the logs on stdout on error, It's not enabled
[2019-05-23T16:45:33.692Z] # by default because it can create noise if the test inside the container fails.
[2019-05-23T16:45:33.693Z] TESTING_ENVIRONMENT=snapshot ES_BEATS=./_beats docker-compose -p apm-server8a2fd55f40dbcb279911e3f2237312baf1508019  -f docker-compose.yml run beat make integration-tests RACE_DETECTOR= DOCKER_COMPOSE_PROJECT_NAME=apm-server8a2fd55f40dbcb279911e3f2237312baf1508019 
[2019-05-23T16:45:34.261Z] Creating network "apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_default" with the default driver
[2019-05-23T16:45:34.261Z] Pulling elasticsearch (docker.elastic.co/elasticsearch/elasticsearch:8.0.0-SNAPSHOT)...
[2019-05-23T16:45:34.831Z] 8.0.0-SNAPSHOT: Pulling from elasticsearch/elasticsearch
[2019-05-23T16:45:47.072Z] Creating apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_elasticsearch_1 ... 
[2019-05-23T16:46:17.225Z] Creating apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_elasticsearch_1 ... doneCreating apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_proxy_dep_1     ... 
[2019-05-23T16:46:18.607Z] Creating apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_proxy_dep_1     ... donemkdir -p /go/src/github.com/elastic/apm-server/build/coverage
[2019-05-23T16:46:18.607Z] # gotestcover is needed to fetch coverage for multiple packages
[2019-05-23T16:46:18.607Z] go get github.com/elastic/apm-server/vendor/github.com/pierrre/gotestcover
[2019-05-23T16:46:18.871Z] # testify is needed for unit and integration tests
[2019-05-23T16:46:18.871Z] go get github.com/elastic/apm-server/vendor/github.com/stretchr/testify/assert
[2019-05-23T16:46:20.800Z] rm -f docker-compose.yml.lock
[2019-05-23T16:46:20.800Z] go test -i github.com/elastic/apm-server github.com/elastic/apm-server/beater github.com/elastic/apm-server/cmd github.com/elastic/apm-server/decoder github.com/elastic/apm-server/idxmgmt github.com/elastic/apm-server/idxmgmt/ilm github.com/elastic/apm-server/include github.com/elastic/apm-server/ingest/pipeline github.com/elastic/apm-server/model github.com/elastic/apm-server/model/error github.com/elastic/apm-server/model/error/generated/schema github.com/elastic/apm-server/model/metadata github.com/elastic/apm-server/model/metadata/generated/schema github.com/elastic/apm-server/model/metricset github.com/elastic/apm-server/model/metricset/generated/schema github.com/elastic/apm-server/model/sourcemap github.com/elastic/apm-server/model/sourcemap/generated/schema github.com/elastic/apm-server/model/span github.com/elastic/apm-server/model/span/generated/schema github.com/elastic/apm-server/model/transaction github.com/elastic/apm-server/model/transaction/generated/schema github.com/elastic/apm-server/pipelistener github.com/elastic/apm-server/processor/asset github.com/elastic/apm-server/processor/asset/sourcemap github.com/elastic/apm-server/processor/asset/sourcemap/package_tests github.com/elastic/apm-server/processor/stream github.com/elastic/apm-server/processor/stream/package_tests github.com/elastic/apm-server/publish github.com/elastic/apm-server/script/inline_schemas github.com/elastic/apm-server/sourcemap github.com/elastic/apm-server/tests github.com/elastic/apm-server/tests/loader github.com/elastic/apm-server/tests/scripts github.com/elastic/apm-server/transform github.com/elastic/apm-server/utility github.com/elastic/apm-server/validation github.com/elastic/apm-server/x-pack/apm-server github.com/elastic/apm-server/x-pack/apm-server/cmd
[2019-05-23T16:46:59.613Z] /go/bin/gotestcover -tags=integration  -coverprofile=/go/src/github.com/elastic/apm-server/build/coverage/integration.cov github.com/elastic/apm-server github.com/elastic/apm-server/beater github.com/elastic/apm-server/cmd github.com/elastic/apm-server/decoder github.com/elastic/apm-server/idxmgmt github.com/elastic/apm-server/idxmgmt/ilm github.com/elastic/apm-server/include github.com/elastic/apm-server/ingest/pipeline github.com/elastic/apm-server/model github.com/elastic/apm-server/model/error github.com/elastic/apm-server/model/error/generated/schema github.com/elastic/apm-server/model/metadata github.com/elastic/apm-server/model/metadata/generated/schema github.com/elastic/apm-server/model/metricset github.com/elastic/apm-server/model/metricset/generated/schema github.com/elastic/apm-server/model/sourcemap github.com/elastic/apm-server/model/sourcemap/generated/schema github.com/elastic/apm-server/model/span github.com/elastic/apm-server/model/span/generated/schema github.com/elastic/apm-server/model/transaction github.com/elastic/apm-server/model/transaction/generated/schema github.com/elastic/apm-server/pipelistener github.com/elastic/apm-server/processor/asset github.com/elastic/apm-server/processor/asset/sourcemap github.com/elastic/apm-server/processor/asset/sourcemap/package_tests github.com/elastic/apm-server/processor/stream github.com/elastic/apm-server/processor/stream/package_tests github.com/elastic/apm-server/publish github.com/elastic/apm-server/script/inline_schemas github.com/elastic/apm-server/sourcemap github.com/elastic/apm-server/tests github.com/elastic/apm-server/tests/loader github.com/elastic/apm-server/tests/scripts github.com/elastic/apm-server/transform github.com/elastic/apm-server/utility github.com/elastic/apm-server/validation github.com/elastic/apm-server/x-pack/apm-server github.com/elastic/apm-server/x-pack/apm-server/cmd
[2019-05-23T16:47:31.773Z] ok  	github.com/elastic/apm-server/decoder	0.092s	coverage: 83.9% of statements
[2019-05-23T16:47:35.992Z] ok  	github.com/elastic/apm-server/idxmgmt	0.097s	coverage: 85.4% of statements
[2019-05-23T16:47:36.261Z] ?   	github.com/elastic/apm-server/cmd	[no test files]
[2019-05-23T16:47:36.525Z] ?   	github.com/elastic/apm-server/include	[no test files]
[2019-05-23T16:47:36.797Z] ok  	github.com/elastic/apm-server	0.088s	coverage: 0.0% of statements
[2019-05-23T16:47:38.745Z] ok  	github.com/elastic/apm-server/idxmgmt/ilm	0.048s	coverage: 84.0% of statements
[2019-05-23T16:47:39.321Z] ok  	github.com/elastic/apm-server/beater	7.165s	coverage: 76.8% of statements
[2019-05-23T16:47:39.589Z] ?   	github.com/elastic/apm-server/model/error/generated/schema	[no test files]
[2019-05-23T16:47:41.509Z] ok  	github.com/elastic/apm-server/ingest/pipeline	0.033s	coverage: 80.0% of statements
[2019-05-23T16:47:41.772Z] ?   	github.com/elastic/apm-server/model/metadata/generated/schema	[no test files]
[2019-05-23T16:47:42.347Z] ok  	github.com/elastic/apm-server/model	0.070s	coverage: 75.5% of statements
[2019-05-23T16:47:42.347Z] ok  	github.com/elastic/apm-server/model/metadata	0.015s	coverage: 92.4% of statements
[2019-05-23T16:47:42.923Z] ?   	github.com/elastic/apm-server/model/metricset/generated/schema	[no test files]
[2019-05-23T16:47:43.185Z] ?   	github.com/elastic/apm-server/model/sourcemap/generated/schema	[no test files]
[2019-05-23T16:47:44.129Z] ok  	github.com/elastic/apm-server/model/error	0.038s	coverage: 98.0% of statements
[2019-05-23T16:47:44.704Z] ?   	github.com/elastic/apm-server/model/span/generated/schema	[no test files]
[2019-05-23T16:47:46.623Z] ok  	github.com/elastic/apm-server/model/metricset	0.033s	coverage: 78.0% of statements
[2019-05-23T16:47:46.623Z] ?   	github.com/elastic/apm-server/model/transaction/generated/schema	[no test files]
[2019-05-23T16:47:47.568Z] ok  	github.com/elastic/apm-server/model/sourcemap	0.018s	coverage: 83.3% of statements
[2019-05-23T16:47:48.519Z] ok  	github.com/elastic/apm-server/model/span	0.076s	coverage: 90.6% of statements
[2019-05-23T16:47:48.519Z] ?   	github.com/elastic/apm-server/processor/asset	[no test files]
[2019-05-23T16:47:48.785Z] ok  	github.com/elastic/apm-server/pipelistener	0.006s	coverage: 100.0% of statements
[2019-05-23T16:47:49.739Z] ?   	github.com/elastic/apm-server/processor/asset/sourcemap	[no test files]
[2019-05-23T16:47:50.322Z] ok  	github.com/elastic/apm-server/model/transaction	0.053s	coverage: 96.4% of statements
[2019-05-23T16:47:51.742Z] ?   	github.com/elastic/apm-server/publish	[no test files]
[2019-05-23T16:47:52.005Z] ?   	github.com/elastic/apm-server/script/inline_schemas	[no test files]
[2019-05-23T16:47:55.323Z] ok  	github.com/elastic/apm-server/processor/asset/sourcemap/package_tests	0.069s	coverage: 83.3% of statements
[2019-05-23T16:47:56.721Z] ok  	github.com/elastic/apm-server/sourcemap	0.063s	coverage: 90.4% of statements
[2019-05-23T16:47:56.983Z] ok  	github.com/elastic/apm-server/processor/stream	2.032s	coverage: 94.5% of statements
[2019-05-23T16:47:57.557Z] ?   	github.com/elastic/apm-server/tests/loader	[no test files]
[2019-05-23T16:47:58.132Z] ?   	github.com/elastic/apm-server/tests/scripts	[no test files]
[2019-05-23T16:47:58.704Z] ?   	github.com/elastic/apm-server/transform	[no test files]
[2019-05-23T16:48:00.626Z] ok  	github.com/elastic/apm-server/tests	0.061s	coverage: 38.3% of statements
[2019-05-23T16:48:01.197Z] ok  	github.com/elastic/apm-server/utility	0.023s	coverage: 73.2% of statements
[2019-05-23T16:48:01.459Z] ok  	github.com/elastic/apm-server/validation	0.014s	coverage: 100.0% of statements
[2019-05-23T16:48:02.846Z] ?   	github.com/elastic/apm-server/x-pack/apm-server	[no test files]
[2019-05-23T16:48:02.846Z] ok  	github.com/elastic/apm-server/processor/stream/package_tests	7.170s	coverage: 88.9% of statements
[2019-05-23T16:48:02.846Z] ?   	github.com/elastic/apm-server/x-pack/apm-server/cmd	[no test files]
[2019-05-23T16:48:03.418Z] make[1]: Leaving directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:48:03.418Z] # Runs system and system integration tests if SYSTEM_TESTS is set to true
[2019-05-23T16:48:03.418Z] if [ true = true ]; then \
[2019-05-23T16:48:03.418Z] 	if [ true = true ]; then \
[2019-05-23T16:48:03.418Z] 		make system-tests-environment; \
[2019-05-23T16:48:03.418Z] 	else \
[2019-05-23T16:48:03.418Z] 		make system-tests; \
[2019-05-23T16:48:03.418Z] 	fi \
[2019-05-23T16:48:03.418Z] fi
[2019-05-23T16:48:03.418Z] make[1]: Entering directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:48:03.680Z] mkdir -p /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage
[2019-05-23T16:48:03.680Z] # gotestcover is needed to fetch coverage for multiple packages
[2019-05-23T16:48:03.680Z] go get github.com/elastic/apm-server/vendor/github.com/pierrre/gotestcover
[2019-05-23T16:48:03.680Z] # testify is needed for unit and integration tests
[2019-05-23T16:48:03.680Z] go get github.com/elastic/apm-server/vendor/github.com/stretchr/testify/assert
[2019-05-23T16:48:03.940Z] mkdir -p /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build
[2019-05-23T16:48:03.940Z] echo "BEAT_STRICT_PERMS=false" > /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:48:03.940Z] echo "ES_HOST="elasticsearch"" >> /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:48:03.940Z] echo "ES_PORT=9200" >> /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:48:03.940Z] echo "ES_USER=beats" >> /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:48:03.940Z] echo "ES_PASS=testing" >> /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/test.env
[2019-05-23T16:48:03.940Z] TESTING_ENVIRONMENT=snapshot ES_BEATS=./_beats docker-compose -p apm-server8a2fd55f40dbcb279911e3f2237312baf1508019  -f docker-compose.yml build  --pull --force-rm
[2019-05-23T16:48:04.515Z] elasticsearch uses an image, skipping
[2019-05-23T16:48:04.515Z] proxy_dep uses an image, skipping
[2019-05-23T16:48:04.515Z] Building beat
[2019-05-23T16:48:04.777Z] Step 1/8 : FROM golang:1.12.4
[2019-05-23T16:48:05.346Z] 1.12.4: Pulling from library/golang
[2019-05-23T16:48:05.346Z] Digest: sha256:83e8267be041b3ddf6a5792c7e464528408f75c446745642db08cfe4e8d58d18
[2019-05-23T16:48:05.346Z] Status: Image is up to date for golang:1.12.4
[2019-05-23T16:48:05.346Z]  ---> b860ab44e93e
[2019-05-23T16:48:05.346Z] Step 2/8 : MAINTAINER Nicolas Ruflin <ruflin@elastic.co>
[2019-05-23T16:48:05.346Z]  ---> Using cache
[2019-05-23T16:48:05.346Z]  ---> 318a4cd0ec31
[2019-05-23T16:48:05.346Z] Step 3/8 : RUN set -x &&     apt-get update &&     apt-get install -y --no-install-recommends          netcat python-pip virtualenv &&     apt-get clean
[2019-05-23T16:48:05.346Z]  ---> Using cache
[2019-05-23T16:48:05.346Z]  ---> b247a0c94842
[2019-05-23T16:48:05.346Z] Step 4/8 : RUN pip install --upgrade setuptools
[2019-05-23T16:48:05.346Z]  ---> Using cache
[2019-05-23T16:48:05.346Z]  ---> 60da91ec02b2
[2019-05-23T16:48:05.346Z] Step 5/8 : ENV APMSERVER_PATH /go/src/github.com/elastic/apm-server
[2019-05-23T16:48:05.346Z]  ---> Using cache
[2019-05-23T16:48:05.346Z]  ---> d1cbff009cee
[2019-05-23T16:48:05.346Z] Step 6/8 : RUN mkdir -p $APMSERVER_PATH/build/coverage
[2019-05-23T16:48:05.346Z]  ---> Using cache
[2019-05-23T16:48:05.346Z]  ---> ba01227ee194
[2019-05-23T16:48:05.346Z] Step 7/8 : WORKDIR $APMSERVER_PATH
[2019-05-23T16:48:05.346Z]  ---> Using cache
[2019-05-23T16:48:05.346Z]  ---> 2e8f020f7d4d
[2019-05-23T16:48:05.346Z] Step 8/8 : HEALTHCHECK CMD exit 0
[2019-05-23T16:48:05.346Z]  ---> Using cache
[2019-05-23T16:48:05.346Z]  ---> 00648bcf6c2e
[2019-05-23T16:48:05.346Z] 
[2019-05-23T16:48:05.346Z] Successfully built 00648bcf6c2e
[2019-05-23T16:48:05.346Z] Successfully tagged apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_beat:latest
[2019-05-23T16:48:05.346Z] TESTING_ENVIRONMENT=snapshot ES_BEATS=./_beats docker-compose -p apm-server8a2fd55f40dbcb279911e3f2237312baf1508019  -f docker-compose.yml run -e INTEGRATION_TESTS=1 -e TESTING_ENVIRONMENT=snapshot -e DOCKER_COMPOSE_PROJECT_NAME=apm-server8a2fd55f40dbcb279911e3f2237312baf1508019  beat make system-tests
[2019-05-23T16:48:06.288Z] Starting apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_elasticsearch_1 ... 
[2019-05-23T16:48:06.288Z] Starting apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_elasticsearch_1 ... doneStarting apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_proxy_dep_1     ... 
[2019-05-23T16:48:08.614Z] Starting apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_proxy_dep_1     ... donemkdir -p /go/src/github.com/elastic/apm-server/build/coverage
[2019-05-23T16:48:08.614Z] # gotestcover is needed to fetch coverage for multiple packages
[2019-05-23T16:48:08.614Z] go get github.com/elastic/apm-server/vendor/github.com/pierrre/gotestcover
[2019-05-23T16:48:08.875Z] # testify is needed for unit and integration tests
[2019-05-23T16:48:08.875Z] go get github.com/elastic/apm-server/vendor/github.com/stretchr/testify/assert
[2019-05-23T16:48:55.633Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/processor/asset/sourcemap/package_tests
[2019-05-23T16:48:55.633Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/processor/stream/package_tests
[2019-05-23T16:48:55.633Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/script/inline_schemas
[2019-05-23T16:48:55.633Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/tests
[2019-05-23T16:48:55.633Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/tests/loader
[2019-05-23T16:48:55.633Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/tests/scripts
[2019-05-23T16:48:55.633Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/x-pack/apm-server
[2019-05-23T16:48:55.633Z] warning: no packages being tested depend on matches for pattern github.com/elastic/apm-server/x-pack/apm-server/cmd
[2019-05-23T16:49:13.775Z] New python executable in /go/src/github.com/elastic/apm-server/build/python-env/bin/python2
[2019-05-23T16:49:13.775Z] Also creating executable in /go/src/github.com/elastic/apm-server/build/python-env/bin/python
[2019-05-23T16:49:16.329Z] Installing setuptools, pkg_resources, pip, wheel...done.
[2019-05-23T16:49:16.329Z] Running virtualenv with interpreter /usr/bin/python2
[2019-05-23T16:49:16.329Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:49:16.902Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:49:31.800Z] ERROR: docker-compose 1.23.2 has requirement PyYAML<4,>=3.10, but you'll have pyyaml 4.2b1 which is incompatible.
[2019-05-23T16:49:31.800Z] . /go/src/github.com/elastic/apm-server/build/python-env/bin/activate; INTEGRATION_TESTS=1 TESTING_ENVIRONMENT=snapshot DOCKER_COMPOSE_PROJECT_NAME=apm-server8a2fd55f40dbcb279911e3f2237312baf1508019 nosetests ./tests/system/test_integration.py ./tests/system/test_setup_index_management.py ./tests/system/test_requests.py ./tests/system/test_export.py ./tests/system/test_pipelines.py ./tests/system/test_access.py --process-timeout=90 --with-timer -v --with-xunit --xunit-file=/go/src/github.com/elastic/apm-server/build/TEST-system.xml 
[2019-05-23T16:49:42.372Z] test_backend_error (test_integration.EnrichEventIntegrationTest) ... ok (8.5798s)
[2019-05-23T16:49:50.525Z] test_backend_transaction (test_integration.EnrichEventIntegrationTest) ... ok (8.4427s)
[2019-05-23T16:49:58.689Z] test_enrich_backend_event (test_integration.EnrichEventIntegrationTest) ... ok (8.2420s)
[2019-05-23T16:50:01.260Z] test_enrich_rum_event (test_integration.EnrichEventIntegrationTest) ... ok (3.2100s)
[2019-05-23T16:50:16.193Z] test_grouping_key_for_error (test_integration.EnrichEventIntegrationTest) ... ok (13.2474s)
[2019-05-23T16:50:22.786Z] test_rum_error (test_integration.EnrichEventIntegrationTest) ... ok (8.0926s)
[2019-05-23T16:50:30.936Z] test_rum_transaction (test_integration.EnrichEventIntegrationTest) ... ok (8.1197s)
[2019-05-23T16:50:39.082Z] test_experimental_key_indexed (test_integration.ExperimentalModeTest) ... ok (8.1806s)
[2019-05-23T16:50:39.654Z] expvar enabled, should 200 ... ok (1.0629s)
[2019-05-23T16:50:40.598Z] expvar disabled, should 404 ... ok (1.0901s)
[2019-05-23T16:50:41.988Z] expvar enabled, should 200 ... ok (1.0664s)
[2019-05-23T16:50:50.138Z] test_metric_doc (test_integration.MetricsIntegrationTest) ... ok (8.0860s)
[2019-05-23T16:50:50.138Z] test_template_setup_error (test_integration.OverrideIndicesFailureIntegrationTest) ... ok (0.1401s)
[2019-05-23T16:50:54.365Z] test_override_indices_config (test_integration.OverrideIndicesIntegrationTest) ... ok (4.3186s)
[2019-05-23T16:51:02.507Z] test_experimental_key_indexed (test_integration.ProductionModeTest) ... ok (8.0373s)
[2019-05-23T16:51:24.476Z] test_sourcemap_cache_expiration (test_integration.SourcemappingCacheIntegrationTest) ... ok (21.5809s)
[2019-05-23T16:51:39.393Z] test_rum_error_changed_index (test_integration.SourcemappingIntegrationChangedConfigTest) ... ok (14.1259s)
[2019-05-23T16:51:54.328Z] test_backend_error (test_integration.SourcemappingIntegrationTest) ... ok (14.2302s)
[2019-05-23T16:52:06.580Z] test_backend_span (test_integration.SourcemappingIntegrationTest) ... ok (14.1741s)
[2019-05-23T16:52:24.706Z] test_duplicated_sourcemap_warning (test_integration.SourcemappingIntegrationTest) ... ok (18.0277s)
[2019-05-23T16:52:51.316Z] test_fetch_latest_of_multiple_sourcemaps (test_integration.SourcemappingIntegrationTest) ... ok (24.4462s)
[2019-05-23T16:53:03.560Z] test_no_matching_sourcemap (test_integration.SourcemappingIntegrationTest) ... ok (14.2431s)
[2019-05-23T16:53:06.862Z] test_no_sourcemap (test_integration.SourcemappingIntegrationTest) ... ok (3.1562s)
[2019-05-23T16:53:21.775Z] test_rum_error (test_integration.SourcemappingIntegrationTest) ... ok (14.2289s)
[2019-05-23T16:53:36.706Z] test_rum_transaction (test_integration.SourcemappingIntegrationTest) ... ok (14.1874s)
[2019-05-23T16:53:48.937Z] test_rum_transaction_different_subdomain (test_integration.SourcemappingIntegrationTest) ... ok (14.2943s)
[2019-05-23T16:54:07.064Z] test_sourcemap_mapping_cache_usage (test_integration.SourcemappingIntegrationTest) ... ok (15.2837s)
[2019-05-23T16:54:07.328Z] This test starts the beat with a loaded template and sends error data to elasticsearch. ... ok (3.1570s)
[2019-05-23T16:54:15.468Z] This test starts the beat with a loaded template and sends transaction data to elasticsearch. ... ok (8.0988s)
[2019-05-23T16:54:23.615Z] test_mark_type (test_integration.Test) ... ok (8.0303s)
[2019-05-23T16:54:26.921Z] This test starts the beat and checks that the onboarding doc has been published to ES ... ok (3.0459s)
[2019-05-23T16:54:30.223Z] test_tags_type (test_integration.Test) ... ok (3.1878s)
[2019-05-23T16:54:32.765Z] This test starts the beat and checks that the template has been loaded to ES ... ok (3.0221s)
[2019-05-23T16:54:34.153Z] Test setup --index-management when ilm was disabled and gets enabled ... ok (1.4426s)
[2019-05-23T16:54:35.542Z] Test setup --index-management when ilm was enabled and gets disabled ... ok (1.4283s)
[2019-05-23T16:54:36.929Z] Test setup --index-management actually creates policies that are used ... ok (1.0767s)
[2019-05-23T16:54:36.929Z] Test setup --index-management when template enabled and ilm disabled ... ok (0.2734s)
[2019-05-23T16:54:37.193Z] Test setup --index-management when template disabled and ilm disabled ... ok (0.0883s)
[2019-05-23T16:54:37.763Z] Test setup --index-management when template disabled and ilm enabled ... ok (0.6505s)
[2019-05-23T16:54:38.706Z] Test setup --index-management when template enabled and ilm enabled ... ok (1.0544s)
[2019-05-23T16:54:39.277Z] Test setup --template when ilm was enabled and gets disabled ... ok (0.4691s)
[2019-05-23T16:54:39.539Z] Test setup --template when template enabled ... ok (0.2570s)
[2019-05-23T16:54:39.539Z] Test setup --template when template disabled and ilm disabled ... ok (0.1128s)
[2019-05-23T16:54:39.801Z] Test setup --template when template disabled and ilm enabled ... ok (0.0882s)
[2019-05-23T16:54:40.062Z] Test setup --template when template enabled and ilm enabled ... ok (0.2880s)
[2019-05-23T16:54:40.634Z] Test setup --index-management when ilm was disabled and gets enabled ... ok (0.4586s)
[2019-05-23T16:54:43.188Z] test_template_loaded (test_setup_index_management.TestRunIndexManagementDefault) ... ok (2.7475s)
[2019-05-23T16:54:47.573Z] test_template_and_ilm_loaded (test_setup_index_management.TestRunIndexManagementWithILM) ... ok (3.5864s)
[2019-05-23T16:54:47.834Z] test_ok (test_requests.ClientSideTest) ... ok (1.0849s)
[2019-05-23T16:54:49.219Z] test_sourcemap_upload (test_requests.ClientSideTest) ... ok (1.0617s)
[2019-05-23T16:54:50.162Z] test_sourcemap_upload_fail (test_requests.ClientSideTest) ... ok (1.0613s)
[2019-05-23T16:54:51.104Z] test_bad_origin (test_requests.CorsTest) ... ok (1.0629s)
[2019-05-23T16:54:52.047Z] test_no_origin (test_requests.CorsTest) ... ok (1.0627s)
[2019-05-23T16:54:53.431Z] test_ok (test_requests.CorsTest) ... ok (1.0650s)
[2019-05-23T16:54:54.372Z] test_preflight (test_requests.CorsTest) ... ok (1.0588s)
[2019-05-23T16:54:55.332Z] test_preflight_bad_headers (test_requests.CorsTest) ... ok (1.0681s)
[2019-05-23T16:54:57.896Z] test_multiple_ips_rate_limit (test_requests.RateLimitTest) ... ok (2.0808s)
[2019-05-23T16:54:59.829Z] test_multiple_ips_rate_limit_hit (test_requests.RateLimitTest) ... ok (2.0724s)
[2019-05-23T16:55:01.795Z] test_rate_limit (test_requests.RateLimitTest) ... ok (2.0768s)
[2019-05-23T16:55:03.753Z] test_rate_limit_hit (test_requests.RateLimitTest) ... ok (2.0780s)
[2019-05-23T16:55:04.716Z] test_rate_limit_only_metadata (test_requests.RateLimitTest) ... ok (1.0764s)
[2019-05-23T16:55:06.131Z] test_rate_limit_small_hit (test_requests.RateLimitTest) ... ok (1.1221s)
[2019-05-23T16:55:07.074Z] test_https_ok (test_requests.SecureTest) ... ok (1.0808s)
[2019-05-23T16:55:08.016Z] test_https_verify (test_requests.SecureTest) ... ok (1.0758s)
[2019-05-23T16:55:09.401Z] test_bad_json (test_requests.Test) ... ok (1.0621s)
[2019-05-23T16:55:10.342Z] test_deflate (test_requests.Test) ... ok (1.0646s)
[2019-05-23T16:55:11.282Z] test_deflate_error (test_requests.Test) ... ok (1.0626s)
[2019-05-23T16:55:12.224Z] test_empty (test_requests.Test) ... ok (1.0718s)
[2019-05-23T16:55:13.606Z] expvar should not be exposed by default ... ok (1.0622s)
[2019-05-23T16:55:14.547Z] test_gzip (test_requests.Test) ... ok (1.0662s)
[2019-05-23T16:55:15.497Z] test_gzip_error (test_requests.Test) ... ok (1.0872s)
[2019-05-23T16:55:16.880Z] test_healthcheck (test_requests.Test) ... ok (1.0918s)
[2019-05-23T16:55:17.821Z] test_method_not_allowed (test_requests.Test) ... ok (1.0752s)
[2019-05-23T16:55:18.764Z] test_not_existent (test_requests.Test) ... ok (1.0672s)
[2019-05-23T16:55:19.730Z] test_ok (test_requests.Test) ... ok (1.0633s)
[2019-05-23T16:55:21.110Z] test_ok_verbose (test_requests.Test) ... ok (1.0655s)
[2019-05-23T16:55:22.052Z] test_rum_default_disabled (test_requests.Test) ... ok (1.0624s)
[2019-05-23T16:55:22.989Z] test_validation_fail (test_requests.Test) ... ok (1.0659s)
[2019-05-23T16:55:22.989Z] Test export default config ... ok (0.0660s)
[2019-05-23T16:55:23.248Z] Test export customized config ... ok (0.0680s)
[2019-05-23T16:55:23.248Z] Test export default ilm policy ... ok (0.0548s)
[2019-05-23T16:55:23.248Z] Test export default ilm policy ... ok (0.0559s)
[2019-05-23T16:55:23.248Z] Test export default event templates without ILM ... ok (0.0910s)
[2019-05-23T16:55:23.508Z] Test export general apm template to file ... ok (0.0943s)
[2019-05-23T16:55:23.508Z] Test export default event templates ... ok (0.0898s)
[2019-05-23T16:55:23.508Z] Test export default ilm policy ... ok (0.0970s)
[2019-05-23T16:55:26.812Z] test_pipeline_not_overwritten (test_pipelines.PipelineDisableOverwriteTest) ... ok (2.9680s)
[2019-05-23T16:55:29.357Z] test_pipeline_not_registered (test_pipelines.PipelineDisableTest) ... ok (2.7543s)
[2019-05-23T16:55:32.659Z] test_default_pipelines_registered (test_pipelines.PipelineRegisterTest) ... ok (2.8899s)
[2019-05-23T16:55:32.659Z] test_setup_pipelines (test_pipelines.SetupPipelinesDefaultTest) ... ok (0.1588s)
[2019-05-23T16:55:32.659Z] test_setup_pipelines (test_pipelines.SetupPipelinesDisabledTest) ... ok (0.0808s)
[2019-05-23T16:55:33.601Z] Test that access works with token ... ok (1.0651s)
[2019-05-23T16:55:33.601Z] 
[2019-05-23T16:55:33.601Z] ----------------------------------------------------------------------
[2019-05-23T16:55:33.601Z] XML: /go/src/github.com/elastic/apm-server/build/TEST-system.xml
[2019-05-23T16:55:33.601Z] [success] 6.77% test_integration.SourcemappingIntegrationTest.test_fetch_latest_of_multiple_sourcemaps: 24.4462s
[2019-05-23T16:55:33.602Z] [success] 5.98% test_integration.SourcemappingCacheIntegrationTest.test_sourcemap_cache_expiration: 21.5809s
[2019-05-23T16:55:33.602Z] [success] 4.99% test_integration.SourcemappingIntegrationTest.test_duplicated_sourcemap_warning: 18.0277s
[2019-05-23T16:55:33.602Z] [success] 4.23% test_integration.SourcemappingIntegrationTest.test_sourcemap_mapping_cache_usage: 15.2837s
[2019-05-23T16:55:33.602Z] [success] 3.96% test_integration.SourcemappingIntegrationTest.test_rum_transaction_different_subdomain: 14.2943s
[2019-05-23T16:55:33.602Z] [success] 3.94% test_integration.SourcemappingIntegrationTest.test_no_matching_sourcemap: 14.2431s
[2019-05-23T16:55:33.602Z] [success] 3.94% test_integration.SourcemappingIntegrationTest.test_backend_error: 14.2302s
[2019-05-23T16:55:33.602Z] [success] 3.94% test_integration.SourcemappingIntegrationTest.test_rum_error: 14.2289s
[2019-05-23T16:55:33.602Z] [success] 3.93% test_integration.SourcemappingIntegrationTest.test_rum_transaction: 14.1874s
[2019-05-23T16:55:33.602Z] [success] 3.92% test_integration.SourcemappingIntegrationTest.test_backend_span: 14.1741s
[2019-05-23T16:55:33.602Z] [success] 3.91% test_integration.SourcemappingIntegrationChangedConfigTest.test_rum_error_changed_index: 14.1259s
[2019-05-23T16:55:33.602Z] [success] 3.67% test_integration.EnrichEventIntegrationTest.test_grouping_key_for_error: 13.2474s
[2019-05-23T16:55:33.602Z] [success] 2.38% test_integration.EnrichEventIntegrationTest.test_backend_error: 8.5798s
[2019-05-23T16:55:33.602Z] [success] 2.34% test_integration.EnrichEventIntegrationTest.test_backend_transaction: 8.4427s
[2019-05-23T16:55:33.602Z] [success] 2.28% test_integration.EnrichEventIntegrationTest.test_enrich_backend_event: 8.2420s
[2019-05-23T16:55:33.602Z] [success] 2.27% test_integration.ExperimentalModeTest.test_experimental_key_indexed: 8.1806s
[2019-05-23T16:55:33.602Z] [success] 2.25% test_integration.EnrichEventIntegrationTest.test_rum_transaction: 8.1197s
[2019-05-23T16:55:33.602Z] [success] 2.24% test_integration.Test.test_load_docs_with_template_and_add_transaction: 8.0988s
[2019-05-23T16:55:33.602Z] [success] 2.24% test_integration.EnrichEventIntegrationTest.test_rum_error: 8.0926s
[2019-05-23T16:55:33.602Z] [success] 2.24% test_integration.MetricsIntegrationTest.test_metric_doc: 8.0860s
[2019-05-23T16:55:33.602Z] [success] 2.23% test_integration.ProductionModeTest.test_experimental_key_indexed: 8.0373s
[2019-05-23T16:55:33.602Z] [success] 2.22% test_integration.Test.test_mark_type: 8.0303s
[2019-05-23T16:55:33.602Z] [success] 1.20% test_integration.OverrideIndicesIntegrationTest.test_override_indices_config: 4.3186s
[2019-05-23T16:55:33.602Z] [success] 0.99% test_setup_index_management.TestRunIndexManagementWithILM.test_template_and_ilm_loaded: 3.5864s
[2019-05-23T16:55:33.602Z] [success] 0.89% test_integration.EnrichEventIntegrationTest.test_enrich_rum_event: 3.2100s
[2019-05-23T16:55:33.603Z] [success] 0.88% test_integration.Test.test_tags_type: 3.1878s
[2019-05-23T16:55:33.603Z] [success] 0.87% test_integration.Test.test_load_docs_with_template_and_add_error: 3.1570s
[2019-05-23T16:55:33.603Z] [success] 0.87% test_integration.SourcemappingIntegrationTest.test_no_sourcemap: 3.1562s
[2019-05-23T16:55:33.603Z] [success] 0.84% test_integration.Test.test_onboarding_doc: 3.0459s
[2019-05-23T16:55:33.603Z] [success] 0.84% test_integration.Test.test_template: 3.0221s
[2019-05-23T16:55:33.603Z] [success] 0.82% test_pipelines.PipelineDisableOverwriteTest.test_pipeline_not_overwritten: 2.9680s
[2019-05-23T16:55:33.603Z] [success] 0.80% test_pipelines.PipelineRegisterTest.test_default_pipelines_registered: 2.8899s
[2019-05-23T16:55:33.603Z] [success] 0.76% test_pipelines.PipelineDisableTest.test_pipeline_not_registered: 2.7543s
[2019-05-23T16:55:33.603Z] [success] 0.76% test_setup_index_management.TestRunIndexManagementDefault.test_template_loaded: 2.7475s
[2019-05-23T16:55:33.603Z] [success] 0.58% test_requests.RateLimitTest.test_multiple_ips_rate_limit: 2.0808s
[2019-05-23T16:55:33.603Z] [success] 0.58% test_requests.RateLimitTest.test_rate_limit_hit: 2.0780s
[2019-05-23T16:55:33.603Z] [success] 0.58% test_requests.RateLimitTest.test_rate_limit: 2.0768s
[2019-05-23T16:55:33.603Z] [success] 0.57% test_requests.RateLimitTest.test_multiple_ips_rate_limit_hit: 2.0724s
[2019-05-23T16:55:33.603Z] [success] 0.40% test_setup_index_management.TestCommandSetupIndexManagement.test_disable: 1.4426s
[2019-05-23T16:55:33.603Z] [success] 0.40% test_setup_index_management.TestCommandSetupIndexManagement.test_enable_ilm: 1.4283s
[2019-05-23T16:55:33.603Z] [success] 0.31% test_requests.RateLimitTest.test_rate_limit_small_hit: 1.1221s
[2019-05-23T16:55:33.603Z] [success] 0.30% test_requests.Test.test_healthcheck: 1.0918s
[2019-05-23T16:55:33.603Z] [success] 0.30% test_integration.ExpvarDisabledIntegrationTest.test_expvar_exists: 1.0901s
[2019-05-23T16:55:33.603Z] [success] 0.30% test_requests.Test.test_gzip_error: 1.0872s
[2019-05-23T16:55:33.603Z] [success] 0.30% test_requests.ClientSideTest.test_ok: 1.0849s
[2019-05-23T16:55:33.603Z] [success] 0.30% test_requests.SecureTest.test_https_ok: 1.0808s
[2019-05-23T16:55:33.603Z] [success] 0.30% test_setup_index_management.TestCommandSetupIndexManagement.test_ensure_policy_is_used: 1.0767s
[2019-05-23T16:55:33.603Z] [success] 0.30% test_requests.RateLimitTest.test_rate_limit_only_metadata: 1.0764s
[2019-05-23T16:55:33.603Z] [success] 0.30% test_requests.SecureTest.test_https_verify: 1.0758s
[2019-05-23T16:55:33.603Z] [success] 0.30% test_requests.Test.test_method_not_allowed: 1.0752s
[2019-05-23T16:55:33.603Z] [success] 0.30% test_requests.Test.test_empty: 1.0718s
[2019-05-23T16:55:33.604Z] [success] 0.30% test_requests.CorsTest.test_preflight_bad_headers: 1.0681s
[2019-05-23T16:55:33.604Z] [success] 0.30% test_requests.Test.test_not_existent: 1.0672s
[2019-05-23T16:55:33.604Z] [success] 0.30% test_integration.ExpvarEnabledIntegrationTest.test_expvar_exists: 1.0664s
[2019-05-23T16:55:33.604Z] [success] 0.30% test_requests.Test.test_gzip: 1.0662s
[2019-05-23T16:55:33.604Z] [success] 0.30% test_requests.Test.test_validation_fail: 1.0659s
[2019-05-23T16:55:33.604Z] [success] 0.30% test_requests.Test.test_ok_verbose: 1.0655s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_access.Test.test_with_token: 1.0651s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.CorsTest.test_ok: 1.0650s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.Test.test_deflate: 1.0646s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.Test.test_ok: 1.0633s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.CorsTest.test_bad_origin: 1.0629s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_integration.ExpvarCustomUrlIntegrationTest.test_expvar_exists: 1.0629s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.CorsTest.test_no_origin: 1.0627s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.Test.test_deflate_error: 1.0626s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.Test.test_rum_default_disabled: 1.0624s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.Test.test_expvar_default: 1.0622s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.Test.test_bad_json: 1.0621s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.ClientSideTest.test_sourcemap_upload: 1.0617s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.ClientSideTest.test_sourcemap_upload_fail: 1.0613s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_requests.CorsTest.test_preflight: 1.0588s
[2019-05-23T16:55:33.604Z] [success] 0.29% test_setup_index_management.TestCommandSetupIndexManagement.test_setup_template_enabled_ilm_enabled: 1.0544s
[2019-05-23T16:55:33.604Z] [success] 0.18% test_setup_index_management.TestCommandSetupIndexManagement.test_setup_template_disabled_ilm_enabled: 0.6505s
[2019-05-23T16:55:33.604Z] [success] 0.13% test_setup_index_management.TestCommandSetupTemplate.test_enable_ilm: 0.4691s
[2019-05-23T16:55:33.604Z] [success] 0.13% test_setup_index_management.TestCommandSetupTemplate.test_setup_template_with_opts: 0.4586s
[2019-05-23T16:55:33.604Z] [success] 0.08% test_setup_index_management.TestCommandSetupTemplate.test_setup_template_enabled_ilm_enabled: 0.2880s
[2019-05-23T16:55:33.604Z] [success] 0.08% test_setup_index_management.TestCommandSetupIndexManagement.test_setup_default_template_enabled_ilm_disabled: 0.2734s
[2019-05-23T16:55:33.604Z] [success] 0.07% test_setup_index_management.TestCommandSetupTemplate.test_setup_default_template_enabled: 0.2570s
[2019-05-23T16:55:33.605Z] [success] 0.04% test_pipelines.SetupPipelinesDefaultTest.test_setup_pipelines: 0.1588s
[2019-05-23T16:55:33.605Z] [success] 0.04% test_integration.OverrideIndicesFailureIntegrationTest.test_template_setup_error: 0.1401s
[2019-05-23T16:55:33.605Z] [success] 0.03% test_setup_index_management.TestCommandSetupTemplate.test_setup_template_disabled_ilm_disabled: 0.1128s
[2019-05-23T16:55:33.605Z] [success] 0.03% test_export.TestExportTemplateWithILM.test_export_template_to_file: 0.0970s
[2019-05-23T16:55:33.605Z] [success] 0.03% test_export.TestExportTemplate.test_export_template_to_file: 0.0943s
[2019-05-23T16:55:33.605Z] [success] 0.03% test_export.TestExportTemplate.test_export_event_templates_to_file: 0.0910s
[2019-05-23T16:55:33.605Z] [success] 0.02% test_export.TestExportTemplateWithILM.test_export_event_templates_to_file: 0.0898s
[2019-05-23T16:55:33.605Z] [success] 0.02% test_setup_index_management.TestCommandSetupIndexManagement.test_setup_template_disabled_ilm_disabled: 0.0883s
[2019-05-23T16:55:33.605Z] [success] 0.02% test_setup_index_management.TestCommandSetupTemplate.test_setup_template_disabled_ilm_enabled: 0.0882s
[2019-05-23T16:55:33.605Z] [success] 0.02% test_pipelines.SetupPipelinesDisabledTest.test_setup_pipelines: 0.0808s
[2019-05-23T16:55:33.605Z] [success] 0.02% test_export.ExportConfigTest.test_export_config: 0.0680s
[2019-05-23T16:55:33.605Z] [success] 0.02% test_export.ExportConfigDefaultTest.test_export_config: 0.0660s
[2019-05-23T16:55:33.605Z] [success] 0.02% test_export.TestExportILMPolicyDisabledTest.test_export_ilm_policy_to_files: 0.0559s
[2019-05-23T16:55:33.605Z] [success] 0.02% test_export.TestExportILMPolicy.test_export_ilm_policy_to_files: 0.0548s
[2019-05-23T16:55:33.605Z] ----------------------------------------------------------------------
[2019-05-23T16:55:33.605Z] Ran 92 tests in 361.211s
[2019-05-23T16:55:33.605Z] 
[2019-05-23T16:55:33.605Z] OK
[2019-05-23T16:55:33.605Z] python ./_beats/dev-tools/aggregate_coverage.py -o /go/src/github.com/elastic/apm-server/build/coverage/system.cov /go/src/github.com/elastic/apm-server/build/system-tests/run
[2019-05-23T16:55:34.175Z] make[1]: Leaving directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:55:34.175Z] if [ true = true ]; then \
[2019-05-23T16:55:34.175Z] 	make fix-permissions; \
[2019-05-23T16:55:34.175Z] fi
[2019-05-23T16:55:34.175Z] make[1]: Entering directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:55:34.435Z] # Change ownership of all files inside /build folder from root/root to current user/group
[2019-05-23T16:55:34.435Z] docker run -v /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server:/beat alpine:3.4 sh -c "find /beat -user 0 -exec chown -h 1134:1135 {} \;"
[2019-05-23T16:55:34.435Z] Unable to find image 'alpine:3.4' locally
[2019-05-23T16:55:35.006Z] 3.4: Pulling from library/alpine
[2019-05-23T16:55:35.006Z] c1e54eec4b57: Pulling fs layer
[2019-05-23T16:55:35.578Z] c1e54eec4b57: Download complete
[2019-05-23T16:55:35.578Z] c1e54eec4b57: Pull complete
[2019-05-23T16:55:35.578Z] Digest: sha256:b733d4a32c4da6a00a84df2ca32791bb03df95400243648d8c539e7b4cce329c
[2019-05-23T16:55:35.578Z] Status: Downloaded newer image for alpine:3.4
[2019-05-23T16:55:38.882Z] make[1]: Leaving directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:55:38.882Z] make benchmark-tests
[2019-05-23T16:55:38.882Z] make[1]: Entering directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:55:38.882Z] warning: ignoring symlink /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/python-env/lib/python2.7/encodings
[2019-05-23T16:55:38.882Z] warning: ignoring symlink /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/python-env/lib/python2.7/lib-dynload
[2019-05-23T16:55:39.838Z] # No benchmark tests exist so far
[2019-05-23T16:55:39.838Z] #go test -bench=. github.com/elastic/apm-server github.com/elastic/apm-server/beater github.com/elastic/apm-server/cmd github.com/elastic/apm-server/decoder github.com/elastic/apm-server/idxmgmt github.com/elastic/apm-server/idxmgmt/ilm github.com/elastic/apm-server/include github.com/elastic/apm-server/ingest/pipeline github.com/elastic/apm-server/model github.com/elastic/apm-server/model/error github.com/elastic/apm-server/model/error/generated/schema github.com/elastic/apm-server/model/metadata github.com/elastic/apm-server/model/metadata/generated/schema github.com/elastic/apm-server/model/metricset github.com/elastic/apm-server/model/metricset/generated/schema github.com/elastic/apm-server/model/sourcemap github.com/elastic/apm-server/model/sourcemap/generated/schema github.com/elastic/apm-server/model/span github.com/elastic/apm-server/model/span/generated/schema github.com/elastic/apm-server/model/transaction github.com/elastic/apm-server/model/transaction/generated/schema github.com/elastic/apm-server/pipelistener github.com/elastic/apm-server/processor/asset github.com/elastic/apm-server/processor/asset/sourcemap github.com/elastic/apm-server/processor/asset/sourcemap/package_tests github.com/elastic/apm-server/processor/stream github.com/elastic/apm-server/processor/stream/package_tests github.com/elastic/apm-server/publish github.com/elastic/apm-server/script/inline_schemas github.com/elastic/apm-server/sourcemap github.com/elastic/apm-server/tests github.com/elastic/apm-server/tests/loader github.com/elastic/apm-server/tests/scripts github.com/elastic/apm-server/transform github.com/elastic/apm-server/utility github.com/elastic/apm-server/validation github.com/elastic/apm-server/x-pack/apm-server github.com/elastic/apm-server/x-pack/apm-server/cmd
[2019-05-23T16:55:39.838Z] make[1]: Leaving directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:55:39.838Z] make coverage-report
[2019-05-23T16:55:39.838Z] make[1]: Entering directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:55:39.838Z] python ./_beats/dev-tools/aggregate_coverage.py -o /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/full.cov /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage
[2019-05-23T16:55:39.838Z] go tool cover -html=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/full.cov -o /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/full.html
[2019-05-23T16:55:40.781Z] test ! -s /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/integration.cov   || go tool cover -html=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/integration.cov   -o /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/integration.html
[2019-05-23T16:55:41.042Z] test ! -s /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/system.cov || go tool cover -html=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/system.cov -o /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/system.html
[2019-05-23T16:55:41.989Z] test ! -s /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/unit.cov   || go tool cover -html=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/unit.cov   -o /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage/unit.html
[2019-05-23T16:55:42.562Z] make[1]: Leaving directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:55:42.562Z] if [ true = true ]; then \
[2019-05-23T16:55:42.562Z] 	make stop-environment; \
[2019-05-23T16:55:42.562Z]     fi
[2019-05-23T16:55:42.562Z] make[1]: Entering directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:55:42.823Z] TESTING_ENVIRONMENT=snapshot ES_BEATS=./_beats docker-compose -p apm-server8a2fd55f40dbcb279911e3f2237312baf1508019  -f docker-compose.yml down -v
[2019-05-23T16:55:43.396Z] Stopping apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_elasticsearch_1 ... 
[2019-05-23T16:55:44.338Z] Stopping apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_elasticsearch_1 ... doneRemoving apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_beat_run_55fc8bbcf47e ... 
[2019-05-23T16:55:44.339Z] Removing apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_beat_run_a32c8d3053d1 ... 
[2019-05-23T16:55:44.339Z] Removing apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_proxy_dep_1           ... 
[2019-05-23T16:55:44.339Z] Removing apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_elasticsearch_1       ... 
[2019-05-23T16:55:44.599Z] Removing apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_beat_run_55fc8bbcf47e ... doneRemoving apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_elasticsearch_1       ... doneRemoving apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_beat_run_a32c8d3053d1 ... doneRemoving apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_proxy_dep_1           ... doneRemoving network apm-server8a2fd55f40dbcb279911e3f2237312baf1508019_default
[2019-05-23T16:55:44.860Z] make[1]: Leaving directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:55:44.860Z] + go get -v -u github.com/t-yuki/gocover-cobertura
[2019-05-23T16:55:44.860Z] github.com/t-yuki/gocover-cobertura (download)
[2019-05-23T16:55:45.431Z] github.com/t-yuki/gocover-cobertura
[2019-05-23T16:55:46.000Z] + export COV_DIR=build/coverage
[2019-05-23T16:55:46.000Z] + COV_DIR=build/coverage
[2019-05-23T16:55:46.000Z] + for i in '"full.cov"' '"integration.cov"' '"system.cov"' '"unit.cov"'
[2019-05-23T16:55:46.000Z] ++ basename full.cov .cov
[2019-05-23T16:55:46.000Z] + name=full
[2019-05-23T16:55:46.000Z] + '[' -f build/coverage/full.cov ']'
[2019-05-23T16:55:46.000Z] + go tool cover -html=build/coverage/full.cov -o build/coverage/coverage-full-report.html
[2019-05-23T16:55:46.571Z] + gocover-cobertura
[2019-05-23T16:55:46.571Z] + for i in '"full.cov"' '"integration.cov"' '"system.cov"' '"unit.cov"'
[2019-05-23T16:55:46.571Z] ++ basename integration.cov .cov
[2019-05-23T16:55:46.571Z] + name=integration
[2019-05-23T16:55:46.571Z] + '[' -f build/coverage/integration.cov ']'
[2019-05-23T16:55:46.571Z] + go tool cover -html=build/coverage/integration.cov -o build/coverage/coverage-integration-report.html
[2019-05-23T16:55:47.141Z] + gocover-cobertura
[2019-05-23T16:55:47.141Z] + for i in '"full.cov"' '"integration.cov"' '"system.cov"' '"unit.cov"'
[2019-05-23T16:55:47.141Z] ++ basename system.cov .cov
[2019-05-23T16:55:47.141Z] + name=system
[2019-05-23T16:55:47.141Z] + '[' -f build/coverage/system.cov ']'
[2019-05-23T16:55:47.141Z] + go tool cover -html=build/coverage/system.cov -o build/coverage/coverage-system-report.html
[2019-05-23T16:55:47.714Z] + gocover-cobertura
[2019-05-23T16:55:47.714Z] + for i in '"full.cov"' '"integration.cov"' '"system.cov"' '"unit.cov"'
[2019-05-23T16:55:47.714Z] ++ basename unit.cov .cov
[2019-05-23T16:55:47.714Z] + name=unit
[2019-05-23T16:55:47.714Z] + '[' -f build/coverage/unit.cov ']'
[2019-05-23T16:55:47.714Z] + go tool cover -html=build/coverage/unit.cov -o build/coverage/coverage-unit-report.html
[2019-05-23T16:55:48.294Z] + gocover-cobertura
[2019-05-23T16:55:48.294Z] + exit 0
[2019-05-23T16:55:48.331Z] [Pipeline] }
[2019-05-23T16:55:48.345Z] [Pipeline] // dir
[2019-05-23T16:55:48.360Z] Post stage
[2019-05-23T16:55:48.391Z] [Pipeline] publishHTML
[2019-05-23T16:55:48.393Z] [htmlpublisher] Archiving HTML reports...
[2019-05-23T16:55:48.395Z] [htmlpublisher] Archiving at BUILD level /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/build/coverage to /var/lib/jenkins/jobs/apm-server/jobs/apm-server-mbp/branches/master/builds/198/htmlreports/Coverage-Sourcecode-Files
[2019-05-23T16:55:48.850Z] [Pipeline] step
[2019-05-23T16:55:48.855Z] [Cobertura] Publishing Cobertura coverage report...
[2019-05-23T16:55:48.855Z] 
[2019-05-23T16:55:49.319Z] [Cobertura] Publishing Cobertura coverage results...
[2019-05-23T16:55:49.319Z] 
[2019-05-23T16:55:49.364Z] [Cobertura] Cobertura coverage report found.
[2019-05-23T16:55:49.364Z] 
[2019-05-23T16:55:51.449Z] [Pipeline] junit
[2019-05-23T16:55:51.457Z] Recording test results
[2019-05-23T16:55:51.861Z] [Pipeline] isUnix
[2019-05-23T16:55:51.867Z] [Pipeline] sh
[2019-05-23T16:55:52.175Z] + cd src/github.com/elastic/apm-server/build
[2019-05-23T16:55:52.175Z] + tar -czf /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/system-tests-linux-files.tgz system-tests
[2019-05-23T16:55:52.445Z] [Pipeline] archiveArtifacts
[2019-05-23T16:55:52.448Z] Archiving artifacts
[2019-05-23T16:55:52.781Z] [Pipeline] isUnix
[2019-05-23T16:55:52.787Z] [Pipeline] sh
[2019-05-23T16:55:53.093Z] + cd src/github.com/elastic/apm-server/build
[2019-05-23T16:55:53.093Z] + tar -czf /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/coverage-files.tgz coverage
[2019-05-23T16:55:53.104Z] [Pipeline] archiveArtifacts
[2019-05-23T16:55:53.107Z] Archiving artifacts
[2019-05-23T16:55:53.243Z] [Pipeline] echo
[2019-05-23T16:55:53.244Z] [INFO] getVaultSecret: Getting secrets
[2019-05-23T16:55:53.251Z] [Pipeline] withCredentials
[2019-05-23T16:55:53.310Z] Masking only exact matches of $VAULT_ADDR or $VAULT_ROLE_ID or $VAULT_SECRET_ID
[2019-05-23T16:55:53.310Z] [Pipeline] {
[2019-05-23T16:55:53.540Z] [Pipeline] wrap
[2019-05-23T16:55:53.560Z] [Pipeline] {
[2019-05-23T16:55:53.590Z] [Pipeline] }
[2019-05-23T16:55:53.604Z] [Pipeline] // wrap
[2019-05-23T16:55:53.628Z] [Pipeline] }
[2019-05-23T16:55:53.656Z] [Pipeline] // withCredentials
[2019-05-23T16:55:53.680Z] [Pipeline] dir
[2019-05-23T16:55:53.685Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server
[2019-05-23T16:55:53.685Z] [Pipeline] {
[2019-05-23T16:55:53.711Z] [Pipeline] echo
[2019-05-23T16:55:53.711Z] [INFO] Codecov: Getting branch ref...
[2019-05-23T16:55:53.805Z] [Pipeline] echo
[2019-05-23T16:55:53.806Z] [INFO] Codecov: Sending data...
[2019-05-23T16:55:53.809Z] [Pipeline] wrap
[2019-05-23T16:55:53.825Z] [Pipeline] {
[2019-05-23T16:55:53.843Z] [Pipeline] withEnv
[2019-05-23T16:55:53.844Z] [Pipeline] {
[2019-05-23T16:55:53.862Z] [Pipeline] sh
[2019-05-23T16:55:54.233Z] + curl -s -o codecov.sh https://codecov.io/bash
[2019-05-23T16:55:54.492Z] + bash codecov.sh
[2019-05-23T16:55:54.492Z] 
[2019-05-23T16:55:54.492Z]   _____          _
[2019-05-23T16:55:54.492Z]  / ____|        | |
[2019-05-23T16:55:54.492Z] | |     ___   __| | ___  ___ _____   __
[2019-05-23T16:55:54.492Z] | |    / _ \ / _` |/ _ \/ __/ _ \ \ / /
[2019-05-23T16:55:54.492Z] | |___| (_) | (_| |  __/ (_| (_) \ V /
[2019-05-23T16:55:54.492Z]  \_____\___/ \__,_|\___|\___\___/ \_/
[2019-05-23T16:55:54.492Z]                               Bash-8a28df4
[2019-05-23T16:55:54.492Z] 
[2019-05-23T16:55:54.492Z] 
[2019-05-23T16:55:54.492Z] ==> Jenkins CI detected.
[2019-05-23T16:55:54.492Z]     project root: .
[2019-05-23T16:55:54.492Z] --> token set from env
[2019-05-23T16:55:54.492Z]     Yaml found at: vendor/github.com/elastic/gosigar/codecov.yml
[2019-05-23T16:55:54.492Z] ==> Running gcov in . (disable via -X gcov)
[2019-05-23T16:55:54.493Z] ==> Python coveragepy not found
[2019-05-23T16:55:54.493Z] ==> Searching for coverage reports in:
[2019-05-23T16:55:54.493Z]     + .
[2019-05-23T16:55:54.753Z]     -> Found 4 reports
[2019-05-23T16:55:54.753Z] ==> Detecting git/mercurial file structure
[2019-05-23T16:55:54.754Z] ==> Reading reports
[2019-05-23T16:55:54.754Z]     + ./build/coverage/coverage-unit-report.xml bytes=472156
[2019-05-23T16:55:54.754Z]     + ./build/coverage/coverage-system-report.xml bytes=549
[2019-05-23T16:55:54.754Z]     + ./build/coverage/coverage-full-report.xml bytes=472156
[2019-05-23T16:55:54.754Z]     + ./build/coverage/coverage-integration-report.xml bytes=472156
[2019-05-23T16:55:54.754Z] ==> Appending adjustments
[2019-05-23T16:55:54.754Z]     http://docs.codecov.io/docs/fixing-reports
[2019-05-23T16:55:55.323Z]     + Found adjustments
[2019-05-23T16:55:55.323Z] ==> Gzipping contents
[2019-05-23T16:55:55.323Z] ==> Uploading reports
[2019-05-23T16:55:55.323Z]     url: https://codecov.io
[2019-05-23T16:55:55.323Z]     query: branch=master&commit=8a2fd55f40dbcb279911e3f2237312baf1508019&build=198&build_url=https%3A%2F%2Fapm-ci.elastic.co%2Fjob%2Fapm-server%2Fjob%2Fapm-server-mbp%2Fjob%2Fmaster%2F198%2F&name=&tag=&slug=elastic%2Fapm-server&service=jenkins&flags=&pr=null&job=
[2019-05-23T16:55:55.324Z]     -> Pinging Codecov
[2019-05-23T16:55:55.324Z] https://codecov.io/upload/v4?package=bash-8a28df4&token=********&branch=master&commit=8a2fd55f40dbcb279911e3f2237312baf1508019&build=198&build_url=https%3A%2F%2Fapm-ci.elastic.co%2Fjob%2Fapm-server%2Fjob%2Fapm-server-mbp%2Fjob%2Fmaster%2F198%2F&name=&tag=&slug=elastic%2Fapm-server&service=jenkins&flags=&pr=null&job=
[2019-05-23T16:55:55.895Z]     -> Uploading
[2019-05-23T16:55:56.833Z]     -> View reports at https://codecov.io/github/elastic/apm-server/commit/8a2fd55f40dbcb279911e3f2237312baf1508019
[2019-05-23T16:55:56.839Z] [Pipeline] }
[2019-05-23T16:55:56.854Z] [Pipeline] // withEnv
[2019-05-23T16:55:56.868Z] [Pipeline] }
[2019-05-23T16:55:56.882Z] [Pipeline] // wrap
[2019-05-23T16:55:56.892Z] [Pipeline] }
[2019-05-23T16:55:56.902Z] [Pipeline] // dir
[2019-05-23T16:55:56.917Z] [Pipeline] }
[2019-05-23T16:55:56.927Z] [Pipeline] // withEnv
[2019-05-23T16:55:56.937Z] [Pipeline] }
[2019-05-23T16:55:56.948Z] [Pipeline] // node
[2019-05-23T16:55:56.960Z] [Pipeline] }
[2019-05-23T16:55:56.970Z] [Pipeline] // stage
[2019-05-23T16:55:56.981Z] [Pipeline] }
[2019-05-23T16:55:56.997Z] [Pipeline] // parallel
[2019-05-23T16:55:57.008Z] [Pipeline] }
[2019-05-23T16:55:57.019Z] [Pipeline] // stage
[2019-05-23T16:55:57.042Z] [Pipeline] stage
[2019-05-23T16:55:57.045Z] [Pipeline] { (Documentation)
[2019-05-23T16:55:57.103Z] [Pipeline] node
[2019-05-23T16:56:12.103Z] Still waiting to schedule task
[2019-05-23T16:56:12.104Z] Waiting for next available executor on ‘linux&&immutable’
[2019-05-23T16:56:37.257Z] Running on apm-ci-immutable-ubuntu-1604-1558630567071015680 in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:56:37.258Z] [Pipeline] {
[2019-05-23T16:56:37.292Z] [Pipeline] withEnv
[2019-05-23T16:56:37.293Z] [Pipeline] {
[2019-05-23T16:56:37.309Z] [Pipeline] deleteDir
[2019-05-23T16:56:37.802Z] [Pipeline] unstash
[2019-05-23T16:56:42.603Z] [Pipeline] dir
[2019-05-23T16:56:42.603Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server
[2019-05-23T16:56:42.604Z] [Pipeline] {
[2019-05-23T16:56:42.650Z] [Pipeline] libraryResource
[2019-05-23T16:56:42.655Z] [Pipeline] writeFile
[2019-05-23T16:56:42.673Z] [Pipeline] sh
[2019-05-23T16:56:44.049Z] + chmod ugo+rx build_docs.sh
[2019-05-23T16:56:44.123Z] [Pipeline] dir
[2019-05-23T16:56:44.123Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/elastic/docs
[2019-05-23T16:56:44.123Z] [Pipeline] {
[2019-05-23T16:56:44.137Z] [Pipeline] sh
[2019-05-23T16:56:44.456Z] + git init
[2019-05-23T16:56:44.456Z] Initialized empty Git repository in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/elastic/docs/.git/
[2019-05-23T16:56:44.456Z] + git remote add origin https://github.com/elastic/docs.git
[2019-05-23T16:56:44.456Z] + git config core.sparsecheckout true
[2019-05-23T16:56:44.456Z] + echo lib
[2019-05-23T16:56:44.456Z] + echo build_docs.pl
[2019-05-23T16:56:44.456Z] + echo .run
[2019-05-23T16:56:44.456Z] + echo conf.yaml
[2019-05-23T16:56:44.456Z] + echo resources
[2019-05-23T16:56:44.456Z] + echo shared
[2019-05-23T16:56:44.456Z] + git fetch --no-tags --progress --depth=1 origin +refs/heads/master:refs/remotes/origin/master
[2019-05-23T16:56:52.595Z] remote: Enumerating objects: 2350, done.        
[2019-05-23T16:56:55.137Z] remote: Counting objects:   0% (1/2350)           remote: Counting objects:   0% (20/2350)           remote: Counting objects:   1% (24/2350)           remote: Counting objects:   2% (47/2350)           remote: Counting objects:   3% (71/2350)           remote: Counting objects:   4% (94/2350)           remote: Counting objects:   5% (118/2350)           remote: Counting objects:   6% (141/2350)           remote: Counting objects:   7% (165/2350)           remote: Counting objects:   8% (188/2350)           remote: Counting objects:   9% (212/2350)           remote: Counting objects:  10% (235/2350)           remote: Counting objects:  11% (259/2350)           remote: Counting objects:  12% (282/2350)           remote: Counting objects:  13% (306/2350)           remote: Counting objects:  14% (329/2350)           remote: Counting objects:  15% (353/2350)           remote: Counting objects:  16% (376/2350)           remote: Counting objects:  17% (400/2350)           remote: Counting objects:  18% (423/2350)           remote: Counting objects:  19% (447/2350)           remote: Counting objects:  20% (470/2350)           remote: Counting objects:  21% (494/2350)           remote: Counting objects:  22% (517/2350)           remote: Counting objects:  23% (541/2350)           remote: Counting objects:  24% (564/2350)           remote: Counting objects:  25% (588/2350)           remote: Counting objects:  26% (611/2350)           remote: Counting objects:  27% (635/2350)           remote: Counting objects:  28% (658/2350)           remote: Counting objects:  29% (682/2350)           remote: Counting objects:  30% (705/2350)           remote: Counting objects:  31% (729/2350)           remote: Counting objects:  32% (752/2350)           remote: Counting objects:  33% (776/2350)           remote: Counting objects:  34% (799/2350)           remote: Counting objects:  35% (823/2350)           remote: Counting objects:  36% (846/2350)           remote: Counting objects:  37% (870/2350)           remote: Counting objects:  38% (893/2350)           remote: Counting objects:  39% (917/2350)           remote: Counting objects:  40% (940/2350)           remote: Counting objects:  41% (964/2350)           remote: Counting objects:  42% (987/2350)           remote: Counting objects:  43% (1011/2350)           remote: Counting objects:  44% (1034/2350)           remote: Counting objects:  45% (1058/2350)           remote: Counting objects:  46% (1081/2350)           remote: Counting objects:  47% (1105/2350)           remote: Counting objects:  48% (1128/2350)           remote: Counting objects:  49% (1152/2350)           remote: Counting objects:  50% (1175/2350)           remote: Counting objects:  51% (1199/2350)           remote: Counting objects:  52% (1222/2350)           remote: Counting objects:  53% (1246/2350)           remote: Counting objects:  54% (1269/2350)           remote: Counting objects:  55% (1293/2350)           remote: Counting objects:  56% (1316/2350)           remote: Counting objects:  57% (1340/2350)           remote: Counting objects:  58% (1363/2350)           remote: Counting objects:  59% (1387/2350)           remote: Counting objects:  60% (1410/2350)           remote: Counting objects:  61% (1434/2350)           remote: Counting objects:  62% (1457/2350)           remote: Counting objects:  63% (1481/2350)           remote: Counting objects:  64% (1504/2350)           remote: Counting objects:  65% (1528/2350)           remote: Counting objects:  66% (1551/2350)           remote: Counting objects:  67% (1575/2350)           remote: Counting objects:  68% (1598/2350)           remote: Counting objects:  69% (1622/2350)           remote: Counting objects:  70% (1645/2350)           remote: Counting objects:  71% (1669/2350)           remote: Counting objects:  72% (1692/2350)           remote: Counting objects:  73% (1716/2350)           remote: Counting objects:  74% (1739/2350)           remote: Counting objects:  75% (1763/2350)           remote: Counting objects:  76% (1786/2350)           remote: Counting objects:  77% (1810/2350)           remote: Counting objects:  78% (1833/2350)           remote: Counting objects:  79% (1857/2350)           remote: Counting objects:  80% (1880/2350)           remote: Counting objects:  81% (1904/2350)           remote: Counting objects:  82% (1927/2350)           remote: Counting objects:  83% (1951/2350)           remote: Counting objects:  84% (1974/2350)           remote: Counting objects:  85% (1998/2350)           remote: Counting objects:  86% (2021/2350)           remote: Counting objects:  87% (2045/2350)           remote: Counting objects:  88% (2068/2350)           remote: Counting objects:  89% (2092/2350)           remote: Counting objects:  90% (2115/2350)           remote: Counting objects:  91% (2139/2350)           remote: Counting objects:  92% (2162/2350)           remote: Counting objects:  93% (2186/2350)           remote: Counting objects:  94% (2209/2350)           remote: Counting objects:  95% (2233/2350)           remote: Counting objects:  96% (2256/2350)           remote: Counting objects:  97% (2280/2350)           remote: Counting objects:  98% (2303/2350)           remote: Counting objects:  99% (2327/2350)           remote: Counting objects: 100% (2350/2350)           remote: Counting objects: 100% (2350/2350), done.        
[2019-05-23T16:56:55.138Z] remote: Compressing objects:   0% (1/1210)           remote: Compressing objects:   1% (13/1210)           remote: Compressing objects:   2% (25/1210)           remote: Compressing objects:   3% (37/1210)           remote: Compressing objects:   4% (49/1210)           remote: Compressing objects:   5% (61/1210)           remote: Compressing objects:   6% (73/1210)           remote: Compressing objects:   7% (85/1210)           remote: Compressing objects:   8% (97/1210)           remote: Compressing objects:   9% (109/1210)           remote: Compressing objects:  10% (121/1210)           remote: Compressing objects:  11% (134/1210)           remote: Compressing objects:  12% (146/1210)           remote: Compressing objects:  13% (158/1210)           remote: Compressing objects:  14% (170/1210)           remote: Compressing objects:  15% (182/1210)           remote: Compressing objects:  16% (194/1210)           remote: Compressing objects:  17% (206/1210)           remote: Compressing objects:  18% (218/1210)           remote: Compressing objects:  19% (230/1210)           remote: Compressing objects:  20% (242/1210)           remote: Compressing objects:  21% (255/1210)           remote: Compressing objects:  22% (267/1210)           remote: Compressing objects:  23% (279/1210)           remote: Compressing objects:  24% (291/1210)           remote: Compressing objects:  25% (303/1210)           remote: Compressing objects:  26% (315/1210)           remote: Compressing objects:  27% (327/1210)           remote: Compressing objects:  28% (339/1210)           remote: Compressing objects:  29% (351/1210)           remote: Compressing objects:  30% (363/1210)           remote: Compressing objects:  31% (376/1210)           remote: Compressing objects:  32% (388/1210)           remote: Compressing objects:  33% (400/1210)           remote: Compressing objects:  34% (412/1210)           remote: Compressing objects:  35% (424/1210)           remote: Compressing objects:  36% (436/1210)           remote: Compressing objects:  37% (448/1210)           remote: Compressing objects:  38% (460/1210)           remote: Compressing objects:  39% (472/1210)           remote: Compressing objects:  40% (484/1210)           remote: Compressing objects:  41% (497/1210)           remote: Compressing objects:  42% (509/1210)           remote: Compressing objects:  43% (521/1210)           remote: Compressing objects:  44% (533/1210)           remote: Compressing objects:  45% (545/1210)           remote: Compressing objects:  46% (557/1210)           remote: Compressing objects:  47% (569/1210)           remote: Compressing objects:  48% (581/1210)           remote: Compressing objects:  49% (593/1210)           remote: Compressing objects:  50% (605/1210)           remote: Compressing objects:  51% (618/1210)           remote: Compressing objects:  52% (630/1210)           remote: Compressing objects:  53% (642/1210)           remote: Compressing objects:  54% (654/1210)           remote: Compressing objects:  55% (666/1210)           remote: Compressing objects:  56% (678/1210)           remote: Compressing objects:  57% (690/1210)           remote: Compressing objects:  58% (702/1210)           remote: Compressing objects:  59% (714/1210)           remote: Compressing objects:  60% (726/1210)           remote: Compressing objects:  61% (739/1210)           remote: Compressing objects:  62% (751/1210)           remote: Compressing objects:  63% (763/1210)           remote: Compressing objects:  64% (775/1210)           remote: Compressing objects:  65% (787/1210)           remote: Compressing objects:  66% (799/1210)           remote: Compressing objects:  67% (811/1210)           remote: Compressing objects:  68% (823/1210)           remote: Compressing objects:  69% (835/1210)           remote: Compressing objects:  70% (847/1210)           remote: Compressing objects:  71% (860/1210)           remote: Compressing objects:  72% (872/1210)           remote: Compressing objects:  73% (884/1210)           remote: Compressing objects:  74% (896/1210)           remote: Compressing objects:  75% (908/1210)           remote: Compressing objects:  76% (920/1210)           remote: Compressing objects:  77% (932/1210)           remote: Compressing objects:  78% (944/1210)           remote: Compressing objects:  79% (956/1210)           remote: Compressing objects:  80% (968/1210)           remote: Compressing objects:  81% (981/1210)           remote: Compressing objects:  82% (993/1210)           remote: Compressing objects:  83% (1005/1210)           remote: Compressing objects:  84% (1017/1210)           remote: Compressing objects:  85% (1029/1210)           remote: Compressing objects:  86% (1041/1210)           remote: Compressing objects:  87% (1053/1210)           remote: Compressing objects:  88% (1065/1210)           remote: Compressing objects:  89% (1077/1210)           remote: Compressing objects:  90% (1089/1210)           remote: Compressing objects:  91% (1102/1210)           remote: Compressing objects:  92% (1114/1210)           remote: Compressing objects:  93% (1126/1210)           remote: Compressing objects:  94% (1138/1210)           remote: Compressing objects:  95% (1150/1210)           remote: Compressing objects:  96% (1162/1210)           remote: Compressing objects:  97% (1174/1210)           remote: Compressing objects:  98% (1186/1210)           remote: Compressing objects:  99% (1198/1210)           remote: Compressing objects: 100% (1210/1210)           remote: Compressing objects: 100% (1210/1210), done.        
[2019-05-23T16:56:55.138Z] Receiving objects:   0% (1/2350)   Receiving objects:   1% (24/2350)   Receiving objects:   2% (47/2350)   Receiving objects:   3% (71/2350)   Receiving objects:   4% (94/2350)   Receiving objects:   5% (118/2350)   Receiving objects:   6% (141/2350)   Receiving objects:   7% (165/2350)   Receiving objects:   8% (188/2350)   Receiving objects:   9% (212/2350)   Receiving objects:  10% (235/2350)   Receiving objects:  11% (259/2350)   Receiving objects:  12% (282/2350)   Receiving objects:  13% (306/2350)   Receiving objects:  14% (329/2350)   Receiving objects:  15% (353/2350)   Receiving objects:  16% (376/2350)   Receiving objects:  17% (400/2350)   Receiving objects:  18% (423/2350)   Receiving objects:  19% (447/2350)   Receiving objects:  20% (470/2350)   Receiving objects:  21% (494/2350)   Receiving objects:  22% (517/2350)   Receiving objects:  23% (541/2350)   Receiving objects:  24% (564/2350)   Receiving objects:  25% (588/2350)   Receiving objects:  26% (611/2350)   Receiving objects:  27% (635/2350)   Receiving objects:  28% (658/2350)   Receiving objects:  29% (682/2350)   Receiving objects:  30% (705/2350)   Receiving objects:  31% (729/2350)   Receiving objects:  32% (752/2350)   Receiving objects:  33% (776/2350)   Receiving objects:  34% (799/2350)   Receiving objects:  35% (823/2350)   Receiving objects:  36% (846/2350)   Receiving objects:  37% (870/2350)   Receiving objects:  38% (893/2350)   Receiving objects:  39% (917/2350)   Receiving objects:  40% (940/2350)   Receiving objects:  41% (964/2350)   Receiving objects:  42% (987/2350)   Receiving objects:  43% (1011/2350)   Receiving objects:  44% (1034/2350)   Receiving objects:  45% (1058/2350)   Receiving objects:  46% (1081/2350)   Receiving objects:  47% (1105/2350)   Receiving objects:  48% (1128/2350)   Receiving objects:  49% (1152/2350)   Receiving objects:  50% (1175/2350)   Receiving objects:  51% (1199/2350)   Receiving objects:  52% (1222/2350)   Receiving objects:  53% (1246/2350)   Receiving objects:  54% (1269/2350)   Receiving objects:  55% (1293/2350)   Receiving objects:  56% (1316/2350)   Receiving objects:  57% (1340/2350)   Receiving objects:  58% (1363/2350)   Receiving objects:  59% (1387/2350)   Receiving objects:  60% (1410/2350)   Receiving objects:  61% (1434/2350)   Receiving objects:  62% (1457/2350)   Receiving objects:  63% (1481/2350)   Receiving objects:  64% (1504/2350)   Receiving objects:  65% (1528/2350)   Receiving objects:  66% (1551/2350)   Receiving objects:  67% (1575/2350)   Receiving objects:  68% (1598/2350)   Receiving objects:  69% (1622/2350)   Receiving objects:  70% (1645/2350)   Receiving objects:  71% (1669/2350)   Receiving objects:  72% (1692/2350)   Receiving objects:  73% (1716/2350)   Receiving objects:  74% (1739/2350)   Receiving objects:  75% (1763/2350)   Receiving objects:  76% (1786/2350)   Receiving objects:  77% (1810/2350)   Receiving objects:  78% (1833/2350)   Receiving objects:  79% (1857/2350)   Receiving objects:  80% (1880/2350)   Receiving objects:  81% (1904/2350)   Receiving objects:  82% (1927/2350)   Receiving objects:  83% (1951/2350)   Receiving objects:  84% (1974/2350)   Receiving objects:  85% (1998/2350)   Receiving objects:  86% (2021/2350)   Receiving objects:  87% (2045/2350)   Receiving objects:  88% (2068/2350)   Receiving objects:  89% (2092/2350)   Receiving objects:  90% (2115/2350)   Receiving objects:  91% (2139/2350)   Receiving objects:  92% (2162/2350)   Receiving objects:  93% (2186/2350)   Receiving objects:  94% (2209/2350)   Receiving objects:  95% (2233/2350)   Receiving objects:  96% (2256/2350)   Receiving objects:  97% (2280/2350)   Receiving objects:  98% (2303/2350)   remote: Total 2350 (delta 1067), reused 2248 (delta 1047), pack-reused 0        
[2019-05-23T16:56:55.139Z] Receiving objects:  99% (2327/2350)   Receiving objects: 100% (2350/2350)   Receiving objects: 100% (2350/2350), 6.37 MiB | 0 bytes/s, done.
[2019-05-23T16:56:55.139Z] Resolving deltas:   0% (0/1067)   Resolving deltas:   1% (12/1067)   Resolving deltas:   2% (31/1067)   Resolving deltas:   3% (34/1067)   Resolving deltas:   4% (46/1067)   Resolving deltas:   5% (54/1067)   Resolving deltas:   6% (65/1067)   Resolving deltas:   7% (77/1067)   Resolving deltas:   8% (87/1067)   Resolving deltas:   9% (99/1067)   Resolving deltas:  10% (112/1067)   Resolving deltas:  11% (118/1067)   Resolving deltas:  13% (139/1067)   Resolving deltas:  14% (160/1067)   Resolving deltas:  15% (167/1067)   Resolving deltas:  16% (177/1067)   Resolving deltas:  17% (182/1067)   Resolving deltas:  19% (208/1067)   Resolving deltas:  20% (219/1067)   Resolving deltas:  21% (231/1067)   Resolving deltas:  22% (236/1067)   Resolving deltas:  23% (246/1067)   Resolving deltas:  24% (265/1067)   Resolving deltas:  25% (276/1067)   Resolving deltas:  26% (279/1067)   Resolving deltas:  27% (289/1067)   Resolving deltas:  28% (303/1067)   Resolving deltas:  29% (311/1067)   Resolving deltas:  30% (322/1067)   Resolving deltas:  31% (333/1067)   Resolving deltas:  32% (347/1067)   Resolving deltas:  33% (359/1067)   Resolving deltas:  34% (363/1067)   Resolving deltas:  36% (385/1067)   Resolving deltas:  41% (441/1067)   Resolving deltas:  42% (457/1067)   Resolving deltas:  43% (465/1067)   Resolving deltas:  45% (484/1067)   Resolving deltas:  46% (493/1067)   Resolving deltas:  47% (511/1067)   Resolving deltas:  48% (520/1067)   Resolving deltas:  52% (558/1067)   Resolving deltas:  53% (572/1067)   Resolving deltas:  54% (581/1067)   Resolving deltas:  55% (589/1067)   Resolving deltas:  56% (602/1067)   Resolving deltas:  57% (611/1067)   Resolving deltas:  58% (620/1067)   Resolving deltas:  59% (636/1067)   Resolving deltas:  60% (645/1067)   Resolving deltas:  61% (654/1067)   Resolving deltas:  64% (685/1067)   Resolving deltas:  65% (699/1067)   Resolving deltas:  66% (709/1067)   Resolving deltas:  67% (717/1067)   Resolving deltas:  68% (735/1067)   Resolving deltas:  69% (743/1067)   Resolving deltas:  70% (747/1067)   Resolving deltas:  71% (758/1067)   Resolving deltas:  73% (788/1067)   Resolving deltas:  74% (792/1067)   Resolving deltas:  75% (805/1067)   Resolving deltas:  76% (817/1067)   Resolving deltas:  77% (822/1067)   Resolving deltas:  78% (834/1067)   Resolving deltas:  79% (847/1067)   Resolving deltas:  80% (855/1067)   Resolving deltas:  81% (866/1067)   Resolving deltas:  82% (878/1067)   Resolving deltas:  83% (886/1067)   Resolving deltas:  84% (897/1067)   Resolving deltas:  85% (908/1067)   Resolving deltas:  86% (920/1067)   Resolving deltas:  87% (929/1067)   Resolving deltas:  88% (948/1067)   Resolving deltas:  89% (960/1067)   Resolving deltas:  90% (964/1067)   Resolving deltas:  91% (971/1067)   Resolving deltas:  92% (983/1067)   Resolving deltas:  93% (994/1067)   Resolving deltas:  94% (1013/1067)   Resolving deltas:  95% (1016/1067)   Resolving deltas:  96% (1026/1067)   Resolving deltas:  97% (1041/1067)   Resolving deltas:  98% (1046/1067)   Resolving deltas:  99% (1065/1067)   Resolving deltas: 100% (1067/1067)   Resolving deltas: 100% (1067/1067), done.
[2019-05-23T16:56:55.399Z] From https://github.com/elastic/docs
[2019-05-23T16:56:55.399Z]  * [new branch]      master     -> origin/master
[2019-05-23T16:56:55.399Z] + git checkout master
[2019-05-23T16:56:55.658Z] Already on 'master'
[2019-05-23T16:56:55.658Z] Branch master set up to track remote branch master from origin.
[2019-05-23T16:56:55.658Z] + git pull origin master
[2019-05-23T16:56:55.918Z] From https://github.com/elastic/docs
[2019-05-23T16:56:55.918Z]  * branch            master     -> FETCH_HEAD
[2019-05-23T16:56:55.918Z] Already up-to-date.
[2019-05-23T16:56:55.924Z] [Pipeline] }
[2019-05-23T16:56:55.939Z] [Pipeline] // dir
[2019-05-23T16:56:55.955Z] [Pipeline] withEnv
[2019-05-23T16:56:55.955Z] [Pipeline] {
[2019-05-23T16:56:55.970Z] [Pipeline] sh
[2019-05-23T16:56:56.276Z] + ./build_docs.sh docs
[2019-05-23T16:56:56.535Z] Building HTML from docs/index.asciidoc
[2019-05-23T16:57:23.105Z] Done
[2019-05-23T16:57:23.105Z] See: /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/docs/html/index.html
[2019-05-23T16:57:23.117Z] [Pipeline] }
[2019-05-23T16:57:23.128Z] [Pipeline] // withEnv
[2019-05-23T16:57:23.141Z] [Pipeline] isUnix
[2019-05-23T16:57:23.146Z] [Pipeline] sh
[2019-05-23T16:57:23.453Z] + cd docs
[2019-05-23T16:57:23.453Z] + tar -czf /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/doc-files.tgz html
[2019-05-23T16:57:23.725Z] [Pipeline] archiveArtifacts
[2019-05-23T16:57:23.731Z] Archiving artifacts
[2019-05-23T16:57:24.017Z] ‘doc-files.tgz’ doesn’t match anything
[2019-05-23T16:57:24.017Z] No artifacts found that match the file pattern "doc-files.tgz". Configuration error?
[2019-05-23T16:57:24.018Z] [Pipeline] }
[2019-05-23T16:57:24.031Z] [Pipeline] // dir
[2019-05-23T16:57:24.042Z] [Pipeline] }
[2019-05-23T16:57:24.053Z] [Pipeline] // withEnv
[2019-05-23T16:57:24.064Z] [Pipeline] }
[2019-05-23T16:57:24.077Z] [Pipeline] // node
[2019-05-23T16:57:24.089Z] [Pipeline] }
[2019-05-23T16:57:24.099Z] [Pipeline] // stage
[2019-05-23T16:57:24.117Z] [Pipeline] stage
[2019-05-23T16:57:24.119Z] [Pipeline] { (Check kibana Obj. Updated)
[2019-05-23T16:57:24.144Z] [Pipeline] node
[2019-05-23T16:57:25.535Z] Terminated
[2019-05-23T16:57:39.145Z] Still waiting to schedule task
[2019-05-23T16:57:39.145Z] All nodes of label ‘linux&&immutable’ are offline
[2019-05-23T16:58:15.509Z] Running on apm-ci-immutable-ubuntu-1604-1558630637791361717 in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:58:15.509Z] [Pipeline] {
[2019-05-23T16:58:15.547Z] [Pipeline] withEnv
[2019-05-23T16:58:15.548Z] [Pipeline] {
[2019-05-23T16:58:15.567Z] [Pipeline] deleteDir
[2019-05-23T16:58:15.688Z] [Pipeline] unstash
[2019-05-23T16:58:18.988Z] [Pipeline] dir
[2019-05-23T16:58:18.988Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server
[2019-05-23T16:58:18.989Z] [Pipeline] {
[2019-05-23T16:58:19.013Z] [Pipeline] sh
[2019-05-23T16:58:20.371Z] + ./script/jenkins/sync.sh
[2019-05-23T16:58:20.371Z] + source ./_beats/dev-tools/common.bash
[2019-05-23T16:58:20.371Z] ++++ dirname ./_beats/dev-tools/common.bash
[2019-05-23T16:58:20.371Z] +++ cd ./_beats/dev-tools
[2019-05-23T16:58:20.371Z] +++ pwd
[2019-05-23T16:58:20.371Z] ++ _sdir=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_beats/dev-tools
[2019-05-23T16:58:20.371Z] + jenkins_setup
[2019-05-23T16:58:20.371Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:58:20.371Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:58:20.371Z] + '[' -z 1.12.4 ']'
[2019-05-23T16:58:20.371Z] + export GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:58:20.371Z] + GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T16:58:20.371Z] + export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:58:20.371Z] + PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:58:20.371Z] ++ gvm 1.12.4
[2019-05-23T16:58:25.666Z] + eval 'export GOROOT="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64"
[2019-05-23T16:58:25.666Z] export PATH="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:$PATH"'
[2019-05-23T16:58:25.666Z] ++ export GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T16:58:25.666Z] ++ GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T16:58:25.666Z] ++ export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:58:25.666Z] ++ PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T16:58:25.666Z] ++ mktemp -d
[2019-05-23T16:58:25.666Z] + export TEMP_PYTHON_ENV=/tmp/tmp.KpUsi2SNyk
[2019-05-23T16:58:25.666Z] + TEMP_PYTHON_ENV=/tmp/tmp.KpUsi2SNyk
[2019-05-23T16:58:25.666Z] + export PYTHON_ENV=/tmp/tmp.KpUsi2SNyk/python-env
[2019-05-23T16:58:25.666Z] + PYTHON_ENV=/tmp/tmp.KpUsi2SNyk/python-env
[2019-05-23T16:58:25.666Z] + export MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T16:58:25.666Z] + MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T16:58:25.666Z] + trap cleanup EXIT
[2019-05-23T16:58:25.666Z] + make are-kibana-objects-updated
[2019-05-23T16:58:26.604Z] New python executable in /tmp/tmp.KpUsi2SNyk/python-env/bin/python
[2019-05-23T16:58:26.604Z] Installing setuptools, pip, wheel...
[2019-05-23T16:58:29.143Z] done.
[2019-05-23T16:58:29.143Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:58:29.719Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:58:37.841Z] ERROR: docker-compose 1.23.2 has requirement PyYAML<4,>=3.10, but you'll have pyyaml 4.2b1 which is incompatible.
[2019-05-23T16:58:38.101Z] make[1]: Entering directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:58:38.365Z] bash: mage: command not found
[2019-05-23T16:58:38.365Z] _beats/libbeat/scripts/Makefile:159: recipe for target 'clean' failed
[2019-05-23T16:58:38.365Z] make[1]: [clean] Error 127 (ignored)
[2019-05-23T16:58:38.627Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:58:39.198Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T16:58:40.585Z] Installing mage v1.8.0 from vendor dir.
[2019-05-23T16:58:41.526Z] /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile cleaned
[2019-05-23T16:58:53.774Z] Generated fields.yml for apm-server to /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/fields.yml
[2019-05-23T16:58:59.069Z] Generating NOTICE
[2019-05-23T16:58:59.069Z] Get the licenses available from ['./vendor']
[2019-05-23T16:58:59.069Z] WARNING: No version information found for: honnef.co/go/tools
[2019-05-23T16:58:59.069Z] WARNING: No version information found for: honnef.co/go/tools/lint
[2019-05-23T16:58:59.069Z] WARNING: No version information found for: honnef.co/go/tools/ssa
[2019-05-23T16:58:59.069Z] Available at /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/NOTICE.txt
[2019-05-23T16:58:59.069Z] Updating generated files for apm-server
[2019-05-23T16:58:59.069Z] cat: ./_beats/libbeat/_meta/config.yml: No such file or directory
[2019-05-23T16:58:59.069Z] ## The line below allows beats to add a post-processor script that alters the config in arbitrary ways
[2019-05-23T16:58:59.069Z] mkdir -p include
[2019-05-23T16:58:59.070Z] go run  ./_beats/dev-tools/cmd/asset/asset.go -license ASL2 -pkg include -in fields.yml -out include/fields.go apm-server
[2019-05-23T16:58:59.641Z] if [ -d /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana ]; then \
[2019-05-23T16:58:59.641Z] 	cp -pr /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana/* /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_meta/kibana.generated ; \
[2019-05-23T16:58:59.641Z] fi
[2019-05-23T16:59:01.027Z] go build -i -ldflags "-s -X github.com/elastic/apm-server/vendor/github.com/elastic/beats/libbeat/version.buildTime=2019-05-23T16:59:00Z -X github.com/elastic/apm-server/vendor/github.com/elastic/beats/libbeat/version.commit=8a2fd55f40dbcb279911e3f2237312baf1508019"
[2019-05-23T16:59:23.121Z] make[1]: Leaving directory '/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server'
[2019-05-23T16:59:25.659Z] ---- Comparing Generated Index Pattern with https://raw.githubusercontent.com/elastic/kibana/master/src/legacy/core_plugins/kibana/server/tutorials/apm/index_pattern.json
[2019-05-23T16:59:25.659Z] up-to-date
[2019-05-23T16:59:25.659Z] + cleanup
[2019-05-23T16:59:25.659Z] + rm -rf /tmp/tmp.KpUsi2SNyk
[2019-05-23T16:59:25.694Z] [Pipeline] }
[2019-05-23T16:59:25.713Z] [Pipeline] // dir
[2019-05-23T16:59:25.724Z] [Pipeline] }
[2019-05-23T16:59:25.734Z] [Pipeline] // withEnv
[2019-05-23T16:59:25.744Z] [Pipeline] }
[2019-05-23T16:59:25.755Z] [Pipeline] // node
[2019-05-23T16:59:25.768Z] [Pipeline] }
[2019-05-23T16:59:25.779Z] [Pipeline] // stage
[2019-05-23T16:59:25.795Z] [Pipeline] stage
[2019-05-23T16:59:25.797Z] [Pipeline] { (Release)
[2019-05-23T16:59:25.827Z] [Pipeline] node
[2019-05-23T16:59:40.827Z] Still waiting to schedule task
[2019-05-23T16:59:40.827Z] All nodes of label ‘linux&&immutable’ are offline
[2019-05-23T17:00:17.883Z] Running on apm-ci-immutable-ubuntu-1604-1558630759087721942 in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T17:00:17.883Z] [Pipeline] {
[2019-05-23T17:00:17.922Z] [Pipeline] withEnv
[2019-05-23T17:00:17.923Z] [Pipeline] {
[2019-05-23T17:00:18.023Z] [Pipeline] deleteDir
[2019-05-23T17:00:18.699Z] [Pipeline] unstash
[2019-05-23T17:00:24.528Z] [Pipeline] dir
[2019-05-23T17:00:24.528Z] Running in /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server
[2019-05-23T17:00:24.529Z] [Pipeline] {
[2019-05-23T17:00:24.546Z] [Pipeline] sh
[2019-05-23T17:00:25.911Z] + ./script/jenkins/package.sh
[2019-05-23T17:00:25.911Z] + ./_beats/dev-tools/jenkins_release.sh
[2019-05-23T17:00:25.911Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T17:00:25.911Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T17:00:25.911Z] ++ dirname ./_beats/dev-tools/jenkins_release.sh
[2019-05-23T17:00:25.911Z] + source ./_beats/dev-tools/common.bash
[2019-05-23T17:00:25.911Z] ++++ dirname ./_beats/dev-tools/common.bash
[2019-05-23T17:00:25.911Z] +++ cd ./_beats/dev-tools
[2019-05-23T17:00:25.911Z] +++ pwd
[2019-05-23T17:00:25.911Z] ++ _sdir=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/_beats/dev-tools
[2019-05-23T17:00:25.911Z] + jenkins_setup
[2019-05-23T17:00:25.911Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T17:00:25.911Z] + : /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T17:00:25.911Z] + '[' -z 1.12.4 ']'
[2019-05-23T17:00:25.911Z] + export GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T17:00:25.911Z] + GOPATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master
[2019-05-23T17:00:25.911Z] + export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T17:00:25.911Z] + PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T17:00:25.911Z] ++ gvm 1.12.4
[2019-05-23T17:00:32.510Z] + eval 'export GOROOT="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64"
[2019-05-23T17:00:32.510Z] export PATH="/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:$PATH"'
[2019-05-23T17:00:32.510Z] ++ export GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T17:00:32.510Z] ++ GOROOT=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64
[2019-05-23T17:00:32.510Z] ++ export PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T17:00:32.510Z] ++ PATH=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.gvm/versions/go1.12.4.linux.amd64/bin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/bin
[2019-05-23T17:00:32.510Z] ++ mktemp -d
[2019-05-23T17:00:32.510Z] + export TEMP_PYTHON_ENV=/tmp/tmp.bnS9ABlJ7P
[2019-05-23T17:00:32.510Z] + TEMP_PYTHON_ENV=/tmp/tmp.bnS9ABlJ7P
[2019-05-23T17:00:32.510Z] + export PYTHON_ENV=/tmp/tmp.bnS9ABlJ7P/python-env
[2019-05-23T17:00:32.510Z] + PYTHON_ENV=/tmp/tmp.bnS9ABlJ7P/python-env
[2019-05-23T17:00:32.510Z] + export MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T17:00:32.510Z] + MAGEFILE_CACHE=/var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile
[2019-05-23T17:00:32.510Z] + docker_setup
[2019-05-23T17:00:32.510Z] ++ uname
[2019-05-23T17:00:32.510Z] + OS=Linux
[2019-05-23T17:00:32.510Z] + case $OS in
[2019-05-23T17:00:32.510Z] + trap cleanup EXIT
[2019-05-23T17:00:32.510Z] + export SNAPSHOT=true
[2019-05-23T17:00:32.510Z] + SNAPSHOT=true
[2019-05-23T17:00:32.510Z] + export 'PLATFORMS=+linux/armv7 +linux/ppc64le +linux/s390x +linux/mips64'
[2019-05-23T17:00:32.510Z] + PLATFORMS='+linux/armv7 +linux/ppc64le +linux/s390x +linux/mips64'
[2019-05-23T17:00:32.510Z] + make release
[2019-05-23T17:00:32.510Z] Installing mage v1.8.0 from vendor dir.
[2019-05-23T17:00:33.083Z] /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/.magefile cleaned
[2019-05-23T17:00:51.248Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T17:00:51.510Z] DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.
[2019-05-23T17:00:59.665Z] ERROR: docker-compose 1.23.2 has requirement PyYAML<4,>=3.10, but you'll have pyyaml 4.2b1 which is incompatible.
[2019-05-23T17:01:02.204Z] Generated fields.yml for apm-server to /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server/fields.yml
[2019-05-23T17:01:08.800Z] cat: ./_beats/libbeat/_meta/config.yml: No such file or directory
[2019-05-23T17:01:14.089Z] >> buildGoDaemon: Building for linux/s390x
[2019-05-23T17:01:14.089Z] >> golangCrossBuild: Building for windows/amd64
[2019-05-23T17:01:14.089Z] >> golangCrossBuild: Building for darwin/amd64
[2019-05-23T17:01:14.089Z] >> golangCrossBuild: Building for linux/386
[2019-05-23T17:01:14.089Z] Unable to find image 'docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-main' locally
[2019-05-23T17:01:14.089Z] Unable to find image 'docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-s390x' locally
[2019-05-23T17:01:14.089Z] Unable to find image 'docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-main-debian7' locally
[2019-05-23T17:01:14.089Z] Unable to find image 'docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-darwin' locally
[2019-05-23T17:01:14.658Z] 1.12.4-main-debian7: Pulling from beats-dev/golang-crossbuild
[2019-05-23T17:01:14.658Z] 2b15b7abe8b3: Pulling fs layer
[2019-05-23T17:01:14.658Z] 7b868555b70f: Pulling fs layer
[2019-05-23T17:01:14.658Z] be1b70d18ab4: Pulling fs layer
[2019-05-23T17:01:14.658Z] cb6fe0ca2fc4: Pulling fs layer
[2019-05-23T17:01:14.658Z] da921f990206: Pulling fs layer
[2019-05-23T17:01:14.658Z] a5b4b820a4c9: Pulling fs layer
[2019-05-23T17:01:14.658Z] 5e0a6bd6d7f4: Pulling fs layer
[2019-05-23T17:01:14.658Z] 45c959808f79: Pulling fs layer
[2019-05-23T17:01:14.658Z] 0df4cc9c55d6: Pulling fs layer
[2019-05-23T17:01:14.658Z] c31d5c71a111: Pulling fs layer
[2019-05-23T17:01:14.658Z] da921f990206: Waiting
[2019-05-23T17:01:14.658Z] a5b4b820a4c9: Waiting
[2019-05-23T17:01:14.658Z] 5e0a6bd6d7f4: Waiting
[2019-05-23T17:01:14.658Z] 45c959808f79: Waiting
[2019-05-23T17:01:14.658Z] 0df4cc9c55d6: Waiting
[2019-05-23T17:01:14.658Z] c31d5c71a111: Waiting
[2019-05-23T17:01:14.658Z] cb6fe0ca2fc4: Waiting
[2019-05-23T17:01:14.658Z] 1.12.4-s390x: Pulling from beats-dev/golang-crossbuild
[2019-05-23T17:01:14.658Z] e79bb959ec00: Already exists
[2019-05-23T17:01:14.658Z] fcf52f6eff9b: Pulling fs layer
[2019-05-23T17:01:14.658Z] b355939086b2: Pulling fs layer
[2019-05-23T17:01:14.658Z] e9e71b2db037: Pulling fs layer
[2019-05-23T17:01:14.658Z] a5b4b820a4c9: Pulling fs layer
[2019-05-23T17:01:14.658Z] b0f2616eea82: Pulling fs layer
[2019-05-23T17:01:14.658Z] a9a86450b87a: Pulling fs layer
[2019-05-23T17:01:14.658Z] aefb499f3d88: Pulling fs layer
[2019-05-23T17:01:14.658Z] 599b074d3266: Pulling fs layer
[2019-05-23T17:01:14.658Z] b355939086b2: Waiting
[2019-05-23T17:01:14.658Z] a9a86450b87a: Waiting
[2019-05-23T17:01:14.658Z] e9e71b2db037: Waiting
[2019-05-23T17:01:14.658Z] aefb499f3d88: Waiting
[2019-05-23T17:01:14.658Z] a5b4b820a4c9: Waiting
[2019-05-23T17:01:14.658Z] 599b074d3266: Waiting
[2019-05-23T17:01:14.658Z] b0f2616eea82: Waiting
[2019-05-23T17:01:14.658Z] fcf52f6eff9b: Waiting
[2019-05-23T17:01:14.658Z] 1.12.4-darwin: Pulling from beats-dev/golang-crossbuild
[2019-05-23T17:01:14.658Z] e79bb959ec00: Already exists
[2019-05-23T17:01:14.658Z] fcf52f6eff9b: Pulling fs layer
[2019-05-23T17:01:14.658Z] b355939086b2: Pulling fs layer
[2019-05-23T17:01:14.658Z] e9e71b2db037: Pulling fs layer
[2019-05-23T17:01:14.658Z] a5b4b820a4c9: Pulling fs layer
[2019-05-23T17:01:14.658Z] b0f2616eea82: Pulling fs layer
[2019-05-23T17:01:14.658Z] a9a86450b87a: Pulling fs layer
[2019-05-23T17:01:14.658Z] 27431aa5229d: Pulling fs layer
[2019-05-23T17:01:14.658Z] 5e08016d3e15: Pulling fs layer
[2019-05-23T17:01:14.658Z] fcf52f6eff9b: Waiting
[2019-05-23T17:01:14.658Z] 2200cca49e0e: Pulling fs layer
[2019-05-23T17:01:14.658Z] b355939086b2: Waiting
[2019-05-23T17:01:14.658Z] e9e71b2db037: Waiting
[2019-05-23T17:01:14.658Z] a5b4b820a4c9: Waiting
[2019-05-23T17:01:14.658Z] b0f2616eea82: Waiting
[2019-05-23T17:01:14.658Z] 5e08016d3e15: Waiting
[2019-05-23T17:01:14.658Z] a9a86450b87a: Waiting
[2019-05-23T17:01:14.658Z] 2200cca49e0e: Waiting
[2019-05-23T17:01:14.658Z] 27431aa5229d: Waiting
[2019-05-23T17:01:14.658Z] 1.12.4-main: Pulling from beats-dev/golang-crossbuild
[2019-05-23T17:01:14.658Z] e79bb959ec00: Already exists
[2019-05-23T17:01:14.658Z] fcf52f6eff9b: Pulling fs layer
[2019-05-23T17:01:14.658Z] b355939086b2: Pulling fs layer
[2019-05-23T17:01:14.658Z] e9e71b2db037: Pulling fs layer
[2019-05-23T17:01:14.658Z] a5b4b820a4c9: Pulling fs layer
[2019-05-23T17:01:14.658Z] b0f2616eea82: Pulling fs layer
[2019-05-23T17:01:14.658Z] a9a86450b87a: Pulling fs layer
[2019-05-23T17:01:14.658Z] ad9229f69c5e: Pulling fs layer
[2019-05-23T17:01:14.658Z] c31d5c71a111: Pulling fs layer
[2019-05-23T17:01:14.658Z] e9e71b2db037: Waiting
[2019-05-23T17:01:14.658Z] fcf52f6eff9b: Waiting
[2019-05-23T17:01:14.658Z] a5b4b820a4c9: Waiting
[2019-05-23T17:01:14.658Z] b355939086b2: Waiting
[2019-05-23T17:01:14.658Z] b0f2616eea82: Waiting
[2019-05-23T17:01:14.659Z] a9a86450b87a: Waiting
[2019-05-23T17:01:14.659Z] c31d5c71a111: Waiting
[2019-05-23T17:01:14.659Z] ad9229f69c5e: Waiting
[2019-05-23T17:01:14.921Z] 7b868555b70f: Verifying Checksum
[2019-05-23T17:01:14.921Z] 7b868555b70f: Download complete
[2019-05-23T17:01:15.490Z] 2b15b7abe8b3: Verifying Checksum
[2019-05-23T17:01:15.490Z] 2b15b7abe8b3: Download complete
[2019-05-23T17:01:15.751Z] be1b70d18ab4: Verifying Checksum
[2019-05-23T17:01:15.751Z] be1b70d18ab4: Download complete
[2019-05-23T17:01:16.012Z] da921f990206: Verifying Checksum
[2019-05-23T17:01:16.012Z] da921f990206: Download complete
[2019-05-23T17:01:16.012Z] a5b4b820a4c9: Verifying Checksum
[2019-05-23T17:01:16.012Z] a5b4b820a4c9: Download complete
[2019-05-23T17:01:16.583Z] 45c959808f79: Verifying Checksum
[2019-05-23T17:01:16.583Z] 45c959808f79: Download complete
[2019-05-23T17:01:16.583Z] 5e0a6bd6d7f4: Download complete
[2019-05-23T17:01:16.845Z] c31d5c71a111: Verifying Checksum
[2019-05-23T17:01:16.845Z] c31d5c71a111: Download complete
[2019-05-23T17:01:17.417Z] cb6fe0ca2fc4: Download complete
[2019-05-23T17:01:18.367Z] 2b15b7abe8b3: Pull complete
[2019-05-23T17:01:18.367Z] 7b868555b70f: Pull complete
[2019-05-23T17:01:18.628Z] 0df4cc9c55d6: Verifying Checksum
[2019-05-23T17:01:18.628Z] 0df4cc9c55d6: Download complete
[2019-05-23T17:01:18.889Z] fcf52f6eff9b: fcf52f6eff9b: Verifying Checksum
[2019-05-23T17:01:18.889Z] Download complete
[2019-05-23T17:01:18.889Z] fcf52f6eff9b: Download complete
[2019-05-23T17:01:18.889Z] fcf52f6eff9b: Download complete
[2019-05-23T17:01:18.889Z] a5b4b820a4c9: Verifying Checksum
[2019-05-23T17:01:18.889Z] a5b4b820a4c9: Verifying Checksum
[2019-05-23T17:01:18.889Z] a5b4b820a4c9: Verifying Checksum
[2019-05-23T17:01:18.889Z] a5b4b820a4c9: Download complete
[2019-05-23T17:01:18.889Z] a5b4b820a4c9: Download complete
[2019-05-23T17:01:18.889Z] a5b4b820a4c9: Download complete
[2019-05-23T17:01:19.152Z] e9e71b2db037: Verifying Checksum
[2019-05-23T17:01:19.152Z] e9e71b2db037: Verifying Checksum
[2019-05-23T17:01:19.152Z] e9e71b2db037: Verifying Checksum
[2019-05-23T17:01:19.152Z] e9e71b2db037: Download complete
[2019-05-23T17:01:19.152Z] e9e71b2db037: Download complete
[2019-05-23T17:01:19.152Z] e9e71b2db037: Download complete
[2019-05-23T17:01:19.412Z] a9a86450b87a: Verifying Checksum
[2019-05-23T17:01:19.412Z] a9a86450b87a: Verifying Checksum
[2019-05-23T17:01:19.412Z] a9a86450b87a: a9a86450b87a: Verifying Checksum
[2019-05-23T17:01:19.412Z] Download complete
[2019-05-23T17:01:19.412Z] a9a86450b87a: Download complete
[2019-05-23T17:01:19.412Z] a9a86450b87a: Download complete
[2019-05-23T17:01:19.686Z] b0f2616eea82: Verifying Checksum
[2019-05-23T17:01:19.686Z] b0f2616eea82: Verifying Checksum
[2019-05-23T17:01:19.686Z] b0f2616eea82: Verifying Checksum
[2019-05-23T17:01:19.686Z] b0f2616eea82: Download complete
[2019-05-23T17:01:19.686Z] b0f2616eea82: Download complete
[2019-05-23T17:01:19.686Z] b0f2616eea82: Download complete
[2019-05-23T17:01:19.946Z] 599b074d3266: Verifying Checksum
[2019-05-23T17:01:19.946Z] 599b074d3266: Download complete
[2019-05-23T17:01:19.946Z] b355939086b2: Verifying Checksum
[2019-05-23T17:01:19.946Z] b355939086b2: Verifying Checksum
[2019-05-23T17:01:19.946Z] b355939086b2: Verifying Checksum
[2019-05-23T17:01:19.946Z] b355939086b2: Download complete
[2019-05-23T17:01:19.946Z] b355939086b2: Download complete
[2019-05-23T17:01:19.946Z] b355939086b2: Download complete
[2019-05-23T17:01:20.517Z] aefb499f3d88: Verifying Checksum
[2019-05-23T17:01:20.517Z] aefb499f3d88: Download complete
[2019-05-23T17:01:21.092Z] 2200cca49e0e: Verifying Checksum
[2019-05-23T17:01:21.092Z] 2200cca49e0e: Download complete
[2019-05-23T17:01:23.001Z] 5e08016d3e15: Verifying Checksum
[2019-05-23T17:01:23.001Z] 5e08016d3e15: Download complete
[2019-05-23T17:01:23.001Z] c31d5c71a111: Verifying Checksum
[2019-05-23T17:01:23.001Z] c31d5c71a111: Download complete
[2019-05-23T17:01:23.260Z] be1b70d18ab4: Pull complete
[2019-05-23T17:01:24.642Z] 27431aa5229d: Verifying Checksum
[2019-05-23T17:01:24.642Z] 27431aa5229d: Download complete
[2019-05-23T17:01:26.027Z] ad9229f69c5e: Verifying Checksum
[2019-05-23T17:01:26.027Z] ad9229f69c5e: Download complete
[2019-05-23T17:01:26.598Z] fcf52f6eff9b: fcf52f6eff9b: Pull complete
[2019-05-23T17:01:26.598Z] Pull complete
[2019-05-23T17:01:26.598Z] fcf52f6eff9b: Pull complete
[2019-05-23T17:01:31.902Z] cb6fe0ca2fc4: Pull complete
[2019-05-23T17:01:32.162Z] da921f990206: Pull complete
[2019-05-23T17:01:32.435Z] a5b4b820a4c9: Pull complete
[2019-05-23T17:01:33.374Z] b355939086b2: Pull complete
[2019-05-23T17:01:33.374Z] b355939086b2: Pull complete
[2019-05-23T17:01:33.374Z] b355939086b2: Pull complete
[2019-05-23T17:01:33.941Z] 5e0a6bd6d7f4: Pull complete
[2019-05-23T17:01:33.941Z] e9e71b2db037: e9e71b2db037: Pull complete
[2019-05-23T17:01:33.941Z] Pull complete
[2019-05-23T17:01:33.941Z] e9e71b2db037: Pull complete
[2019-05-23T17:01:33.941Z] 45c959808f79: Pull complete
[2019-05-23T17:01:34.200Z] a5b4b820a4c9: Pull complete
[2019-05-23T17:01:34.200Z] a5b4b820a4c9: Pull complete
[2019-05-23T17:01:34.200Z] a5b4b820a4c9: Pull complete
[2019-05-23T17:01:34.461Z] b0f2616eea82: Pull complete
[2019-05-23T17:01:34.461Z] b0f2616eea82: Pull complete
[2019-05-23T17:01:34.461Z] b0f2616eea82: Pull complete
[2019-05-23T17:01:35.030Z] a9a86450b87a: a9a86450b87a: Pull complete
[2019-05-23T17:01:35.030Z] Pull complete
[2019-05-23T17:01:35.030Z] a9a86450b87a: Pull complete
[2019-05-23T17:01:50.197Z] aefb499f3d88: Pull complete
[2019-05-23T17:01:50.197Z] 27431aa5229d: Pull complete
[2019-05-23T17:01:50.197Z] 0df4cc9c55d6: Pull complete
[2019-05-23T17:01:54.407Z] 599b074d3266: Pull complete
[2019-05-23T17:01:58.609Z] Digest: sha256:ec3de7546e186a1347de7b3b8ac93fd028728c25370889c3ed43d8f71824c9d5
[2019-05-23T17:01:58.609Z] c31d5c71a111: Pull complete
[2019-05-23T17:02:02.009Z] Status: Downloaded newer image for docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-s390x
[2019-05-23T17:02:02.269Z] Digest: sha256:0927e2f788c0db224d5d7fd371716c119140938b76a923ae85c2f4c28605135d
[2019-05-23T17:02:04.444Z] Status: Downloaded newer image for docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-main-debian7
[2019-05-23T17:02:04.705Z] ad9229f69c5e: Pull complete
[2019-05-23T17:02:14.703Z] c31d5c71a111: Pull complete
[2019-05-23T17:02:16.606Z] Digest: sha256:24dafce0dc1c30713bd16e4e8fa122ba2da8d8a18acf1b89a90e365b49c57756
[2019-05-23T17:02:18.514Z] Status: Downloaded newer image for docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-main
[2019-05-23T17:02:28.657Z] 5e08016d3e15: Pull complete
[2019-05-23T17:02:35.279Z] 2200cca49e0e: Pull complete
[2019-05-23T17:02:36.834Z] Digest: sha256:2beef02dd7e87f306d6896bc7cff58da371279ea1bc6f88758d13ba3bb8837ee
[2019-05-23T17:02:37.778Z] Status: Downloaded newer image for docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-darwin
[2019-05-23T17:03:59.254Z] >> Building using: cmd='build/mage-linux-amd64 golangCrossBuild', env=[CC=gcc, CXX=g++, GOARCH=386, GOARM=, GOOS=linux, PLATFORM_ID=linux-386]
[2019-05-23T17:03:59.254Z] >> Building using: cmd='build/mage-linux-amd64 buildGoDaemon', env=[CC=s390x-linux-gnu-gcc, CXX=s390x-linux-gnu-g++, GOARCH=s390x, GOARM=, GOOS=linux, PLATFORM_ID=linux-s390x]
[2019-05-23T17:03:59.254Z] >> Building using: cmd='build/mage-linux-amd64 golangCrossBuild', env=[CC=o64-clang, CXX=o64-clang++, GOARCH=amd64, GOARM=, GOOS=darwin, PLATFORM_ID=darwin-amd64]
[2019-05-23T17:03:59.255Z] >> Building using: cmd='build/mage-linux-amd64 golangCrossBuild', env=[CC=x86_64-w64-mingw32-gcc, CXX=x86_64-w64-mingw32-g++, GOARCH=amd64, GOARM=, GOOS=windows, PLATFORM_ID=windows-amd64]
[2019-05-23T17:03:59.255Z] /tmp/ccB0VFq7.o: In function `main':
[2019-05-23T17:03:59.255Z] god.c:(.text+0x392): warning: Using 'getgrnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:03:59.255Z] god.c:(.text+0x2fc): warning: Using 'getpwnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:03:59.538Z] >> golangCrossBuild: Building for linux/amd64
[2019-05-23T17:04:00.504Z] >> Building using: cmd='build/mage-linux-amd64 golangCrossBuild', env=[CC=gcc, CXX=g++, GOARCH=amd64, GOARM=, GOOS=linux, PLATFORM_ID=linux-amd64]
[2019-05-23T17:06:07.102Z] >> golangCrossBuild: Building for linux/armv7
[2019-05-23T17:06:07.102Z] Unable to find image 'docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-arm' locally
[2019-05-23T17:06:07.678Z] 1.12.4-arm: Pulling from beats-dev/golang-crossbuild
[2019-05-23T17:06:07.678Z] e79bb959ec00: Already exists
[2019-05-23T17:06:07.678Z] fcf52f6eff9b: Already exists
[2019-05-23T17:06:07.678Z] b355939086b2: Already exists
[2019-05-23T17:06:07.678Z] e9e71b2db037: Already exists
[2019-05-23T17:06:07.678Z] a5b4b820a4c9: Already exists
[2019-05-23T17:06:07.678Z] b0f2616eea82: Already exists
[2019-05-23T17:06:07.678Z] a9a86450b87a: Already exists
[2019-05-23T17:06:07.678Z] b8530b3356ff: Pulling fs layer
[2019-05-23T17:06:07.678Z] 60b67a4b5147: Pulling fs layer
[2019-05-23T17:06:07.940Z] 60b67a4b5147: Verifying Checksum
[2019-05-23T17:06:07.941Z] 60b67a4b5147: Download complete
[2019-05-23T17:06:10.505Z] b8530b3356ff: Verifying Checksum
[2019-05-23T17:06:10.505Z] b8530b3356ff: Download complete
[2019-05-23T17:06:25.450Z] b8530b3356ff: Pull complete
[2019-05-23T17:06:25.450Z] 60b67a4b5147: Pull complete
[2019-05-23T17:06:25.450Z] Digest: sha256:d9bec5348d83332dd6b3044c86221d3bc73b116d5e09bcb9964bdda60bc4e91a
[2019-05-23T17:06:25.450Z] Status: Downloaded newer image for docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-arm
[2019-05-23T17:06:27.397Z] >> Building using: cmd='build/mage-linux-amd64 golangCrossBuild', env=[CC=arm-linux-gnueabihf-gcc, CXX=arm-linux-gnueabihf-g++, GOARCH=arm, GOARM=7, GOOS=linux, PLATFORM_ID=linux-armv7]
[2019-05-23T17:06:59.532Z] >> golangCrossBuild: Building for windows/amd64
[2019-05-23T17:06:59.532Z] >> Building using: cmd='../../build/mage-linux-amd64 golangCrossBuild', env=[CC=x86_64-w64-mingw32-gcc, CXX=x86_64-w64-mingw32-g++, GOARCH=amd64, GOARM=, GOOS=windows, PLATFORM_ID=windows-amd64]
[2019-05-23T17:06:59.532Z] >> golangCrossBuild: Building for linux/mips64
[2019-05-23T17:06:59.532Z] Unable to find image 'docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-mips' locally
[2019-05-23T17:06:59.532Z] 1.12.4-mips: Pulling from beats-dev/golang-crossbuild
[2019-05-23T17:06:59.532Z] e79bb959ec00: Already exists
[2019-05-23T17:06:59.532Z] fcf52f6eff9b: Already exists
[2019-05-23T17:06:59.532Z] b355939086b2: Already exists
[2019-05-23T17:06:59.532Z] e9e71b2db037: Already exists
[2019-05-23T17:06:59.532Z] a5b4b820a4c9: Already exists
[2019-05-23T17:06:59.532Z] b0f2616eea82: Already exists
[2019-05-23T17:06:59.532Z] a9a86450b87a: Already exists
[2019-05-23T17:06:59.532Z] 0ab6d918bdbf: Pulling fs layer
[2019-05-23T17:06:59.532Z] adf145788ba0: Pulling fs layer
[2019-05-23T17:06:59.792Z] adf145788ba0: Verifying Checksum
[2019-05-23T17:06:59.793Z] adf145788ba0: Download complete
[2019-05-23T17:07:04.010Z] 0ab6d918bdbf: Verifying Checksum
[2019-05-23T17:07:04.010Z] 0ab6d918bdbf: Download complete
[2019-05-23T17:07:10.603Z] >> golangCrossBuild: Building for darwin/amd64
[2019-05-23T17:07:11.553Z] >> Building using: cmd='../../build/mage-linux-amd64 golangCrossBuild', env=[CC=o64-clang, CXX=o64-clang++, GOARCH=amd64, GOARM=, GOOS=darwin, PLATFORM_ID=darwin-amd64]
[2019-05-23T17:07:29.705Z] 0ab6d918bdbf: Pull complete
[2019-05-23T17:07:29.705Z] adf145788ba0: Pull complete
[2019-05-23T17:07:29.705Z] Digest: sha256:4ae7532c5108f8cabe5916b10f8fdacaac804d04025af1c1f60a0939fad87e9d
[2019-05-23T17:07:29.705Z] Status: Downloaded newer image for docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-mips
[2019-05-23T17:07:31.674Z] >> Building using: cmd='build/mage-linux-amd64 golangCrossBuild', env=[CC=mips64-linux-gnuabi64-gcc-6, CXX=mips64-linux-gnuabi64-g++-6, GOARCH=mips64, GOARM=, GOOS=linux, PLATFORM_ID=linux-mips64]
[2019-05-23T17:09:38.290Z] >> golangCrossBuild: Building for linux/386
[2019-05-23T17:09:38.290Z] >> Building using: cmd='../../build/mage-linux-amd64 golangCrossBuild', env=[CC=gcc, CXX=g++, GOARCH=386, GOARM=, GOOS=linux, PLATFORM_ID=linux-386]
[2019-05-23T17:09:56.424Z] >> golangCrossBuild: Building for linux/amd64
[2019-05-23T17:09:57.006Z] >> Building using: cmd='../../build/mage-linux-amd64 golangCrossBuild', env=[CC=gcc, CXX=g++, GOARCH=amd64, GOARM=, GOOS=linux, PLATFORM_ID=linux-amd64]
[2019-05-23T17:10:23.933Z] >> golangCrossBuild: Building for linux/armv7
[2019-05-23T17:10:23.933Z] >> Building using: cmd='../../build/mage-linux-amd64 golangCrossBuild', env=[CC=arm-linux-gnueabihf-gcc, CXX=arm-linux-gnueabihf-g++, GOARCH=arm, GOARM=7, GOOS=linux, PLATFORM_ID=linux-armv7]
[2019-05-23T17:10:36.183Z] >> golangCrossBuild: Building for linux/mips64
[2019-05-23T17:10:36.183Z] >> Building using: cmd='../../build/mage-linux-amd64 golangCrossBuild', env=[CC=mips64-linux-gnuabi64-gcc-6, CXX=mips64-linux-gnuabi64-g++-6, GOARCH=mips64, GOARM=, GOOS=linux, PLATFORM_ID=linux-mips64]
[2019-05-23T17:12:12.741Z] >> golangCrossBuild: Building for linux/ppc64le
[2019-05-23T17:12:12.741Z] Unable to find image 'docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-ppc' locally
[2019-05-23T17:12:12.741Z] 1.12.4-ppc: Pulling from beats-dev/golang-crossbuild
[2019-05-23T17:12:12.741Z] e79bb959ec00: Already exists
[2019-05-23T17:12:12.741Z] fcf52f6eff9b: Already exists
[2019-05-23T17:12:12.741Z] b355939086b2: Already exists
[2019-05-23T17:12:12.741Z] e9e71b2db037: Already exists
[2019-05-23T17:12:12.741Z] a5b4b820a4c9: Already exists
[2019-05-23T17:12:12.741Z] b0f2616eea82: Already exists
[2019-05-23T17:12:12.741Z] a9a86450b87a: Already exists
[2019-05-23T17:12:12.741Z] eb51b40539e3: Pulling fs layer
[2019-05-23T17:12:12.741Z] a16e635c9aaa: Pulling fs layer
[2019-05-23T17:12:12.741Z] a16e635c9aaa: Verifying Checksum
[2019-05-23T17:12:12.741Z] a16e635c9aaa: Download complete
[2019-05-23T17:12:12.741Z] eb51b40539e3: Verifying Checksum
[2019-05-23T17:12:12.741Z] eb51b40539e3: Download complete
[2019-05-23T17:12:14.658Z] eb51b40539e3: Pull complete
[2019-05-23T17:12:14.658Z] a16e635c9aaa: Pull complete
[2019-05-23T17:12:14.658Z] Digest: sha256:28d77e7c10ab969fa818e6cc575b5ea0f22bfe201e3bbbe2bc75f850db129c4e
[2019-05-23T17:12:14.658Z] Status: Downloaded newer image for docker.elastic.co/beats-dev/golang-crossbuild:1.12.4-ppc
[2019-05-23T17:12:17.961Z] >> Building using: cmd='../../build/mage-linux-amd64 golangCrossBuild', env=[CC=powerpc64le-linux-gnu-gcc, CXX=powerpc64le-linux-gnu-g++, GOARCH=ppc64le, GOARM=, GOOS=linux, PLATFORM_ID=linux-ppc64le]
[2019-05-23T17:12:20.509Z] >> golangCrossBuild: Building for linux/s390x
[2019-05-23T17:12:21.454Z] >> Building using: cmd='../../build/mage-linux-amd64 golangCrossBuild', env=[CC=s390x-linux-gnu-gcc, CXX=s390x-linux-gnu-g++, GOARCH=s390x, GOARM=, GOOS=linux, PLATFORM_ID=linux-s390x]
[2019-05-23T17:13:17.746Z] >> golangCrossBuild: Building for linux/s390x
[2019-05-23T17:13:17.747Z] >> Building using: cmd='build/mage-linux-amd64 golangCrossBuild', env=[CC=s390x-linux-gnu-gcc, CXX=s390x-linux-gnu-g++, GOARCH=s390x, GOARM=, GOOS=linux, PLATFORM_ID=linux-s390x]
[2019-05-23T17:13:32.669Z] >> buildGoDaemon: Building for linux/armv7
[2019-05-23T17:13:32.669Z] >> Building using: cmd='build/mage-linux-amd64 buildGoDaemon', env=[CC=arm-linux-gnueabihf-gcc, CXX=arm-linux-gnueabihf-g++, GOARCH=arm, GOARM=7, GOOS=linux, PLATFORM_ID=linux-armv7]
[2019-05-23T17:13:32.669Z] /tmp/ccvmVH2r.o: In function `main':
[2019-05-23T17:13:32.669Z] god.c:(.text+0x2a6): warning: Using 'getgrnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:13:32.669Z] god.c:(.text+0x252): warning: Using 'getpwnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:13:33.252Z] >> golangCrossBuild: Building for windows/386
[2019-05-23T17:13:34.204Z] >> Building using: cmd='../../build/mage-linux-amd64 golangCrossBuild', env=[CC=i686-w64-mingw32-gcc, CXX=i686-w64-mingw32-g++, GOARCH=386, GOARM=, GOOS=windows, PLATFORM_ID=windows-386]
[2019-05-23T17:15:25.756Z] >> buildGoDaemon: Building for linux/386
[2019-05-23T17:15:25.756Z] >> Building using: cmd='build/mage-linux-amd64 buildGoDaemon', env=[CC=gcc, CXX=g++, GOARCH=386, GOARM=, GOOS=linux, PLATFORM_ID=linux-386]
[2019-05-23T17:15:25.756Z] /tmp/ccFaeyQZ.o: In function `main':
[2019-05-23T17:15:25.756Z] god.c:(.text+0x2e0): warning: Using 'getgrnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:15:25.756Z] god.c:(.text+0x279): warning: Using 'getpwnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:15:25.756Z] >> buildGoDaemon: Building for linux/amd64
[2019-05-23T17:15:25.756Z] >> golangCrossBuild: Building for linux/ppc64le
[2019-05-23T17:15:25.756Z] >> Building using: cmd='build/mage-linux-amd64 buildGoDaemon', env=[CC=gcc, CXX=g++, GOARCH=amd64, GOARM=, GOOS=linux, PLATFORM_ID=linux-amd64]
[2019-05-23T17:15:25.756Z] >> Building using: cmd='build/mage-linux-amd64 golangCrossBuild', env=[CC=powerpc64le-linux-gnu-gcc, CXX=powerpc64le-linux-gnu-g++, GOARCH=ppc64le, GOARM=, GOOS=linux, PLATFORM_ID=linux-ppc64le]
[2019-05-23T17:15:25.756Z] /tmp/cc4sV2kN.o: In function `main':
[2019-05-23T17:15:25.756Z] god.c:(.text+0x2a6): warning: Using 'getgrnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:15:25.756Z] god.c:(.text+0x23e): warning: Using 'getpwnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:15:25.756Z] >> golangCrossBuild: Building for windows/386
[2019-05-23T17:15:25.756Z] >> Building using: cmd='build/mage-linux-amd64 golangCrossBuild', env=[CC=i686-w64-mingw32-gcc, CXX=i686-w64-mingw32-g++, GOARCH=386, GOARM=, GOOS=windows, PLATFORM_ID=windows-386]
[2019-05-23T17:16:12.516Z] >> buildGoDaemon: Building for linux/mips64
[2019-05-23T17:16:12.517Z] >> Building using: cmd='build/mage-linux-amd64 buildGoDaemon', env=[CC=mips64-linux-gnuabi64-gcc-6, CXX=mips64-linux-gnuabi64-g++-6, GOARCH=mips64, GOARM=, GOOS=linux, PLATFORM_ID=linux-mips64]
[2019-05-23T17:16:12.517Z] /tmp/ccc0Z5Bq.o: In function `main':
[2019-05-23T17:16:12.517Z] god.c:(.text+0x44c): warning: Using 'getgrnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:16:12.517Z] god.c:(.text+0x3a4): warning: Using 'getpwnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:16:12.517Z] >> buildGoDaemon: Building for linux/ppc64le
[2019-05-23T17:16:12.517Z] >> Building using: cmd='build/mage-linux-amd64 buildGoDaemon', env=[CC=powerpc64le-linux-gnu-gcc, CXX=powerpc64le-linux-gnu-g++, GOARCH=ppc64le, GOARM=, GOOS=linux, PLATFORM_ID=linux-ppc64le]
[2019-05-23T17:16:12.517Z] /tmp/cckZV3f3.o: In function `main':
[2019-05-23T17:16:12.517Z] god.c:(.text+0x3e0): warning: Using 'getgrnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:16:12.517Z] god.c:(.text+0x34c): warning: Using 'getpwnam' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
[2019-05-23T17:17:20.305Z] >> package: Building apm-server type=zip for platform=windows/amd64
[2019-05-23T17:17:20.305Z] >> package: Building apm-server-oss type=rpm for platform=linux/armv7
[2019-05-23T17:17:20.305Z] >> package: Building apm-server-oss type=tar.gz for platform=linux/amd64
[2019-05-23T17:17:20.305Z] >> package: Building apm-server-oss type=deb for platform=linux/386
[2019-05-23T17:17:20.305Z] >> package: Building apm-server-oss type=deb for platform=linux/amd64
[2019-05-23T17:17:20.305Z] Unable to find image 'docker.elastic.co/beats-dev/fpm:1.11.0' locally
[2019-05-23T17:17:20.305Z] 1.11.0: Pulling from beats-dev/fpm
[2019-05-23T17:17:20.305Z] 4547201971ce: Pulling fs layer
[2019-05-23T17:17:20.305Z] 56e9d8af8cb9: Pulling fs layer
[2019-05-23T17:17:20.305Z] b08d34ecd5a5: Pulling fs layer
[2019-05-23T17:17:20.305Z] 5de520e5cf1a: Pulling fs layer
[2019-05-23T17:17:20.305Z] 6330a5a010cd: Pulling fs layer
[2019-05-23T17:17:20.305Z] 6330a5a010cd: Waiting
[2019-05-23T17:17:20.305Z] 5de520e5cf1a: Waiting
[2019-05-23T17:17:20.305Z] b08d34ecd5a5: Verifying Checksum
[2019-05-23T17:17:20.305Z] b08d34ecd5a5: Download complete
[2019-05-23T17:17:20.305Z] 5de520e5cf1a: Download complete
[2019-05-23T17:17:20.305Z] Unable to find image 'docker.elastic.co/beats-dev/fpm:1.11.0' locally
[2019-05-23T17:17:20.305Z] 6330a5a010cd: Verifying Checksum
[2019-05-23T17:17:20.305Z] 6330a5a010cd: Download complete
[2019-05-23T17:17:20.305Z] 1.11.0: Pulling from beats-dev/fpm
[2019-05-23T17:17:20.305Z] 4547201971ce: Pulling fs layer
[2019-05-23T17:17:20.305Z] 56e9d8af8cb9: Pulling fs layer
[2019-05-23T17:17:20.305Z] b08d34ecd5a5: Pulling fs layer
[2019-05-23T17:17:20.305Z] 5de520e5cf1a: Pulling fs layer
[2019-05-23T17:17:20.305Z] 6330a5a010cd: Pulling fs layer
[2019-05-23T17:17:20.305Z] 6330a5a010cd: Download complete
[2019-05-23T17:17:20.305Z] b08d34ecd5a5: Download complete
[2019-05-23T17:17:20.305Z] 5de520e5cf1a: Download complete
[2019-05-23T17:17:20.568Z] >> package: Building apm-server-oss type=rpm for platform=linux/amd64
[2019-05-23T17:17:22.489Z] 4547201971ce: Verifying Checksum
[2019-05-23T17:17:22.489Z] 4547201971ce: Verifying Checksum
[2019-05-23T17:17:22.489Z] 4547201971ce: Download complete
[2019-05-23T17:17:22.489Z] 4547201971ce: Download complete
[2019-05-23T17:17:23.881Z] Unable to find image 'docker.elastic.co/beats-dev/fpm:1.11.0' locally
[2019-05-23T17:17:24.142Z] 1.11.0: Pulling from beats-dev/fpm
[2019-05-23T17:17:24.142Z] 4547201971ce: Pulling fs layer
[2019-05-23T17:17:24.142Z] 56e9d8af8cb9: Pulling fs layer
[2019-05-23T17:17:24.142Z] b08d34ecd5a5: Pulling fs layer
[2019-05-23T17:17:24.142Z] 5de520e5cf1a: Pulling fs layer
[2019-05-23T17:17:24.142Z] 6330a5a010cd: Pulling fs layer
[2019-05-23T17:17:24.142Z] 6330a5a010cd: Download complete
[2019-05-23T17:17:24.142Z] b08d34ecd5a5: Download complete
[2019-05-23T17:17:24.142Z] 5de520e5cf1a: Download complete
[2019-05-23T17:17:24.716Z] 4547201971ce: 4547201971ce: Pull complete
[2019-05-23T17:17:24.716Z] Pull complete
[2019-05-23T17:17:24.716Z] 4547201971ce: Pull complete
[2019-05-23T17:17:25.659Z] 56e9d8af8cb9: Verifying Checksum
[2019-05-23T17:17:25.659Z] 56e9d8af8cb9: Download complete
[2019-05-23T17:17:25.659Z] 56e9d8af8cb9: Verifying Checksum
[2019-05-23T17:17:25.659Z] 56e9d8af8cb9: Download complete
[2019-05-23T17:17:25.659Z] 56e9d8af8cb9: Download complete
[2019-05-23T17:17:25.659Z] Unable to find image 'docker.elastic.co/beats-dev/fpm:1.11.0' locally
[2019-05-23T17:17:26.232Z] 1.11.0: Pulling from beats-dev/fpm
[2019-05-23T17:17:26.232Z] 4547201971ce: Already exists
[2019-05-23T17:17:26.232Z] 56e9d8af8cb9: Pulling fs layer
[2019-05-23T17:17:26.232Z] b08d34ecd5a5: Pulling fs layer
[2019-05-23T17:17:26.232Z] 5de520e5cf1a: Pulling fs layer
[2019-05-23T17:17:26.232Z] 6330a5a010cd: Pulling fs layer
[2019-05-23T17:17:26.232Z] 6330a5a010cd: Download complete
[2019-05-23T17:17:26.232Z] b08d34ecd5a5: Download complete
[2019-05-23T17:17:26.232Z] 5de520e5cf1a: Download complete
[2019-05-23T17:17:29.542Z] 56e9d8af8cb9: 56e9d8af8cb9: 56e9d8af8cb9: Pull complete
[2019-05-23T17:17:29.542Z] Pull complete
[2019-05-23T17:17:29.542Z] Pull complete
[2019-05-23T17:17:29.542Z] 56e9d8af8cb9: Pull complete
[2019-05-23T17:17:29.804Z] b08d34ecd5a5: b08d34ecd5a5: Pull complete
[2019-05-23T17:17:29.804Z] Pull complete
[2019-05-23T17:17:29.804Z] b08d34ecd5a5: Pull complete
[2019-05-23T17:17:29.804Z] b08d34ecd5a5: Pull complete
[2019-05-23T17:17:30.750Z] 5de520e5cf1a: 5de520e5cf1a: 5de520e5cf1a: Pull complete
[2019-05-23T17:17:30.750Z] Pull complete
[2019-05-23T17:17:30.750Z] Pull complete
[2019-05-23T17:17:30.750Z] 5de520e5cf1a: Pull complete
[2019-05-23T17:17:30.750Z] 6330a5a010cd: 6330a5a010cd: 6330a5a010cd: Pull complete
[2019-05-23T17:17:30.750Z] Pull complete
[2019-05-23T17:17:30.750Z] Pull complete
[2019-05-23T17:17:30.750Z] 6330a5a010cd: Pull complete
[2019-05-23T17:17:30.750Z] Digest: sha256:4186cc7d3bceae255de54a41c142bca7587b6b5496e05baec8076baa84e291a6
[2019-05-23T17:17:30.750Z] Digest: sha256:4186cc7d3bceae255de54a41c142bca7587b6b5496e05baec8076baa84e291a6
[2019-05-23T17:17:30.750Z] Status: Image is up to date for docker.elastic.co/beats-dev/fpm:1.11.0
[2019-05-23T17:17:30.750Z] Digest: sha256:4186cc7d3bceae255de54a41c142bca7587b6b5496e05baec8076baa84e291a6
[2019-05-23T17:17:30.750Z] Status: Image is up to date for docker.elastic.co/beats-dev/fpm:1.11.0
[2019-05-23T17:17:30.750Z] Status: Downloaded newer image for docker.elastic.co/beats-dev/fpm:1.11.0
[2019-05-23T17:17:30.750Z] Digest: sha256:4186cc7d3bceae255de54a41c142bca7587b6b5496e05baec8076baa84e291a6
[2019-05-23T17:17:30.750Z] Status: Image is up to date for docker.elastic.co/beats-dev/fpm:1.11.0
[2019-05-23T17:17:43.031Z] >> package: Building apm-server-oss type=docker for platform=linux/amd64
[2019-05-23T17:17:43.606Z] >> package: Building apm-server type=tar.gz for platform=linux/amd64
[2019-05-23T17:17:43.606Z] >> package: Building apm-server type=deb for platform=linux/amd64
[2019-05-23T17:17:53.667Z] >> package: Building apm-server type=rpm for platform=linux/amd64
[2019-05-23T17:17:59.172Z] >> package: Building apm-server type=docker for platform=linux/amd64
[2019-05-23T17:18:07.333Z] >> package: Building apm-server-oss type=tar.gz for platform=linux/armv7
[2019-05-23T17:18:10.642Z] >> package: Building apm-server-oss type=deb for platform=linux/armv7
[2019-05-23T17:18:37.233Z] >> package: Building apm-server type=tar.gz for platform=linux/386
[2019-05-23T17:18:38.188Z] >> package: Building apm-server-oss type=rpm for platform=linux/386
[2019-05-23T17:18:44.796Z] >> package: Building apm-server type=deb for platform=linux/386
[2019-05-23T17:18:50.378Z] >> package: Building apm-server type=deb for platform=linux/ppc64le
[2019-05-23T17:18:50.378Z] /var/lib/gems/2.3.0/gems/stud-0.0.23/lib/stud/temporary.rb:47:in `mkdir': No space left on device @ dir_s_mkdir - /tmp/package-tar-staging-581b462c60f1282171474f8e1fa93be3f44d487c12f3375ce4a8408c0172 (Errno::ENOSPC)
[2019-05-23T17:18:50.378Z] 	from /var/lib/gems/2.3.0/gems/stud-0.0.23/lib/stud/temporary.rb:47:in `directory'
[2019-05-23T17:18:50.378Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/package.rb:257:in `staging_path'
[2019-05-23T17:18:50.378Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/package.rb:283:in `cleanup_staging'
[2019-05-23T17:18:50.378Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/package.rb:278:in `cleanup'
[2019-05-23T17:18:50.378Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/command.rb:519:in `ensure in execute'
[2019-05-23T17:18:50.378Z] 	from >> package: Building apm-server type=tar.gz for platform=linux/armv7
[2019-05-23T17:18:51.767Z] >> package: Building apm-server type=deb for platform=linux/armv7
[2019-05-23T17:18:51.767Z] >> package: Building apm-server type=rpm for platform=linux/armv7
[2019-05-23T17:18:51.767Z] >> package: Building apm-server-oss type=tar.gz for platform=linux/mips64
[2019-05-23T17:18:51.767Z] >> package: Building apm-server type=tar.gz for platform=linux/mips64
[2019-05-23T17:18:52.341Z] >> package: Building apm-server-oss type=tar.gz for platform=linux/ppc64le
[2019-05-23T17:18:52.341Z] >> package: Building apm-server-oss type=deb for platform=linux/ppc64le
[2019-05-23T17:18:52.341Z] >> package: Building apm-server-oss type=rpm for platform=linux/ppc64le
[2019-05-23T17:18:52.341Z] >> package: Building apm-server type=tar.gz for platform=linux/ppc64le
[2019-05-23T17:18:52.602Z] >> package: Building apm-server type=rpm for platform=linux/386
[2019-05-23T17:18:52.602Z] >> package: Building apm-server type=tar.gz for platform=linux/s390x
[2019-05-23T17:18:52.602Z] >> package: Building apm-server type=rpm for platform=linux/ppc64le
[2019-05-23T17:18:52.602Z] >> package: Building apm-server-oss type=tar.gz for platform=linux/s390x
[2019-05-23T17:18:52.878Z] >> package: Building apm-server-oss type=deb for platform=linux/s390x
[2019-05-23T17:18:53.140Z] >> package: Building apm-server-oss type=rpm for platform=linux/s390x
[2019-05-23T17:18:53.140Z] >> package: Building apm-server-oss type=zip for platform=windows/386
[2019-05-23T17:18:53.140Z] docker: Error response from daemon: mkdir /var/lib/docker/overlay2/9da5ee8da1941f9a90fede360314c7359c580d376fe540da89b651f46cf44d90: no space left on device.
[2019-05-23T17:18:53.140Z] See 'docker run --help'.
[2019-05-23T17:18:53.140Z] >> package: Building apm-server type=deb for platform=linux/s390x
[2019-05-23T17:18:53.140Z] mkdir /var/lib/docker/overlay2/aca4fe15bd4bfcf015bfdc3f7f5e3d03a1206184106a063d8460b066f264a3a2/merged: no space left on device
[2019-05-23T17:18:53.140Z] >> package: Building apm-server type=rpm for platform=linux/s390x
[2019-05-23T17:18:56.442Z] >> package: Building apm-server-oss type=tar.gz for platform=darwin/amd64
[2019-05-23T17:19:00.662Z] >> package: Building apm-server type=zip for platform=windows/386
[2019-05-23T17:19:02.605Z] /var/lib/gems/2.3.0/gems/stud-0.0.23/lib/stud/temporary.rb:47:in `mkdir': No space left on device @ dir_s_mkdir - /tmp/package-tar-staging-1f65013e310a1540be6ca53db84e67fe1b7f451b264836bf64b64e325cb4 (Errno::ENOSPC)
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/stud-0.0.23/lib/stud/temporary.rb:47:in `directory'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/package.rb:257:in `staging_path'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/package.rb:283:in `cleanup_staging'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/package.rb:278:in `cleanup'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/command.rb:519:in `ensure in execute'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/command.rb:520:in `execute'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/clamp-1.0.1/lib/clamp/command.rb:68:in `run'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/command.rb:574:in `run'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/clamp-1.0.1/lib/clamp/command.rb:133:in `run'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/bin/fpm:7:in `<top (required)>'
[2019-05-23T17:19:02.605Z] 	from /usr/local/bin/fpm:22:in `load'
[2019-05-23T17:19:02.605Z] 	from /usr/local/bin/fpm:22:in `<main>'
[2019-05-23T17:19:02.605Z] /var/lib/gems/2.3.0/gems/stud-0.0.23/lib/stud/temporary.rb:47:in `mkdir': No space left on device @ dir_s_mkdir - /tmp/package-tar-staging-28e0a3a111c2bee0f2c917132d2f37e4fd628e4010303d0056ee92959c53 (Errno::ENOSPC)
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/stud-0.0.23/lib/stud/temporary.rb:47:in `directory'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/package.rb:257:in `staging_path'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/package.rb:283:in `cleanup_staging'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/package.rb:278:in `cleanup'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/command.rb:519:in `ensure in execute'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/command.rb:520:in `execute'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/clamp-1.0.1/lib/clamp/command.rb:68:in `run'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/lib/fpm/command.rb:574:in `run'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/clamp-1.0.1/lib/clamp/command.rb:133:in `run'
[2019-05-23T17:19:02.605Z] 	from /var/lib/gems/2.3.0/gems/fpm-1.11.0/bin/fpm:7:in `<top (required)>'
[2019-05-23T17:19:02.605Z] 	from /usr/local/bin/fpm:22:in `load'
[2019-05-23T17:19:02.605Z] 	from /usr/local/bin/fpm:22:in `<main>'
[2019-05-23T17:19:02.874Z] /var/lib/gems/2.3.0/gems/stud-0.0.23/lib/stud/temporary.rb:47:in `mkdir': No space left on device @ dir_s_mkdir - /tmp/package-tar-staging-6be31448638936b689a04508a783df37447acae91f89cd441767674bb1ff (Errno::ENOS>> package: Building apm-server-oss type=zip for platform=windows/amd64
[2019-05-23T17:19:03.137Z] >> package: Building apm-server-oss type=tar.gz for platform=linux/386
[2019-05-23T17:19:07.355Z] package ran for 18m20.307013954s
[2019-05-23T17:19:07.356Z] Error: failed building apm-server-oss type=docker for platform=linux/amd64: failed to save docker as artifact: write build/distributions/apm-server-oss-8.0.0-SNAPSHOT-linux-amd64.docker.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server-oss type=rpm for platform=linux/386: failed while running FPM in docker: running "docker run -e EXEC_UID=1134 -e EXEC_GID=1135 --rm -w /app -v /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server:/app docker.elastic.co/beats-dev/fpm:1.11.0 fpm --force --input-type tar --output-type rpm --name apm-server --architecture i686 --version 8.0.0 --vendor Elastic --license ASL-2.0 --description Elastic APM Server --url https://www.elastic.co/solutions/apm --before-install build/package/apm-server-oss-linux-386.rpm/scripts/pre-install.sh --after-install build/package/apm-server-oss-linux-386.rpm/scripts/deb-post-install.sh --config-files /etc/apm-server/apm-server.yml --rpm-attr 0600,apm-server,apm-server:/etc/apm-server/apm-server.yml --rpm-attr 0750,apm-server,apm-server:/var/lib/apm-server --rpm-attr 0750,apm-server,apm-server:/var/log/apm-server -p build/distributions/apm-server-oss-8.0.0-SNAPSHOT-i686.rpm build/distributions/tmp-rpm-apm-server-8.0.0-SNAPSHOT-linux-i686-1560647185.tar.gz" failed with exit code 1
[2019-05-23T17:19:07.356Z] failed building apm-server type=tar.gz for platform=linux/armv7: write build/distributions/apm-server-8.0.0-SNAPSHOT-linux-armv7.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server type=deb for platform=linux/ppc64le: write build/distributions/tmp-deb-apm-server-8.0.0-SNAPSHOT-linux-ppc64el-1639070413.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server type=rpm for platform=linux/armv7: write build/distributions/tmp-rpm-apm-server-8.0.0-SNAPSHOT-linux-armhfp-4319457081.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server type=deb for platform=linux/armv7: write build/distributions/tmp-deb-apm-server-8.0.0-SNAPSHOT-linux-armhf-5742021669.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server type=tar.gz for platform=linux/mips64: write build/distributions/apm-server-8.0.0-SNAPSHOT-linux-mips64.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server-oss type=tar.gz for platform=linux/mips64: write build/distributions/apm-server-oss-8.0.0-SNAPSHOT-linux-mips64.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server-oss type=deb for platform=linux/ppc64le: write build/distributions/tmp-deb-apm-server-8.0.0-SNAPSHOT-linux-ppc64el-9890607386.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server-oss type=tar.gz for platform=linux/ppc64le: write build/distributions/apm-server-oss-8.0.0-SNAPSHOT-linux-ppc64le.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server-oss type=rpm for platform=linux/ppc64le: write build/distributions/tmp-rpm-apm-server-8.0.0-SNAPSHOT-linux-ppc64le-7932409250.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server type=tar.gz for platform=linux/ppc64le: write build/distributions/apm-server-8.0.0-SNAPSHOT-linux-ppc64le.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server type=rpm for platform=linux/386: write build/distributions/tmp-rpm-apm-server-8.0.0-SNAPSHOT-linux-i686-8030586537.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server type=rpm for platform=linux/ppc64le: write build/distributions/tmp-rpm-apm-server-8.0.0-SNAPSHOT-linux-ppc64le-1783850696.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server type=tar.gz for platform=linux/s390x: write build/distributions/apm-server-8.0.0-SNAPSHOT-linux-s390x.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server-oss type=deb for platform=linux/s390x: write build/distributions/tmp-deb-apm-server-8.0.0-SNAPSHOT-linux-s390x-1072002492.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server-oss type=tar.gz for platform=linux/s390x: write build/distributions/apm-server-oss-8.0.0-SNAPSHOT-linux-s390x.tar.gz: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server type=deb for platform=linux/386: failed while running FPM in docker: running "docker run -e EXEC_UID=1134 -e EXEC_GID=1135 --rm -w /app -v /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server:/app docker.elastic.co/beats-dev/fpm:1.11.0 fpm --force --input-type tar --output-type deb --name apm-server --architecture i386 --version 8.0.0 --vendor Elastic --license Elastic-License --description Elastic APM Server --url https://www.elastic.co/solutions/apm --before-install build/package/apm-server-linux-386.deb/scripts/pre-install.sh --after-install build/package/apm-server-linux-386.deb/scripts/deb-post-install.sh --config-files /etc/apm-server/apm-server.yml --rpm-attr 0600,apm-server,apm-server:/etc/apm-server/apm-server.yml --rpm-attr 0750,apm-server,apm-server:/var/log/apm-server --rpm-attr 0750,apm-server,apm-server:/var/lib/apm-server -p build/distributions/apm-server-8.0.0-SNAPSHOT-i386.deb build/distributions/tmp-deb-apm-server-8.0.0-SNAPSHOT-linux-i386-1272765718.tar.gz" failed with exit code 125
[2019-05-23T17:19:07.356Z] failed building apm-server type=docker for platform=linux/amd64: failed to build docker: running "docker build -t docker.elastic.co/apm/apm-server:8.0.0-SNAPSHOT build/package/apm-server-linux-amd64.docker/docker-build" failed with exit code 1
[2019-05-23T17:19:07.356Z] failed building apm-server type=zip for platform=windows/386: failed to write zip file: write build/distributions/apm-server-8.0.0-SNAPSHOT-windows-x86.zip: no space left on device
[2019-05-23T17:19:07.356Z] failed building apm-server type=deb for platform=linux/s390x: failed while running FPM in docker: running "docker run -e EXEC_UID=1134 -e EXEC_GID=1135 --rm -w /app -v /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server:/app docker.elastic.co/beats-dev/fpm:1.11.0 fpm --force --input-type tar --output-type deb --name apm-server --architecture s390x --version 8.0.0 --vendor Elastic --license Elastic-License --description Elastic APM Server --url https://www.elastic.co/solutions/apm --before-install build/package/apm-server-linux-s390x.deb/scripts/pre-install.sh --after-install build/package/apm-server-linux-s390x.deb/scripts/deb-post-install.sh --rpm-attr 0750,apm-server,apm-server:/var/log/apm-server --config-files /etc/apm-server/apm-server.yml --rpm-attr 0600,apm-server,apm-server:/etc/apm-server/apm-server.yml --rpm-attr 0750,apm-server,apm-server:/var/lib/apm-server -p build/distributions/apm-server-8.0.0-SNAPSHOT-s390x.deb build/distributions/tmp-deb-apm-server-8.0.0-SNAPSHOT-linux-s390x-1742478796.tar.gz" failed with exit code 1
[2019-05-23T17:19:07.356Z] failed building apm-server-oss type=rpm for platform=linux/s390x: failed while running FPM in docker: running "docker run -e EXEC_UID=1134 -e EXEC_GID=1135 --rm -w /app -v /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server:/app docker.elastic.co/beats-dev/fpm:1.11.0 fpm --force --input-type tar --output-type rpm --name apm-server --architecture s390x --version 8.0.0 --vendor Elastic --license ASL-2.0 --description Elastic APM Server --url https://www.elastic.co/solutions/apm --before-install build/package/apm-server-oss-linux-s390x.rpm/scripts/pre-install.sh --after-install build/package/apm-server-oss-linux-s390x.rpm/scripts/deb-post-install.sh --config-files /etc/apm-server/apm-server.yml --rpm-attr 0600,apm-server,apm-server:/etc/apm-server/apm-server.yml --rpm-attr 0750,apm-server,apm-server:/var/lib/apm-server --rpm-attr 0750,apm-server,apm-server:/var/log/apm-server -p build/distributions/apm-server-oss-8.0.0-SNAPSHOT-s390x.rpm build/distributions/tmp-rpm-apm-server-8.0.0-SNAPSHOT-linux-s390x-2181250989.tar.gz" failed with exit code 1
[2019-05-23T17:19:07.356Z] failed building apm-server type=rpm for platform=linux/s390x: failed while running FPM in docker: running "docker run -e EXEC_UID=1134 -e EXEC_GID=1135 --rm -w /app -v /var/lib/jenkins/workspace/apm-server_apm-server-mbp_master/src/github.com/elastic/apm-server:/app docker.elastic.co/beats-dev/fpm:1.11.0 fpm --force --input-type tar --output-type rpm --name apm-server --architecture s390x --version 8.0.0 --vendor Elastic --license Elastic-License --description Elastic APM Server --url https://www.elastic.co/solutions/apm --before-install build/package/apm-server-linux-s390x.rpm/scripts/pre-install.sh --after-install build/package/apm-server-linux-s390x.rpm/scripts/deb-post-install.sh --config-files /etc/apm-server/apm-server.yml --rpm-attr 0600,apm-server,apm-server:/etc/apm-server/apm-server.yml --rpm-attr 0750,apm-server,apm-server:/var/lib/apm-server --rpm-attr 0750,apm-server,apm-server:/var/log/apm-server -p build/distributions/apm-server-8.0.0-SNAPSHOT-s390x.rpm build/distributions/tmp-rpm-apm-server-8.0.0-SNAPSHOT-linux-s390x-1654678365.tar.gz" failed with exit code 1
[2019-05-23T17:19:07.356Z] _beats/libbeat/scripts/Makefile:461: recipe for target 'release' failed
[2019-05-23T17:19:07.356Z] make: *** [release] Error 1
[2019-05-23T17:19:07.356Z] + cleanup
[2019-05-23T17:19:07.356Z] + echo 'Running cleanup...'
[2019-05-23T17:19:07.356Z] Running cleanup...
[2019-05-23T17:19:07.356Z] + rm -rf /tmp/tmp.bnS9ABlJ7P
[2019-05-23T17:19:07.356Z] + docker info
[2019-05-23T17:19:07.356Z] WARNING: No swap limit support
[2019-05-23T17:19:07.356Z] + echo 'Killing all running containers...'
[2019-05-23T17:19:07.356Z] Killing all running containers...
[2019-05-23T17:19:07.356Z] ++ docker ps -q
[2019-05-23T17:19:07.356Z] + ids=648e2c8456b9
[2019-05-23T17:19:07.356Z] + '[' -n 648e2c8456b9 ']'
[2019-05-23T17:19:07.356Z] + docker kill 648e2c8456b9
[2019-05-23T17:19:07.356Z] Error response from daemon: Cannot kill container: 648e2c8456b9: Container 648e2c8456b9e912ae7fffe1da6ea4457eed7050ec8e7e6ac3a0daa95c835807 is not running
[2019-05-23T17:19:07.408Z] [Pipeline] }
[2019-05-23T17:19:07.447Z] [Pipeline] // dir
[2019-05-23T17:19:07.462Z] [Pipeline] }
[2019-05-23T17:19:07.475Z] [Pipeline] // withEnv
[2019-05-23T17:19:07.487Z] [Pipeline] }
[2019-05-23T17:19:07.500Z] [Pipeline] // node
[2019-05-23T17:19:07.514Z] [Pipeline] }
[2019-05-23T17:19:07.527Z] [Pipeline] // stage
[2019-05-23T17:19:07.547Z] [Pipeline] stage
[2019-05-23T17:19:07.551Z] [Pipeline] { (Declarative: Post Actions)
[2019-05-23T17:19:07.584Z] [Pipeline] echo
[2019-05-23T17:19:07.584Z] [FAILURE]
[2019-05-23T17:19:07.593Z] [Pipeline] step
[2019-05-23T17:19:07.602Z] Sending e-mails to: ****
[2019-05-23T17:19:08.742Z] [Pipeline] }
[2019-05-23T17:19:08.763Z] [Pipeline] // stage
[2019-05-23T17:19:08.778Z] [Pipeline] }
[2019-05-23T17:19:08.789Z] [Pipeline] // ansiColor
[2019-05-23T17:19:08.805Z] [Pipeline] }
[2019-05-23T17:19:08.815Z] [Pipeline] // timestamps
[2019-05-23T17:19:08.830Z] [Pipeline] }
[2019-05-23T17:19:08.843Z] [Pipeline] // timeout
[2019-05-23T17:19:08.858Z] [Pipeline] }
[2019-05-23T17:19:08.874Z] [Pipeline] // withEnv
[2019-05-23T17:19:08.890Z] [Pipeline] }
[2019-05-23T17:19:08.903Z] [Pipeline] // withCredentials
[2019-05-23T17:19:08.915Z] [Pipeline] }
[2019-05-23T17:19:08.930Z] [Pipeline] // withEnv
[2019-05-23T17:19:08.947Z] [Pipeline] }
[2019-05-23T17:19:08.967Z] [Pipeline] // node
[2019-05-23T17:19:08.990Z] [Pipeline] End of Pipeline
[2019-05-23T17:19:10.665Z] 
[2019-05-23T17:19:10.665Z] GitHub has been notified of this commit’s build result
[2019-05-23T17:19:10.665Z] 
[2019-05-23T17:19:10.665Z] ERROR: script returned exit code 1
[2019-05-23T17:19:10.665Z] Finished: FAILURE
